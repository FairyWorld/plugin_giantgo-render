var Kw=Object.defineProperty,Gw=Object.defineProperties;var Yw=Object.getOwnPropertyDescriptors;var Zu=Object.getOwnPropertySymbols;var Xw=Object.prototype.hasOwnProperty,Zw=Object.prototype.propertyIsEnumerable;var Ju=(dt,i,Q)=>i in dt?Kw(dt,i,{enumerable:!0,configurable:!0,writable:!0,value:Q}):dt[i]=Q,Tt=(dt,i)=>{for(var Q in i||(i={}))Xw.call(i,Q)&&Ju(dt,Q,i[Q]);if(Zu)for(var Q of Zu(i))Zw.call(i,Q)&&Ju(dt,Q,i[Q]);return dt},er=(dt,i)=>Gw(dt,Yw(i));(function(dt,i){typeof exports=="object"&&typeof module!="undefined"?i(exports,require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus"],i):(dt=typeof globalThis!="undefined"?globalThis:dt||self,i(dt["giantgo-render"]={},dt.Vue,dt.ElementPlus))})(this,function(dt,i,Q){"use strict";var oa=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qu(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var zi={exports:{}};(function(u,s){(function(o,a){u.exports=a()})(oa,function(){var o=navigator.userAgent,a=navigator.platform,c=/gecko\/\d/i.test(o),b=/MSIE \d/.test(o),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(o),d=/Edge\/(\d+)/.exec(o),v=b||h||d,w=v&&(b?document.documentMode||6:+(d||h)[1]),S=!d&&/WebKit\//.test(o),g=S&&/Qt\/\d+\.\d+/.test(o),m=!d&&/Chrome\//.test(o),p=/Opera\//.test(o),C=/Apple Computer/.test(navigator.vendor),E=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(o),O=/PhantomJS/.test(o),k=C&&(/Mobile\/\w+/.test(o)||navigator.maxTouchPoints>2),x=/Android/.test(o),N=k||x||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),y=k||/Mac/.test(a),A=/\bCrOS\b/.test(o),q=/win/i.test(a),R=p&&o.match(/Version\/(\d*\.\d*)/);R&&(R=Number(R[1])),R&&R>=15&&(p=!1,S=!0);var z=y&&(g||p&&(R==null||R<12.11)),U=c||v&&w>=9;function F(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var I=function(e,t){var r=e.className,n=F(t).exec(r);if(n){var l=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(l?n[1]+l:"")}};function P(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function B(e,t){return P(e).appendChild(t)}function j(e,t,r,n){var l=document.createElement(e);if(r&&(l.className=r),n&&(l.style.cssText=n),typeof t=="string")l.appendChild(document.createTextNode(t));else if(t)for(var f=0;f<t.length;++f)l.appendChild(t[f]);return l}function V(e,t,r,n){var l=j(e,t,r,n);return l.setAttribute("role","presentation"),l}var oe;document.createRange?oe=function(e,t,r,n){var l=document.createRange();return l.setEnd(n||e,r),l.setStart(e,t),l}:oe=function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(l){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};function ie(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function pe(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function te(e,t){var r=e.className;F(t).test(r)||(e.className+=(r?" ":"")+t)}function Z(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!F(r[n]).test(t)&&(t+=" "+r[n]);return t}var H=function(e){e.select()};k?H=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:v&&(H=function(e){try{e.select()}catch(t){}});function K(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function X(e,t,r){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(r!==!1||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}function ae(e,t,r,n,l){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var f=n||0,_=l||0;;){var T=e.indexOf("	",f);if(T<0||T>=t)return _+(t-f);_+=T-f,_+=r-_%r,f=T+1}}var ne=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};ne.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ne.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};function W(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}var J=50,le={toString:function(){return"CodeMirror.Pass"}},se={scroll:!1},ge={origin:"*mouse"},we={origin:"+move"};function Be(e,t,r){for(var n=0,l=0;;){var f=e.indexOf("	",n);f==-1&&(f=e.length);var _=f-n;if(f==e.length||l+_>=t)return n+Math.min(_,t-l);if(l+=f-n,l+=r-l%r,n=f+1,l>=t)return n}}var Ve=[""];function Ue(e){for(;Ve.length<=e;)Ve.push(Ae(Ve)+" ");return Ve[e]}function Ae(e){return e[e.length-1]}function nt(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function et(e,t,r){for(var n=0,l=r(t);n<e.length&&r(e[n])<=l;)n++;e.splice(n,0,t)}function fe(){}function me(e,t){var r;return Object.create?r=Object.create(e):(fe.prototype=e,r=new fe),t&&X(t,r),r}var Ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ee.test(e))}function ye(e,t){return t?t.source.indexOf("\\w")>-1&&Te(e)?!0:t.test(e):Te(e)}function ze(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var $e=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function He(e){return e.charCodeAt(0)>=768&&$e.test(e)}function At(e,t,r){for(;(r<0?t>0:t<e.length)&&He(e.charAt(t));)t+=r;return t}function yt(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var l=(t+r)/2,f=n<0?Math.ceil(l):Math.floor(l);if(f==t)return e(f)?t:r;e(f)?r=f:t=f+n}}function rt(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var l=!1,f=0;f<e.length;++f){var _=e[f];(_.from<r&&_.to>t||t==r&&_.to==t)&&(n(Math.max(_.from,t),Math.min(_.to,r),_.level==1?"rtl":"ltr",f),l=!0)}l||n(t,r,"ltr")}var qt=null;function qe(e,t,r){var n;qt=null;for(var l=0;l<e.length;++l){var f=e[l];if(f.from<t&&f.to>t)return l;f.to==t&&(f.from!=f.to&&r=="before"?n=l:qt=l),f.from==t&&(f.from!=f.to&&r!="before"?n=l:qt=l)}return n!=null?n:qt}var Vt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(D){return D<=247?e.charAt(D):1424<=D&&D<=1524?"R":1536<=D&&D<=1785?t.charAt(D-1536):1774<=D&&D<=2220?"r":8192<=D&&D<=8203?"w":D==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,l=/[stwN]/,f=/[LRr]/,_=/[Lb1n]/,T=/[1n]/;function L(D,$,G){this.level=D,this.from=$,this.to=G}return function(D,$){var G=$=="ltr"?"L":"R";if(D.length==0||$=="ltr"&&!n.test(D))return!1;for(var re=D.length,ee=[],ue=0;ue<re;++ue)ee.push(r(D.charCodeAt(ue)));for(var de=0,be=G;de<re;++de){var xe=ee[de];xe=="m"?ee[de]=be:be=xe}for(var Ce=0,ke=G;Ce<re;++Ce){var Ne=ee[Ce];Ne=="1"&&ke=="r"?ee[Ce]="n":f.test(Ne)&&(ke=Ne,Ne=="r"&&(ee[Ce]="R"))}for(var Ie=1,De=ee[0];Ie<re-1;++Ie){var Ke=ee[Ie];Ke=="+"&&De=="1"&&ee[Ie+1]=="1"?ee[Ie]="1":Ke==","&&De==ee[Ie+1]&&(De=="1"||De=="n")&&(ee[Ie]=De),De=Ke}for(var tt=0;tt<re;++tt){var St=ee[tt];if(St==",")ee[tt]="N";else if(St=="%"){var lt=void 0;for(lt=tt+1;lt<re&&ee[lt]=="%";++lt);for(var Qt=tt&&ee[tt-1]=="!"||lt<re&&ee[lt]=="1"?"1":"N",$t=tt;$t<lt;++$t)ee[$t]=Qt;tt=lt-1}}for(var mt=0,Kt=G;mt<re;++mt){var Ot=ee[mt];Kt=="L"&&Ot=="1"?ee[mt]="L":f.test(Ot)&&(Kt=Ot)}for(var _t=0;_t<re;++_t)if(l.test(ee[_t])){var gt=void 0;for(gt=_t+1;gt<re&&l.test(ee[gt]);++gt);for(var st=(_t?ee[_t-1]:G)=="L",Gt=(gt<re?ee[gt]:G)=="L",$r=st==Gt?st?"L":"R":G,Qn=_t;Qn<gt;++Qn)ee[Qn]=$r;_t=gt-1}for(var It=[],Tn,Et=0;Et<re;)if(_.test(ee[Et])){var na=Et;for(++Et;Et<re&&_.test(ee[Et]);++Et);It.push(new L(0,na,Et))}else{var Fn=Et,pr=It.length,mr=$=="rtl"?1:0;for(++Et;Et<re&&ee[Et]!="L";++Et);for(var Pt=Fn;Pt<Et;)if(T.test(ee[Pt])){Fn<Pt&&(It.splice(pr,0,new L(1,Fn,Pt)),pr+=mr);var Kr=Pt;for(++Pt;Pt<Et&&T.test(ee[Pt]);++Pt);It.splice(pr,0,new L(2,Kr,Pt)),pr+=mr,Fn=Pt}else++Pt;Fn<Et&&It.splice(pr,0,new L(1,Fn,Et))}return $=="ltr"&&(It[0].level==1&&(Tn=D.match(/^\s+/))&&(It[0].from=Tn[0].length,It.unshift(new L(0,0,Tn[0].length))),Ae(It).level==1&&(Tn=D.match(/\s+$/))&&(Ae(It).to-=Tn[0].length,It.push(new L(0,re-Tn[0].length,re)))),$=="rtl"?It.reverse():It}}();function Xt(e,t){var r=e.order;return r==null&&(r=e.order=Vt(e.text,t)),r}var Bn=[],Me=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Bn).concat(r)}};function kr(e,t){return e._handlers&&e._handlers[t]||Bn}function zt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,l=n&&n[t];if(l){var f=W(l,r);f>-1&&(n[t]=l.slice(0,f).concat(l.slice(f+1)))}}}function Re(e,t){var r=kr(e,t);if(!!r.length)for(var n=Array.prototype.slice.call(arguments,2),l=0;l<r.length;++l)r[l].apply(null,n)}function pt(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Re(e,r||t.type,e,t),rn(t)||t.codemirrorIgnore}function Sr(e){var t=e._handlers&&e._handlers.cursorActivity;if(!!t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)W(r,t[n])==-1&&r.push(t[n])}function Ct(e,t){return kr(e,t).length>0}function bn(e){e.prototype.on=function(t,r){Me(this,t,r)},e.prototype.off=function(t,r){zt(this,t,r)}}function Lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Er(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function rn(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function or(e){Lt(e),Er(e)}function Hn(e){return e.target||e.srcElement}function si(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),y&&e.ctrlKey&&t==1&&(t=3),t}var lo=function(){if(v&&w<9)return!1;var e=j("div");return"draggable"in e||"dragDrop"in e}(),Ht;function ui(e){if(Ht==null){var t=j("span","\u200B");B(e,j("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Ht=t.offsetWidth<=1&&t.offsetHeight>2&&!(v&&w<8))}var r=Ht?j("span","\u200B"):j("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}var ao;function wn(e){if(ao!=null)return ao;var t=B(e,document.createTextNode("A\u062EA")),r=oe(t,0,1).getBoundingClientRect(),n=oe(t,1,2).getBoundingClientRect();return P(e),!r||r.left==r.right?!1:ao=n.right-r.right<3}var so=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var l=e.indexOf(`
`,t);l==-1&&(l=e.length);var f=e.slice(t,e.charAt(l-1)=="\r"?l-1:l),_=f.indexOf("\r");_!=-1?(r.push(f.slice(0,_)),t+=_+1):(r.push(f),t=l+1)}return r}:function(e){return e.split(/\r\n?|\n/)},fi=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},ci=function(){var e=j("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),uo=null;function Wn(e){if(uo!=null)return uo;var t=B(e,j("span","x")),r=t.getBoundingClientRect(),n=oe(t,0,1).getBoundingClientRect();return uo=Math.abs(r.left-n.left)>1}var fn={},on={};function di(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),fn[e]=t}function Dn(e,t){on[e]=t}function Cr(e){if(typeof e=="string"&&on.hasOwnProperty(e))e=on[e];else if(e&&typeof e.name=="string"&&on.hasOwnProperty(e.name)){var t=on[e.name];typeof t=="string"&&(t={name:t}),e=me(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Cr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Cr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Or(e,t){t=Cr(t);var r=fn[t.name];if(!r)return Or(e,"text/plain");var n=r(e,t);if(dn.hasOwnProperty(t.name)){var l=dn[t.name];for(var f in l)!l.hasOwnProperty(f)||(n.hasOwnProperty(f)&&(n["_"+f]=n[f]),n[f]=l[f])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var _ in t.modeProps)n[_]=t.modeProps[_];return n}var dn={};function hn(e,t){var r=dn.hasOwnProperty(e)?dn[e]:dn[e]={};X(t,r)}function ln(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var l=t[n];l instanceof Array&&(l=l.concat([])),r[n]=l}return r}function fo(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),!(!r||r.mode==e));)t=r.state,e=r.mode;return r||{mode:e,state:t}}function co(e,t,r){return e.startState?e.startState(t,r):!0}var at=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};at.prototype.eol=function(){return this.pos>=this.string.length},at.prototype.sol=function(){return this.pos==this.lineStart},at.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},at.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},at.prototype.eat=function(e){var t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e.test?e.test(t):e(t)),r)return++this.pos,t},at.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},at.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},at.prototype.skipToEnd=function(){this.pos=this.string.length},at.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},at.prototype.backUp=function(e){this.pos-=e},at.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ae(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ae(this.string,this.lineStart,this.tabSize):0)},at.prototype.indentation=function(){return ae(this.string,null,this.tabSize)-(this.lineStart?ae(this.string,this.lineStart,this.tabSize):0)},at.prototype.match=function(e,t,r){if(typeof e=="string"){var n=function(_){return r?_.toLowerCase():_},l=this.string.substr(this.pos,e.length);if(n(l)==n(e))return t!==!1&&(this.pos+=e.length),!0}else{var f=this.string.slice(this.pos).match(e);return f&&f.index>0?null:(f&&t!==!1&&(this.pos+=f[0].length),f)}},at.prototype.current=function(){return this.string.slice(this.start,this.pos)},at.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},at.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},at.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Le(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var l=r.children[n],f=l.chunkSize();if(t<f){r=l;break}t-=f}return r.lines[t]}function xn(e,t,r){var n=[],l=t.line;return e.iter(t.line,r.line+1,function(f){var _=f.text;l==r.line&&(_=_.slice(0,r.ch)),l==t.line&&(_=_.slice(t.ch)),n.push(_),++l}),n}function ho(e,t,r){var n=[];return e.iter(t,r,function(l){n.push(l.text)}),n}function Zt(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Xe(e){if(e.parent==null)return null;for(var t=e.parent,r=W(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var l=0;n.children[l]!=t;++l)r+=n.children[l].chunkSize();return r+t.first}function kn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var l=e.children[n],f=l.height;if(t<f){e=l;continue e}t-=f,r+=l.chunkSize()}return r}while(!e.lines);for(var _=0;_<e.lines.length;++_){var T=e.lines[_],L=T.height;if(t<L)break;t-=L}return r+_}function ir(e,t){return t>=e.first&&t<e.first+e.size}function po(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ve(e,t,r){if(r===void 0&&(r=null),!(this instanceof ve))return new ve(e,t,r);this.line=e,this.ch=t,this.sticky=r}function M(e,t){return e.line-t.line||e.ch-t.ch}function Y(e,t){return e.sticky==t.sticky&&M(e,t)==0}function ce(e){return ve(e.line,e.ch)}function _e(e,t){return M(e,t)<0?t:e}function Pe(e,t){return M(e,t)<0?e:t}function Ge(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Oe(e,t){if(t.line<e.first)return ve(e.first,0);var r=e.first+e.size-1;return t.line>r?ve(r,Le(e,r).text.length):Bt(t,Le(e,t.line).text.length)}function Bt(e,t){var r=e.ch;return r==null||r>t?ve(e.line,t):r<0?ve(e.line,0):e}function an(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Oe(e,t[n]);return r}var Tr=function(e,t){this.state=e,this.lookAhead=t},Sn=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};Sn.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Sn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Sn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Sn.fromSaved=function(e,t,r){return t instanceof Tr?new Sn(e,ln(e.mode,t.state),r,t.lookAhead):new Sn(e,ln(e.mode,t),r)},Sn.prototype.save=function(e){var t=e!==!1?ln(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Tr(t,this.maxLookAhead):t};function Ja(e,t,r,n){var l=[e.state.modeGen],f={};os(e,t.text,e.doc.mode,r,function(D,$){return l.push(D,$)},f,n);for(var _=r.state,T=function(D){r.baseTokens=l;var $=e.state.overlays[D],G=1,re=0;r.state=!0,os(e,t.text,$.mode,r,function(ee,ue){for(var de=G;re<ee;){var be=l[G];be>ee&&l.splice(G,1,ee,l[G+1],be),G+=2,re=Math.min(ee,be)}if(!!ue)if($.opaque)l.splice(de,G-de,ee,"overlay "+ue),G=de+2;else for(;de<G;de+=2){var xe=l[de+1];l[de+1]=(xe?xe+" ":"")+"overlay "+ue}},f),r.state=_,r.baseTokens=null,r.baseTokenPos=1},L=0;L<e.state.overlays.length;++L)T(L);return{styles:l,classes:f.bgClass||f.textClass?f:null}}function Qa(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=mo(e,Xe(t)),l=t.text.length>e.options.maxHighlightLength&&ln(e.doc.mode,n.state),f=Ja(e,t,n);l&&(n.state=l),t.stateAfter=n.save(!l),t.styles=f.styles,f.classes?t.styleClasses=f.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function mo(e,t,r){var n=e.doc,l=e.display;if(!n.mode.startState)return new Sn(n,!0,t);var f=Y0(e,t,r),_=f>n.first&&Le(n,f-1).stateAfter,T=_?Sn.fromSaved(n,_,f):new Sn(n,co(n.mode),f);return n.iter(f,t,function(L){hl(e,L.text,T);var D=T.line;L.stateAfter=D==t-1||D%5==0||D>=l.viewFrom&&D<l.viewTo?T.save():null,T.nextLine()}),r&&(n.modeFrontier=T.line),T}function hl(e,t,r,n){var l=e.doc.mode,f=new at(t,e.options.tabSize,r);for(f.start=f.pos=n||0,t==""&&es(l,r.state);!f.eol();)pl(l,f,r.state),f.start=f.pos}function es(e,t){if(e.blankLine)return e.blankLine(t);if(!!e.innerMode){var r=fo(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}function pl(e,t,r,n){for(var l=0;l<10;l++){n&&(n[0]=fo(e,r).mode);var f=e.token(t,r);if(t.pos>t.start)return f}throw new Error("Mode "+e.name+" failed to advance stream.")}var ts=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function ns(e,t,r,n){var l=e.doc,f=l.mode,_;t=Oe(l,t);var T=Le(l,t.line),L=mo(e,t.line,r),D=new at(T.text,e.options.tabSize,L),$;for(n&&($=[]);(n||D.pos<t.ch)&&!D.eol();)D.start=D.pos,_=pl(f,D,L.state),n&&$.push(new ts(D,_,ln(l.mode,L.state)));return n?$:new ts(D,_,L.state)}function rs(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function os(e,t,r,n,l,f,_){var T=r.flattenSpans;T==null&&(T=e.options.flattenSpans);var L=0,D=null,$=new at(t,e.options.tabSize,n),G,re=e.options.addModeClass&&[null];for(t==""&&rs(es(r,n.state),f);!$.eol();){if($.pos>e.options.maxHighlightLength?(T=!1,_&&hl(e,t,n,$.pos),$.pos=t.length,G=null):G=rs(pl(r,$,n.state,re),f),re){var ee=re[0].name;ee&&(G="m-"+(G?ee+" "+G:ee))}if(!T||D!=G){for(;L<$.start;)L=Math.min($.start,L+5e3),l(L,D);D=G}$.start=$.pos}for(;L<$.pos;){var ue=Math.min($.pos,L+5e3);l(ue,D),L=ue}}function Y0(e,t,r){for(var n,l,f=e.doc,_=r?-1:t-(e.doc.mode.innerMode?1e3:100),T=t;T>_;--T){if(T<=f.first)return f.first;var L=Le(f,T-1),D=L.stateAfter;if(D&&(!r||T+(D instanceof Tr?D.lookAhead:0)<=f.modeFrontier))return T;var $=ae(L.text,null,e.options.tabSize);(l==null||n>$)&&(l=T-1,n=$)}return l}function X0(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var l=Le(e,n).stateAfter;if(l&&(!(l instanceof Tr)||n+l.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var is=!1,In=!1;function Z0(){is=!0}function J0(){In=!0}function hi(e,t,r){this.marker=e,this.from=t,this.to=r}function go(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Q0(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function e1(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function t1(e,t,r){var n;if(e)for(var l=0;l<e.length;++l){var f=e[l],_=f.marker,T=f.from==null||(_.inclusiveLeft?f.from<=t:f.from<t);if(T||f.from==t&&_.type=="bookmark"&&(!r||!f.marker.insertLeft)){var L=f.to==null||(_.inclusiveRight?f.to>=t:f.to>t);(n||(n=[])).push(new hi(_,f.from,L?null:f.to))}}return n}function n1(e,t,r){var n;if(e)for(var l=0;l<e.length;++l){var f=e[l],_=f.marker,T=f.to==null||(_.inclusiveRight?f.to>=t:f.to>t);if(T||f.from==t&&_.type=="bookmark"&&(!r||f.marker.insertLeft)){var L=f.from==null||(_.inclusiveLeft?f.from<=t:f.from<t);(n||(n=[])).push(new hi(_,L?null:f.from-t,f.to==null?null:f.to-t))}}return n}function ml(e,t){if(t.full)return null;var r=ir(e,t.from.line)&&Le(e,t.from.line).markedSpans,n=ir(e,t.to.line)&&Le(e,t.to.line).markedSpans;if(!r&&!n)return null;var l=t.from.ch,f=t.to.ch,_=M(t.from,t.to)==0,T=t1(r,l,_),L=n1(n,f,_),D=t.text.length==1,$=Ae(t.text).length+(D?l:0);if(T)for(var G=0;G<T.length;++G){var re=T[G];if(re.to==null){var ee=go(L,re.marker);ee?D&&(re.to=ee.to==null?null:ee.to+$):re.to=l}}if(L)for(var ue=0;ue<L.length;++ue){var de=L[ue];if(de.to!=null&&(de.to+=$),de.from==null){var be=go(T,de.marker);be||(de.from=$,D&&(T||(T=[])).push(de))}else de.from+=$,D&&(T||(T=[])).push(de)}T&&(T=ls(T)),L&&L!=T&&(L=ls(L));var xe=[T];if(!D){var Ce=t.text.length-2,ke;if(Ce>0&&T)for(var Ne=0;Ne<T.length;++Ne)T[Ne].to==null&&(ke||(ke=[])).push(new hi(T[Ne].marker,null,null));for(var Ie=0;Ie<Ce;++Ie)xe.push(ke);xe.push(L)}return xe}function ls(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function r1(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(ee){if(ee.markedSpans)for(var ue=0;ue<ee.markedSpans.length;++ue){var de=ee.markedSpans[ue].marker;de.readOnly&&(!n||W(n,de)==-1)&&(n||(n=[])).push(de)}}),!n)return null;for(var l=[{from:t,to:r}],f=0;f<n.length;++f)for(var _=n[f],T=_.find(0),L=0;L<l.length;++L){var D=l[L];if(!(M(D.to,T.from)<0||M(D.from,T.to)>0)){var $=[L,1],G=M(D.from,T.from),re=M(D.to,T.to);(G<0||!_.inclusiveLeft&&!G)&&$.push({from:D.from,to:T.from}),(re>0||!_.inclusiveRight&&!re)&&$.push({from:T.to,to:D.to}),l.splice.apply(l,$),L+=$.length-3}}return l}function as(e){var t=e.markedSpans;if(!!t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ss(e,t){if(!!t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function pi(e){return e.inclusiveLeft?-1:0}function mi(e){return e.inclusiveRight?1:0}function gl(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),l=t.find(),f=M(n.from,l.from)||pi(e)-pi(t);if(f)return-f;var _=M(n.to,l.to)||mi(e)-mi(t);return _||t.id-e.id}function us(e,t){var r=In&&e.markedSpans,n;if(r)for(var l=void 0,f=0;f<r.length;++f)l=r[f],l.marker.collapsed&&(t?l.from:l.to)==null&&(!n||gl(n,l.marker)<0)&&(n=l.marker);return n}function fs(e){return us(e,!0)}function gi(e){return us(e,!1)}function o1(e,t){var r=In&&e.markedSpans,n;if(r)for(var l=0;l<r.length;++l){var f=r[l];f.marker.collapsed&&(f.from==null||f.from<t)&&(f.to==null||f.to>t)&&(!n||gl(n,f.marker)<0)&&(n=f.marker)}return n}function cs(e,t,r,n,l){var f=Le(e,t),_=In&&f.markedSpans;if(_)for(var T=0;T<_.length;++T){var L=_[T];if(!!L.marker.collapsed){var D=L.marker.find(0),$=M(D.from,r)||pi(L.marker)-pi(l),G=M(D.to,n)||mi(L.marker)-mi(l);if(!($>=0&&G<=0||$<=0&&G>=0)&&($<=0&&(L.marker.inclusiveRight&&l.inclusiveLeft?M(D.to,r)>=0:M(D.to,r)>0)||$>=0&&(L.marker.inclusiveRight&&l.inclusiveLeft?M(D.from,n)<=0:M(D.from,n)<0)))return!0}}}function En(e){for(var t;t=fs(e);)e=t.find(-1,!0).line;return e}function i1(e){for(var t;t=gi(e);)e=t.find(1,!0).line;return e}function l1(e){for(var t,r;t=gi(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function vl(e,t){var r=Le(e,t),n=En(r);return r==n?t:Xe(n)}function ds(e,t){if(t>e.lastLine())return t;var r=Le(e,t),n;if(!Un(e,r))return t;for(;n=gi(r);)r=n.find(1,!0).line;return Xe(r)+1}function Un(e,t){var r=In&&t.markedSpans;if(r){for(var n=void 0,l=0;l<r.length;++l)if(n=r[l],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&yl(e,t,n))return!0}}}function yl(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return yl(e,n.line,go(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var l=void 0,f=0;f<t.markedSpans.length;++f)if(l=t.markedSpans[f],l.marker.collapsed&&!l.marker.widgetNode&&l.from==r.to&&(l.to==null||l.to!=r.from)&&(l.marker.inclusiveLeft||r.marker.inclusiveRight)&&yl(e,t,l))return!0}function Mn(e){e=En(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var l=r.lines[n];if(l==e)break;t+=l.height}for(var f=r.parent;f;r=f,f=r.parent)for(var _=0;_<f.children.length;++_){var T=f.children[_];if(T==r)break;t+=T.height}return t}function vi(e){if(e.height==0)return 0;for(var t=e.text.length,r,n=e;r=fs(n);){var l=r.find(0,!0);n=l.from.line,t+=l.from.ch-l.to.ch}for(n=e;r=gi(n);){var f=r.find(0,!0);t-=n.text.length-f.from.ch,n=f.to.line,t+=n.text.length-f.to.ch}return t}function _l(e){var t=e.display,r=e.doc;t.maxLine=Le(r,r.first),t.maxLineLength=vi(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var l=vi(n);l>t.maxLineLength&&(t.maxLineLength=l,t.maxLine=n)})}var Nr=function(e,t,r){this.text=e,ss(this,t),this.height=r?r(this):1};Nr.prototype.lineNo=function(){return Xe(this)},bn(Nr);function a1(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),as(e),ss(e,r);var l=n?n(e):1;l!=e.height&&Zt(e,l)}function s1(e){e.parent=null,as(e)}var u1={},f1={};function hs(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?f1:u1;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function ps(e,t){var r=V("span",null,null,S?"padding-right: .1px":null),n={pre:V("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var l=0;l<=(t.rest?t.rest.length:0);l++){var f=l?t.rest[l-1]:t.line,_=void 0;n.pos=0,n.addToken=d1,wn(e.display.measure)&&(_=Xt(f,e.doc.direction))&&(n.addToken=p1(n.addToken,_)),n.map=[];var T=t!=e.display.externalMeasured&&Xe(f);m1(f,n,Qa(e,f,T)),f.styleClasses&&(f.styleClasses.bgClass&&(n.bgClass=Z(f.styleClasses.bgClass,n.bgClass||"")),f.styleClasses.textClass&&(n.textClass=Z(f.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(ui(e.display.measure))),l==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(S){var L=n.content.lastChild;(/\bcm-tab\b/.test(L.className)||L.querySelector&&L.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Re(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Z(n.pre.className,n.textClass||"")),n}function c1(e){var t=j("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function d1(e,t,r,n,l,f,_){if(!!t){var T=e.splitSpaces?h1(t,e.trailingSpace):t,L=e.cm.state.specialChars,D=!1,$;if(!L.test(t))e.col+=t.length,$=document.createTextNode(T),e.map.push(e.pos,e.pos+t.length,$),v&&w<9&&(D=!0),e.pos+=t.length;else{$=document.createDocumentFragment();for(var G=0;;){L.lastIndex=G;var re=L.exec(t),ee=re?re.index-G:t.length-G;if(ee){var ue=document.createTextNode(T.slice(G,G+ee));v&&w<9?$.appendChild(j("span",[ue])):$.appendChild(ue),e.map.push(e.pos,e.pos+ee,ue),e.col+=ee,e.pos+=ee}if(!re)break;G+=ee+1;var de=void 0;if(re[0]=="	"){var be=e.cm.options.tabSize,xe=be-e.col%be;de=$.appendChild(j("span",Ue(xe),"cm-tab")),de.setAttribute("role","presentation"),de.setAttribute("cm-text","	"),e.col+=xe}else re[0]=="\r"||re[0]==`
`?(de=$.appendChild(j("span",re[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),de.setAttribute("cm-text",re[0]),e.col+=1):(de=e.cm.options.specialCharPlaceholder(re[0]),de.setAttribute("cm-text",re[0]),v&&w<9?$.appendChild(j("span",[de])):$.appendChild(de),e.col+=1);e.map.push(e.pos,e.pos+1,de),e.pos++}}if(e.trailingSpace=T.charCodeAt(t.length-1)==32,r||n||l||D||f||_){var Ce=r||"";n&&(Ce+=n),l&&(Ce+=l);var ke=j("span",[$],Ce,f);if(_)for(var Ne in _)_.hasOwnProperty(Ne)&&Ne!="style"&&Ne!="class"&&ke.setAttribute(Ne,_[Ne]);return e.content.appendChild(ke)}e.content.appendChild($)}}function h1(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",l=0;l<e.length;l++){var f=e.charAt(l);f==" "&&r&&(l==e.length-1||e.charCodeAt(l+1)==32)&&(f="\xA0"),n+=f,r=f==" "}return n}function p1(e,t){return function(r,n,l,f,_,T,L){l=l?l+" cm-force-border":"cm-force-border";for(var D=r.pos,$=D+n.length;;){for(var G=void 0,re=0;re<t.length&&(G=t[re],!(G.to>D&&G.from<=D));re++);if(G.to>=$)return e(r,n,l,f,_,T,L);e(r,n.slice(0,G.to-D),l,f,null,T,L),f=null,n=n.slice(G.to-D),D=G.to}}}function ms(e,t,r,n){var l=!n&&r.widgetNode;l&&e.map.push(e.pos,e.pos+t,l),!n&&e.cm.display.input.needsContentAttribute&&(l||(l=e.content.appendChild(document.createElement("span"))),l.setAttribute("cm-marker",r.id)),l&&(e.cm.display.input.setUneditable(l),e.content.appendChild(l)),e.pos+=t,e.trailingSpace=!1}function m1(e,t,r){var n=e.markedSpans,l=e.text,f=0;if(!n){for(var _=1;_<r.length;_+=2)t.addToken(t,l.slice(f,f=r[_]),hs(r[_+1],t.cm.options));return}for(var T=l.length,L=0,D=1,$="",G,re,ee=0,ue,de,be,xe,Ce;;){if(ee==L){ue=de=be=re="",Ce=null,xe=null,ee=1/0;for(var ke=[],Ne=void 0,Ie=0;Ie<n.length;++Ie){var De=n[Ie],Ke=De.marker;if(Ke.type=="bookmark"&&De.from==L&&Ke.widgetNode)ke.push(Ke);else if(De.from<=L&&(De.to==null||De.to>L||Ke.collapsed&&De.to==L&&De.from==L)){if(De.to!=null&&De.to!=L&&ee>De.to&&(ee=De.to,de=""),Ke.className&&(ue+=" "+Ke.className),Ke.css&&(re=(re?re+";":"")+Ke.css),Ke.startStyle&&De.from==L&&(be+=" "+Ke.startStyle),Ke.endStyle&&De.to==ee&&(Ne||(Ne=[])).push(Ke.endStyle,De.to),Ke.title&&((Ce||(Ce={})).title=Ke.title),Ke.attributes)for(var tt in Ke.attributes)(Ce||(Ce={}))[tt]=Ke.attributes[tt];Ke.collapsed&&(!xe||gl(xe.marker,Ke)<0)&&(xe=De)}else De.from>L&&ee>De.from&&(ee=De.from)}if(Ne)for(var St=0;St<Ne.length;St+=2)Ne[St+1]==ee&&(de+=" "+Ne[St]);if(!xe||xe.from==L)for(var lt=0;lt<ke.length;++lt)ms(t,0,ke[lt]);if(xe&&(xe.from||0)==L){if(ms(t,(xe.to==null?T+1:xe.to)-L,xe.marker,xe.from==null),xe.to==null)return;xe.to==L&&(xe=!1)}}if(L>=T)break;for(var Qt=Math.min(T,ee);;){if($){var $t=L+$.length;if(!xe){var mt=$t>Qt?$.slice(0,Qt-L):$;t.addToken(t,mt,G?G+ue:ue,be,L+mt.length==ee?de:"",re,Ce)}if($t>=Qt){$=$.slice(Qt-L),L=Qt;break}L=$t,be=""}$=l.slice(f,f=r[D++]),G=hs(r[D++],t.cm.options)}}}function gs(e,t,r){this.line=t,this.rest=l1(t),this.size=this.rest?Xe(Ae(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Un(e,t)}function yi(e,t,r){for(var n=[],l,f=t;f<r;f=l){var _=new gs(e.doc,Le(e.doc,f),f);l=f+_.size,n.push(_)}return n}var Ar=null;function g1(e){Ar?Ar.ops.push(e):e.ownsGroup=Ar={ops:[e],delayedCallbacks:[]}}function v1(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var l=e.ops[n];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(r<t.length)}function y1(e,t){var r=e.ownsGroup;if(!!r)try{v1(r)}finally{Ar=null,t(r)}}var vo=null;function wt(e,t){var r=kr(e,t);if(!!r.length){var n=Array.prototype.slice.call(arguments,2),l;Ar?l=Ar.delayedCallbacks:vo?l=vo:(l=vo=[],setTimeout(_1,0));for(var f=function(T){l.push(function(){return r[T].apply(null,n)})},_=0;_<r.length;++_)f(_)}}function _1(){var e=vo;vo=null;for(var t=0;t<e.length;++t)e[t]()}function vs(e,t,r,n){for(var l=0;l<t.changes.length;l++){var f=t.changes[l];f=="text"?w1(e,t):f=="gutter"?_s(e,t,r,n):f=="class"?bl(e,t):f=="widget"&&x1(e,t,n)}t.changes=null}function yo(e){return e.node==e.text&&(e.node=j("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),v&&w<8&&(e.node.style.zIndex=2)),e.node}function b1(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=yo(t);t.background=n.insertBefore(j("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function ys(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):ps(e,t)}function w1(e,t){var r=t.text.className,n=ys(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,bl(e,t)):r&&(t.text.className=r)}function bl(e,t){b1(e,t),t.line.wrapClass?yo(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function _s(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var l=yo(t);t.gutterBackground=j("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),l.insertBefore(t.gutterBackground,t.text)}var f=t.line.gutterMarkers;if(e.options.lineNumbers||f){var _=yo(t),T=t.gutter=j("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(T.setAttribute("aria-hidden","true"),e.display.input.setUneditable(T),_.insertBefore(T,t.text),t.line.gutterClass&&(T.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!f||!f["CodeMirror-linenumbers"])&&(t.lineNumber=T.appendChild(j("div",po(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),f)for(var L=0;L<e.display.gutterSpecs.length;++L){var D=e.display.gutterSpecs[L].className,$=f.hasOwnProperty(D)&&f[D];$&&T.appendChild(j("div",[$],"CodeMirror-gutter-elt","left: "+n.gutterLeft[D]+"px; width: "+n.gutterWidth[D]+"px"))}}}function x1(e,t,r){t.alignable&&(t.alignable=null);for(var n=F("CodeMirror-linewidget"),l=t.node.firstChild,f=void 0;l;l=f)f=l.nextSibling,n.test(l.className)&&t.node.removeChild(l);bs(e,t,r)}function k1(e,t,r,n){var l=ys(e,t);return t.text=t.node=l.pre,l.bgClass&&(t.bgClass=l.bgClass),l.textClass&&(t.textClass=l.textClass),bl(e,t),_s(e,t,r,n),bs(e,t,n),t.node}function bs(e,t,r){if(ws(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)ws(e,t.rest[n],t,r,!1)}function ws(e,t,r,n,l){if(!!t.widgets)for(var f=yo(r),_=0,T=t.widgets;_<T.length;++_){var L=T[_],D=j("div",[L.node],"CodeMirror-linewidget"+(L.className?" "+L.className:""));L.handleMouseEvents||D.setAttribute("cm-ignore-events","true"),S1(L,D,r,n),e.display.input.setUneditable(D),l&&L.above?f.insertBefore(D,r.gutter||r.text):f.appendChild(D),wt(L,"redraw")}}function S1(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var l=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(l-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=l+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function _o(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!ie(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),B(t.display.measure,j("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var r=Hn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function _i(e){return e.lineSpace.offsetTop}function wl(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function xs(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=B(e.measure,j("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}function Cn(e){return J-e.display.nativeBarWidth}function lr(e){return e.display.scroller.clientWidth-Cn(e)-e.display.barWidth}function xl(e){return e.display.scroller.clientHeight-Cn(e)-e.display.barHeight}function E1(e,t,r){var n=e.options.lineWrapping,l=n&&lr(e);if(!t.measure.heights||n&&t.measure.width!=l){var f=t.measure.heights=[];if(n){t.measure.width=l;for(var _=t.text.firstChild.getClientRects(),T=0;T<_.length-1;T++){var L=_[T],D=_[T+1];Math.abs(L.bottom-D.bottom)>2&&f.push((L.bottom+D.top)/2-r.top)}}f.push(r.bottom-r.top)}}function ks(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var l=0;l<e.rest.length;l++)if(Xe(e.rest[l])>r)return{map:e.measure.maps[l],cache:e.measure.caches[l],before:!0}}function C1(e,t){t=En(t);var r=Xe(t),n=e.display.externalMeasured=new gs(e.doc,t,r);n.lineN=r;var l=n.built=ps(e,n);return n.text=l.pre,B(e.display.lineMeasure,l.pre),n}function Ss(e,t,r,n){return On(e,Lr(e,t),r,n)}function kl(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ur(e,t)];var r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}function Lr(e,t){var r=Xe(t),n=kl(e,r);n&&!n.text?n=null:n&&n.changes&&(vs(e,n,r,Tl(e)),e.curOp.forceUpdate=!0),n||(n=C1(e,t));var l=ks(n,t,r);return{line:t,view:n,rect:null,map:l.map,cache:l.cache,before:l.before,hasHeights:!1}}function On(e,t,r,n,l){t.before&&(r=-1);var f=r+(n||""),_;return t.cache.hasOwnProperty(f)?_=t.cache[f]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(E1(e,t.view,t.rect),t.hasHeights=!0),_=T1(e,t,r,n),_.bogus||(t.cache[f]=_)),{left:_.left,right:_.right,top:l?_.rtop:_.top,bottom:l?_.rbottom:_.bottom}}var Es={left:0,right:0,top:0,bottom:0};function Cs(e,t,r){for(var n,l,f,_,T,L,D=0;D<e.length;D+=3)if(T=e[D],L=e[D+1],t<T?(l=0,f=1,_="left"):t<L?(l=t-T,f=l+1):(D==e.length-3||t==L&&e[D+3]>t)&&(f=L-T,l=f-1,t>=L&&(_="right")),l!=null){if(n=e[D+2],T==L&&r==(n.insertLeft?"left":"right")&&(_=r),r=="left"&&l==0)for(;D&&e[D-2]==e[D-3]&&e[D-1].insertLeft;)n=e[(D-=3)+2],_="left";if(r=="right"&&l==L-T)for(;D<e.length-3&&e[D+3]==e[D+4]&&!e[D+5].insertLeft;)n=e[(D+=3)+2],_="right";break}return{node:n,start:l,end:f,collapse:_,coverStart:T,coverEnd:L}}function O1(e,t){var r=Es;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var l=e.length-1;l>=0&&(r=e[l]).left==r.right;l--);return r}function T1(e,t,r,n){var l=Cs(t.map,r,n),f=l.node,_=l.start,T=l.end,L=l.collapse,D;if(f.nodeType==3){for(var $=0;$<4;$++){for(;_&&He(t.line.text.charAt(l.coverStart+_));)--_;for(;l.coverStart+T<l.coverEnd&&He(t.line.text.charAt(l.coverStart+T));)++T;if(v&&w<9&&_==0&&T==l.coverEnd-l.coverStart?D=f.parentNode.getBoundingClientRect():D=O1(oe(f,_,T).getClientRects(),n),D.left||D.right||_==0)break;T=_,_=_-1,L="right"}v&&w<11&&(D=N1(e.display.measure,D))}else{_>0&&(L=n="right");var G;e.options.lineWrapping&&(G=f.getClientRects()).length>1?D=G[n=="right"?G.length-1:0]:D=f.getBoundingClientRect()}if(v&&w<9&&!_&&(!D||!D.left&&!D.right)){var re=f.parentNode.getClientRects()[0];re?D={left:re.left,right:re.left+Dr(e.display),top:re.top,bottom:re.bottom}:D=Es}for(var ee=D.top-t.rect.top,ue=D.bottom-t.rect.top,de=(ee+ue)/2,be=t.view.measure.heights,xe=0;xe<be.length-1&&!(de<be[xe]);xe++);var Ce=xe?be[xe-1]:0,ke=be[xe],Ne={left:(L=="right"?D.right:D.left)-t.rect.left,right:(L=="left"?D.left:D.right)-t.rect.left,top:Ce,bottom:ke};return!D.left&&!D.right&&(Ne.bogus=!0),e.options.singleCursorHeightPerLine||(Ne.rtop=ee,Ne.rbottom=ue),Ne}function N1(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Wn(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Os(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ts(e){e.display.externalMeasure=null,P(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Os(e.display.view[t])}function bo(e){Ts(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ns(){return m&&x?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function As(){return m&&x?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Sl(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=_o(e.widgets[r]));return t}function bi(e,t,r,n,l){if(!l){var f=Sl(t);r.top+=f,r.bottom+=f}if(n=="line")return r;n||(n="local");var _=Mn(t);if(n=="local"?_+=_i(e.display):_-=e.display.viewOffset,n=="page"||n=="window"){var T=e.display.lineSpace.getBoundingClientRect();_+=T.top+(n=="window"?0:As());var L=T.left+(n=="window"?0:Ns());r.left+=L,r.right+=L}return r.top+=_,r.bottom+=_,r}function Ls(e,t,r){if(r=="div")return t;var n=t.left,l=t.top;if(r=="page")n-=Ns(),l-=As();else if(r=="local"||!r){var f=e.display.sizer.getBoundingClientRect();n+=f.left,l+=f.top}var _=e.display.lineSpace.getBoundingClientRect();return{left:n-_.left,top:l-_.top}}function wi(e,t,r,n,l){return n||(n=Le(e.doc,t.line)),bi(e,n,Ss(e,n,t.ch,l),r)}function pn(e,t,r,n,l,f){n=n||Le(e.doc,t.line),l||(l=Lr(e,n));function _(ue,de){var be=On(e,l,ue,de?"right":"left",f);return de?be.left=be.right:be.right=be.left,bi(e,n,be,r)}var T=Xt(n,e.doc.direction),L=t.ch,D=t.sticky;if(L>=n.text.length?(L=n.text.length,D="before"):L<=0&&(L=0,D="after"),!T)return _(D=="before"?L-1:L,D=="before");function $(ue,de,be){var xe=T[de],Ce=xe.level==1;return _(be?ue-1:ue,Ce!=be)}var G=qe(T,L,D),re=qt,ee=$(L,G,D=="before");return re!=null&&(ee.other=$(L,re,D!="before")),ee}function Bs(e,t){var r=0;t=Oe(e.doc,t),e.options.lineWrapping||(r=Dr(e.display)*t.ch);var n=Le(e.doc,t.line),l=Mn(n)+_i(e.display);return{left:r,right:r,top:l,bottom:l+n.height}}function El(e,t,r,n,l){var f=ve(e,t,r);return f.xRel=l,n&&(f.outside=n),f}function Cl(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return El(n.first,0,null,-1,-1);var l=kn(n,r),f=n.first+n.size-1;if(l>f)return El(n.first+n.size-1,Le(n,f).text.length,null,1,1);t<0&&(t=0);for(var _=Le(n,l);;){var T=A1(e,_,l,t,r),L=o1(_,T.ch+(T.xRel>0||T.outside>0?1:0));if(!L)return T;var D=L.find(1);if(D.line==l)return D;_=Le(n,l=D.line)}}function Ds(e,t,r,n){n-=Sl(t);var l=t.text.length,f=yt(function(_){return On(e,r,_-1).bottom<=n},l,0);return l=yt(function(_){return On(e,r,_).top>n},f,l),{begin:f,end:l}}function Is(e,t,r,n){r||(r=Lr(e,t));var l=bi(e,t,On(e,r,n),"line").top;return Ds(e,t,r,l)}function Ol(e,t,r,n){return e.bottom<=r?!1:e.top>r?!0:(n?e.left:e.right)>t}function A1(e,t,r,n,l){l-=Mn(t);var f=Lr(e,t),_=Sl(t),T=0,L=t.text.length,D=!0,$=Xt(t,e.doc.direction);if($){var G=(e.options.lineWrapping?B1:L1)(e,t,r,f,$,n,l);D=G.level!=1,T=D?G.from:G.to-1,L=D?G.to:G.from-1}var re=null,ee=null,ue=yt(function(Ie){var De=On(e,f,Ie);return De.top+=_,De.bottom+=_,Ol(De,n,l,!1)?(De.top<=l&&De.left<=n&&(re=Ie,ee=De),!0):!1},T,L),de,be,xe=!1;if(ee){var Ce=n-ee.left<ee.right-n,ke=Ce==D;ue=re+(ke?0:1),be=ke?"after":"before",de=Ce?ee.left:ee.right}else{!D&&(ue==L||ue==T)&&ue++,be=ue==0?"after":ue==t.text.length?"before":On(e,f,ue-(D?1:0)).bottom+_<=l==D?"after":"before";var Ne=pn(e,ve(r,ue,be),"line",t,f);de=Ne.left,xe=l<Ne.top?-1:l>=Ne.bottom?1:0}return ue=At(t.text,ue,1),El(r,ue,be,xe,n-de)}function L1(e,t,r,n,l,f,_){var T=yt(function(G){var re=l[G],ee=re.level!=1;return Ol(pn(e,ve(r,ee?re.to:re.from,ee?"before":"after"),"line",t,n),f,_,!0)},0,l.length-1),L=l[T];if(T>0){var D=L.level!=1,$=pn(e,ve(r,D?L.from:L.to,D?"after":"before"),"line",t,n);Ol($,f,_,!0)&&$.top>_&&(L=l[T-1])}return L}function B1(e,t,r,n,l,f,_){var T=Ds(e,t,n,_),L=T.begin,D=T.end;/\s/.test(t.text.charAt(D-1))&&D--;for(var $=null,G=null,re=0;re<l.length;re++){var ee=l[re];if(!(ee.from>=D||ee.to<=L)){var ue=ee.level!=1,de=On(e,n,ue?Math.min(D,ee.to)-1:Math.max(L,ee.from)).right,be=de<f?f-de+1e9:de-f;(!$||G>be)&&($=ee,G=be)}}return $||($=l[l.length-1]),$.from<L&&($={from:L,to:$.to,level:$.level}),$.to>D&&($={from:$.from,to:D,level:$.level}),$}var ar;function Br(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(ar==null){ar=j("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ar.appendChild(document.createTextNode("x")),ar.appendChild(j("br"));ar.appendChild(document.createTextNode("x"))}B(e.measure,ar);var r=ar.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),P(e.measure),r||1}function Dr(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=j("span","xxxxxxxxxx"),r=j("pre",[t],"CodeMirror-line-like");B(e.measure,r);var n=t.getBoundingClientRect(),l=(n.right-n.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function Tl(e){for(var t=e.display,r={},n={},l=t.gutters.clientLeft,f=t.gutters.firstChild,_=0;f;f=f.nextSibling,++_){var T=e.display.gutterSpecs[_].className;r[T]=f.offsetLeft+f.clientLeft+l,n[T]=f.clientWidth}return{fixedPos:Nl(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Nl(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ms(e){var t=Br(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Dr(e.display)-3);return function(l){if(Un(e.doc,l))return 0;var f=0;if(l.widgets)for(var _=0;_<l.widgets.length;_++)l.widgets[_].height&&(f+=l.widgets[_].height);return r?f+(Math.ceil(l.text.length/n)||1)*t:f+t}}function Al(e){var t=e.doc,r=Ms(e);t.iter(function(n){var l=r(n);l!=n.height&&Zt(n,l)})}function sr(e,t,r,n){var l=e.display;if(!r&&Hn(t).getAttribute("cm-not-content")=="true")return null;var f,_,T=l.lineSpace.getBoundingClientRect();try{f=t.clientX-T.left,_=t.clientY-T.top}catch(G){return null}var L=Cl(e,f,_),D;if(n&&L.xRel>0&&(D=Le(e.doc,L.line).text).length==L.ch){var $=ae(D,D.length,e.options.tabSize)-D.length;L=ve(L.line,Math.max(0,Math.round((f-xs(e.display).left)/Dr(e.display))-$))}return L}function ur(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Wt(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var l=e.display;if(n&&r<l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>t)&&(l.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=l.viewTo)In&&vl(e.doc,t)<l.viewTo&&Kn(e);else if(r<=l.viewFrom)In&&ds(e.doc,r+n)>l.viewFrom?Kn(e):(l.viewFrom+=n,l.viewTo+=n);else if(t<=l.viewFrom&&r>=l.viewTo)Kn(e);else if(t<=l.viewFrom){var f=xi(e,r,r+n,1);f?(l.view=l.view.slice(f.index),l.viewFrom=f.lineN,l.viewTo+=n):Kn(e)}else if(r>=l.viewTo){var _=xi(e,t,t,-1);_?(l.view=l.view.slice(0,_.index),l.viewTo=_.lineN):Kn(e)}else{var T=xi(e,t,t,-1),L=xi(e,r,r+n,1);T&&L?(l.view=l.view.slice(0,T.index).concat(yi(e,T.lineN,L.lineN)).concat(l.view.slice(L.index)),l.viewTo+=n):Kn(e)}var D=l.externalMeasured;D&&(r<D.lineN?D.lineN+=n:t<D.lineN+D.size&&(l.externalMeasured=null))}function $n(e,t,r){e.curOp.viewChanged=!0;var n=e.display,l=e.display.externalMeasured;if(l&&t>=l.lineN&&t<l.lineN+l.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var f=n.view[ur(e,t)];if(f.node!=null){var _=f.changes||(f.changes=[]);W(_,r)==-1&&_.push(r)}}}function Kn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function xi(e,t,r,n){var l=ur(e,t),f,_=e.display.view;if(!In||r==e.doc.first+e.doc.size)return{index:l,lineN:r};for(var T=e.display.viewFrom,L=0;L<l;L++)T+=_[L].size;if(T!=t){if(n>0){if(l==_.length-1)return null;f=T+_[l].size-t,l++}else f=T-t;t+=f,r+=f}for(;vl(e.doc,r)!=r;){if(l==(n<0?0:_.length-1))return null;r+=n*_[l-(n<0?1:0)].size,l+=n}return{index:l,lineN:r}}function D1(e,t,r){var n=e.display,l=n.view;l.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=yi(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=yi(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(ur(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(yi(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,ur(e,r)))),n.viewTo=r}function Vs(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var l=t[n];!l.hidden&&(!l.node||l.changes)&&++r}return r}function wo(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Rs(e,t){t===void 0&&(t=!0);for(var r=e.doc,n={},l=n.cursors=document.createDocumentFragment(),f=n.selection=document.createDocumentFragment(),_=0;_<r.sel.ranges.length;_++)if(!(!t&&_==r.sel.primIndex)){var T=r.sel.ranges[_];if(!(T.from().line>=e.display.viewTo||T.to().line<e.display.viewFrom)){var L=T.empty();(L||e.options.showCursorWhenSelecting)&&Ps(e,T.head,l),L||I1(e,T,f)}}return n}function Ps(e,t,r){var n=pn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),l=r.appendChild(j("div","\xA0","CodeMirror-cursor"));if(l.style.left=n.left+"px",l.style.top=n.top+"px",l.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var f=wi(e,t,"div",null,null);f.right-f.left>0&&(l.style.width=f.right-f.left+"px")}if(n.other){var _=r.appendChild(j("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));_.style.display="",_.style.left=n.other.left+"px",_.style.top=n.other.top+"px",_.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function ki(e,t){return e.top-t.top||e.left-t.left}function I1(e,t,r){var n=e.display,l=e.doc,f=document.createDocumentFragment(),_=xs(e.display),T=_.left,L=Math.max(n.sizerWidth,lr(e)-n.sizer.offsetLeft)-_.right,D=l.direction=="ltr";function $(ke,Ne,Ie,De){Ne<0&&(Ne=0),Ne=Math.round(Ne),De=Math.round(De),f.appendChild(j("div",null,"CodeMirror-selected","position: absolute; left: "+ke+`px;
                             top: `+Ne+"px; width: "+(Ie==null?L-ke:Ie)+`px;
                             height: `+(De-Ne)+"px"))}function G(ke,Ne,Ie){var De=Le(l,ke),Ke=De.text.length,tt,St;function lt(mt,Kt){return wi(e,ve(ke,mt),"div",De,Kt)}function Qt(mt,Kt,Ot){var _t=Is(e,De,null,mt),gt=Kt=="ltr"==(Ot=="after")?"left":"right",st=Ot=="after"?_t.begin:_t.end-(/\s/.test(De.text.charAt(_t.end-1))?2:1);return lt(st,gt)[gt]}var $t=Xt(De,l.direction);return rt($t,Ne||0,Ie==null?Ke:Ie,function(mt,Kt,Ot,_t){var gt=Ot=="ltr",st=lt(mt,gt?"left":"right"),Gt=lt(Kt-1,gt?"right":"left"),$r=Ne==null&&mt==0,Qn=Ie==null&&Kt==Ke,It=_t==0,Tn=!$t||_t==$t.length-1;if(Gt.top-st.top<=3){var Et=(D?$r:Qn)&&It,na=(D?Qn:$r)&&Tn,Fn=Et?T:(gt?st:Gt).left,pr=na?L:(gt?Gt:st).right;$(Fn,st.top,pr-Fn,st.bottom)}else{var mr,Pt,Kr,ra;gt?(mr=D&&$r&&It?T:st.left,Pt=D?L:Qt(mt,Ot,"before"),Kr=D?T:Qt(Kt,Ot,"after"),ra=D&&Qn&&Tn?L:Gt.right):(mr=D?Qt(mt,Ot,"before"):T,Pt=!D&&$r&&It?L:st.right,Kr=!D&&Qn&&Tn?T:Gt.left,ra=D?Qt(Kt,Ot,"after"):L),$(mr,st.top,Pt-mr,st.bottom),st.bottom<Gt.top&&$(T,st.bottom,null,Gt.top),$(Kr,Gt.top,ra-Kr,Gt.bottom)}(!tt||ki(st,tt)<0)&&(tt=st),ki(Gt,tt)<0&&(tt=Gt),(!St||ki(st,St)<0)&&(St=st),ki(Gt,St)<0&&(St=Gt)}),{start:tt,end:St}}var re=t.from(),ee=t.to();if(re.line==ee.line)G(re.line,re.ch,ee.ch);else{var ue=Le(l,re.line),de=Le(l,ee.line),be=En(ue)==En(de),xe=G(re.line,re.ch,be?ue.text.length+1:null).end,Ce=G(ee.line,be?0:null,ee.ch).start;be&&(xe.top<Ce.top-2?($(xe.right,xe.top,null,xe.bottom),$(T,Ce.top,Ce.left,Ce.bottom)):$(xe.right,xe.top,Ce.left-xe.right,xe.bottom)),xe.bottom<Ce.top&&$(T,xe.bottom,null,Ce.top)}r.appendChild(f)}function Ll(e){if(!!e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ir(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fs(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Dl(e))}function Bl(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ir(e))},100)}function Dl(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(Re(e,"focus",e,t),e.state.focused=!0,te(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),S&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ll(e))}function Ir(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Re(e,"blur",e,t),e.state.focused=!1,I(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Si(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),l=t.lineDiv.getBoundingClientRect().top,f=0,_=0;_<t.view.length;_++){var T=t.view[_],L=e.options.lineWrapping,D=void 0,$=0;if(!T.hidden){if(l+=T.line.height,v&&w<8){var G=T.node.offsetTop+T.node.offsetHeight;D=G-r,r=G}else{var re=T.node.getBoundingClientRect();D=re.bottom-re.top,!L&&T.text.firstChild&&($=T.text.firstChild.getBoundingClientRect().right-re.left-1)}var ee=T.line.height-D;if((ee>.005||ee<-.005)&&(l<n&&(f-=ee),Zt(T.line,D),js(T.line),T.rest))for(var ue=0;ue<T.rest.length;ue++)js(T.rest[ue]);if($>e.display.sizerWidth){var de=Math.ceil($/Dr(e.display));de>e.display.maxLineLength&&(e.display.maxLineLength=de,e.display.maxLine=T.line,e.display.maxLineChanged=!0)}}}Math.abs(f)>2&&(t.scroller.scrollTop+=f)}function js(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Ei(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-_i(e));var l=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,f=kn(t,n),_=kn(t,l);if(r&&r.ensure){var T=r.ensure.from.line,L=r.ensure.to.line;T<f?(f=T,_=kn(t,Mn(Le(t,T))+e.wrapper.clientHeight)):Math.min(L,t.lastLine())>=_&&(f=kn(t,Mn(Le(t,L))-e.wrapper.clientHeight),_=L)}return{from:f,to:Math.max(_,f+1)}}function M1(e,t){if(!pt(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),l=null;if(t.top+n.top<0?l=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(l=!1),l!=null&&!O){var f=j("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-_i(e.display))+`px;
                         height: `+(t.bottom-t.top+Cn(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(f),f.scrollIntoView(l),e.display.lineSpace.removeChild(f)}}}function V1(e,t,r,n){n==null&&(n=0);var l;!e.options.lineWrapping&&t==r&&(r=t.sticky=="before"?ve(t.line,t.ch+1,"before"):t,t=t.ch?ve(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var f=0;f<5;f++){var _=!1,T=pn(e,t),L=!r||r==t?T:pn(e,r);l={left:Math.min(T.left,L.left),top:Math.min(T.top,L.top)-n,right:Math.max(T.left,L.left),bottom:Math.max(T.bottom,L.bottom)+n};var D=Il(e,l),$=e.doc.scrollTop,G=e.doc.scrollLeft;if(D.scrollTop!=null&&(ko(e,D.scrollTop),Math.abs(e.doc.scrollTop-$)>1&&(_=!0)),D.scrollLeft!=null&&(fr(e,D.scrollLeft),Math.abs(e.doc.scrollLeft-G)>1&&(_=!0)),!_)break}return l}function R1(e,t){var r=Il(e,t);r.scrollTop!=null&&ko(e,r.scrollTop),r.scrollLeft!=null&&fr(e,r.scrollLeft)}function Il(e,t){var r=e.display,n=Br(e.display);t.top<0&&(t.top=0);var l=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,f=xl(e),_={};t.bottom-t.top>f&&(t.bottom=t.top+f);var T=e.doc.height+wl(r),L=t.top<n,D=t.bottom>T-n;if(t.top<l)_.scrollTop=L?0:t.top;else if(t.bottom>l+f){var $=Math.min(t.top,(D?T:t.bottom)-f);$!=l&&(_.scrollTop=$)}var G=e.options.fixedGutter?0:r.gutters.offsetWidth,re=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-G,ee=lr(e)-r.gutters.offsetWidth,ue=t.right-t.left>ee;return ue&&(t.right=t.left+ee),t.left<10?_.scrollLeft=0:t.left<re?_.scrollLeft=Math.max(0,t.left+G-(ue?0:10)):t.right>ee+re-3&&(_.scrollLeft=t.right+(ue?0:10)-ee),_}function Ml(e,t){t!=null&&(Ci(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Mr(e){Ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function xo(e,t,r){(t!=null||r!=null)&&Ci(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function P1(e,t){Ci(e),e.curOp.scrollToPos=t}function Ci(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=Bs(e,t.from),n=Bs(e,t.to);qs(e,r,n,t.margin)}}function qs(e,t,r,n){var l=Il(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});xo(e,l.scrollLeft,l.scrollTop)}function ko(e,t){Math.abs(e.doc.scrollTop-t)<2||(c||Rl(e,{top:t}),zs(e,t,!0),c&&Rl(e),Co(e,100))}function zs(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function fr(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n)&&(e.doc.scrollLeft=t,Ks(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function So(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+wl(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Cn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var cr=function(e,t,r){this.cm=r;var n=this.vert=j("div",[j("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),l=this.horiz=j("div",[j("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=l.tabIndex=-1,e(n),e(l),Me(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Me(l,"scroll",function(){l.clientWidth&&t(l.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,v&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};cr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var l=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+l)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var f=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+f)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},cr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},cr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},cr.prototype.zeroWidthHack=function(){var e=y&&!E?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ne,this.disableVert=new ne},cr.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto";function n(){var l=e.getBoundingClientRect(),f=r=="vert"?document.elementFromPoint(l.right-1,(l.top+l.bottom)/2):document.elementFromPoint((l.right+l.left)/2,l.bottom-1);f!=e?e.style.pointerEvents="none":t.set(1e3,n)}t.set(1e3,n)},cr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Eo=function(){};Eo.prototype.update=function(){return{bottom:0,right:0}},Eo.prototype.setScrollLeft=function(){},Eo.prototype.setScrollTop=function(){},Eo.prototype.clear=function(){};function Vr(e,t){t||(t=So(e));var r=e.display.barWidth,n=e.display.barHeight;Hs(e,t);for(var l=0;l<4&&r!=e.display.barWidth||n!=e.display.barHeight;l++)r!=e.display.barWidth&&e.options.lineWrapping&&Si(e),Hs(e,So(e)),r=e.display.barWidth,n=e.display.barHeight}function Hs(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}var Ws={native:cr,null:Eo};function Us(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ws[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Me(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?fr(e,t):ko(e,t)},e),e.display.scrollbars.addClass&&te(e.display.wrapper,e.display.scrollbars.addClass)}var F1=0;function dr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++F1,markArrays:null},g1(e.curOp)}function hr(e){var t=e.curOp;t&&y1(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;j1(r)})}function j1(e){for(var t=e.ops,r=0;r<t.length;r++)q1(t[r]);for(var n=0;n<t.length;n++)z1(t[n]);for(var l=0;l<t.length;l++)H1(t[l]);for(var f=0;f<t.length;f++)W1(t[f]);for(var _=0;_<t.length;_++)U1(t[_])}function q1(e){var t=e.cm,r=t.display;K1(t),e.updateMaxLine&&_l(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Oi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function z1(e){e.updatedDisplay=e.mustUpdate&&Vl(e.cm,e.update)}function H1(e){var t=e.cm,r=t.display;e.updatedDisplay&&Si(t),e.barMeasure=So(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ss(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Cn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-lr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function W1(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&fr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==pe();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Vr(t,e.barMeasure),e.updatedDisplay&&Fl(t,e.barMeasure),e.selectionChanged&&Ll(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Fs(e.cm)}function U1(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&$s(t,e.update),r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&zs(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&fr(t,e.scrollLeft,!0,!0),e.scrollToPos){var l=V1(t,Oe(n,e.scrollToPos.from),Oe(n,e.scrollToPos.to),e.scrollToPos.margin);M1(t,l)}var f=e.maybeHiddenMarkers,_=e.maybeUnhiddenMarkers;if(f)for(var T=0;T<f.length;++T)f[T].lines.length||Re(f[T],"hide");if(_)for(var L=0;L<_.length;++L)_[L].lines.length&&Re(_[L],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Re(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Jt(e,t){if(e.curOp)return t();dr(e);try{return t()}finally{hr(e)}}function xt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);dr(e);try{return t.apply(e,arguments)}finally{hr(e)}}}function Rt(e){return function(){if(this.curOp)return e.apply(this,arguments);dr(this);try{return e.apply(this,arguments)}finally{hr(this)}}}function kt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);dr(t);try{return e.apply(this,arguments)}finally{hr(t)}}}function Co(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,K($1,e))}function $1(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=mo(e,t.highlightFrontier),l=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(f){if(n.line>=e.display.viewFrom){var _=f.styles,T=f.text.length>e.options.maxHighlightLength?ln(t.mode,n.state):null,L=Ja(e,f,n,!0);T&&(n.state=T),f.styles=L.styles;var D=f.styleClasses,$=L.classes;$?f.styleClasses=$:D&&(f.styleClasses=null);for(var G=!_||_.length!=f.styles.length||D!=$&&(!D||!$||D.bgClass!=$.bgClass||D.textClass!=$.textClass),re=0;!G&&re<_.length;++re)G=_[re]!=f.styles[re];G&&l.push(n.line),f.stateAfter=n.save(),n.nextLine()}else f.text.length<=e.options.maxHighlightLength&&hl(e,f.text,n),f.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Co(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),l.length&&Jt(e,function(){for(var f=0;f<l.length;f++)$n(e,l[f],"text")})}}var Oi=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Ei(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=lr(e),this.force=r,this.dims=Tl(e),this.events=[]};Oi.prototype.signal=function(e,t){Ct(e,t)&&this.events.push(arguments)},Oi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Re.apply(null,this.events[e])};function K1(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Cn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Cn(e)+"px",t.scrollbarsClipped=!0)}function G1(e){if(e.hasFocus())return null;var t=pe();if(!t||!ie(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&ie(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Y1(e){if(!(!e||!e.activeElt||e.activeElt==pe())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&ie(document.body,e.anchorNode)&&ie(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Vl(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Kn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Vs(e)==0)return!1;Gs(e)&&(Kn(e),t.dims=Tl(e));var l=n.first+n.size,f=Math.max(t.visible.from-e.options.viewportMargin,n.first),_=Math.min(l,t.visible.to+e.options.viewportMargin);r.viewFrom<f&&f-r.viewFrom<20&&(f=Math.max(n.first,r.viewFrom)),r.viewTo>_&&r.viewTo-_<20&&(_=Math.min(l,r.viewTo)),In&&(f=vl(e.doc,f),_=ds(e.doc,_));var T=f!=r.viewFrom||_!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;D1(e,f,_),r.viewOffset=Mn(Le(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var L=Vs(e);if(!T&&L==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var D=G1(e);return L>4&&(r.lineDiv.style.display="none"),X1(e,r.updateLineNumbers,t.dims),L>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Y1(D),P(r.cursorDiv),P(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,T&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Co(e,400)),r.updateLineNumbers=null,!0}function $s(e,t){for(var r=t.viewport,n=!0;;n=!1){if(!n||!e.options.lineWrapping||t.oldDisplayWidth==lr(e)){if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+wl(e.display)-xl(e),r.top)}),t.visible=Ei(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else n&&(t.visible=Ei(e.display,e.doc,r));if(!Vl(e,t))break;Si(e);var l=So(e);wo(e),Vr(e,l),Fl(e,l),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Rl(e,t){var r=new Oi(e,t);if(Vl(e,r)){Si(e),$s(e,r);var n=So(e);wo(e),Vr(e,n),Fl(e,n),r.finish()}}function X1(e,t,r){var n=e.display,l=e.options.lineNumbers,f=n.lineDiv,_=f.firstChild;function T(ue){var de=ue.nextSibling;return S&&y&&e.display.currentWheelTarget==ue?ue.style.display="none":ue.parentNode.removeChild(ue),de}for(var L=n.view,D=n.viewFrom,$=0;$<L.length;$++){var G=L[$];if(!G.hidden)if(!G.node||G.node.parentNode!=f){var re=k1(e,G,D,r);f.insertBefore(re,_)}else{for(;_!=G.node;)_=T(_);var ee=l&&t!=null&&t<=D&&G.lineNumber;G.changes&&(W(G.changes,"gutter")>-1&&(ee=!1),vs(e,G,D,r)),ee&&(P(G.lineNumber),G.lineNumber.appendChild(document.createTextNode(po(e.options,D)))),_=G.node.nextSibling}D+=G.size}for(;_;)_=T(_)}function Pl(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",wt(e,"gutterChanged",e)}function Fl(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Cn(e)+"px"}function Ks(e){var t=e.display,r=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var n=Nl(t)-t.scroller.scrollLeft+e.doc.scrollLeft,l=t.gutters.offsetWidth,f=n+"px",_=0;_<r.length;_++)if(!r[_].hidden){e.options.fixedGutter&&(r[_].gutter&&(r[_].gutter.style.left=f),r[_].gutterBackground&&(r[_].gutterBackground.style.left=f));var T=r[_].alignable;if(T)for(var L=0;L<T.length;L++)T[L].style.left=f}e.options.fixedGutter&&(t.gutters.style.left=n+l+"px")}}function Gs(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=po(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var l=n.measure.appendChild(j("div",[j("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=l.firstChild.offsetWidth,_=l.offsetWidth-f;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(f,n.lineGutter.offsetWidth-_)+1,n.lineNumWidth=n.lineNumInnerWidth+_,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Pl(e.display),!0}return!1}function jl(e,t){for(var r=[],n=!1,l=0;l<e.length;l++){var f=e[l],_=null;if(typeof f!="string"&&(_=f.style,f=f.className),f=="CodeMirror-linenumbers")if(t)n=!0;else continue;r.push({className:f,style:_})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Ys(e){var t=e.gutters,r=e.gutterSpecs;P(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var l=r[n],f=l.className,_=l.style,T=t.appendChild(j("div",null,"CodeMirror-gutter "+f));_&&(T.style.cssText=_),f=="CodeMirror-linenumbers"&&(e.lineGutter=T,T.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Pl(e)}function Oo(e){Ys(e.display),Wt(e),Ks(e)}function Z1(e,t,r,n){var l=this;this.input=r,l.scrollbarFiller=j("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=j("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=V("div",null,"CodeMirror-code"),l.selectionDiv=j("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=j("div",null,"CodeMirror-cursors"),l.measure=j("div",null,"CodeMirror-measure"),l.lineMeasure=j("div",null,"CodeMirror-measure"),l.lineSpace=V("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var f=V("div",[l.lineSpace],"CodeMirror-lines");l.mover=j("div",[f],null,"position: relative"),l.sizer=j("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=j("div",null,null,"position: absolute; height: "+J+"px; width: 1px;"),l.gutters=j("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=j("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=j("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),l.wrapper.setAttribute("translate","no"),v&&w<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),!S&&!(c&&N)&&(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=t.first,l.reportedViewFrom=l.reportedViewTo=t.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=jl(n.gutters,n.lineNumbers),Ys(l),r.init(l)}var Ti=0,Rn=null;v?Rn=-.53:c?Rn=15:m?Rn=-.7:C&&(Rn=-1/3);function Xs(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function J1(e){var t=Xs(e);return t.x*=Rn,t.y*=Rn,t}function Zs(e,t){var r=Xs(t),n=r.x,l=r.y,f=Rn;t.deltaMode===0&&(n=t.deltaX,l=t.deltaY,f=1);var _=e.display,T=_.scroller,L=T.scrollWidth>T.clientWidth,D=T.scrollHeight>T.clientHeight;if(!!(n&&L||l&&D)){if(l&&y&&S){e:for(var $=t.target,G=_.view;$!=T;$=$.parentNode)for(var re=0;re<G.length;re++)if(G[re].node==$){e.display.currentWheelTarget=$;break e}}if(n&&!c&&!p&&f!=null){l&&D&&ko(e,Math.max(0,T.scrollTop+l*f)),fr(e,Math.max(0,T.scrollLeft+n*f)),(!l||l&&D)&&Lt(t),_.wheelStartX=null;return}if(l&&f!=null){var ee=l*f,ue=e.doc.scrollTop,de=ue+_.wrapper.clientHeight;ee<0?ue=Math.max(0,ue+ee-50):de=Math.min(e.doc.height,de+ee+50),Rl(e,{top:ue,bottom:de})}Ti<20&&t.deltaMode!==0&&(_.wheelStartX==null?(_.wheelStartX=T.scrollLeft,_.wheelStartY=T.scrollTop,_.wheelDX=n,_.wheelDY=l,setTimeout(function(){if(_.wheelStartX!=null){var be=T.scrollLeft-_.wheelStartX,xe=T.scrollTop-_.wheelStartY,Ce=xe&&_.wheelDY&&xe/_.wheelDY||be&&_.wheelDX&&be/_.wheelDX;_.wheelStartX=_.wheelStartY=null,!!Ce&&(Rn=(Rn*Ti+Ce)/(Ti+1),++Ti)}},200)):(_.wheelDX+=n,_.wheelDY+=l))}}var sn=function(e,t){this.ranges=e,this.primIndex=t};sn.prototype.primary=function(){return this.ranges[this.primIndex]},sn.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!Y(r.anchor,n.anchor)||!Y(r.head,n.head))return!1}return!0},sn.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ze(ce(this.ranges[t].anchor),ce(this.ranges[t].head));return new sn(e,this.primIndex)},sn.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},sn.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(M(t,n.from())>=0&&M(e,n.to())<=0)return r}return-1};var Ze=function(e,t){this.anchor=e,this.head=t};Ze.prototype.from=function(){return Pe(this.anchor,this.head)},Ze.prototype.to=function(){return _e(this.anchor,this.head)},Ze.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function mn(e,t,r){var n=e&&e.options.selectionsMayTouch,l=t[r];t.sort(function(re,ee){return M(re.from(),ee.from())}),r=W(t,l);for(var f=1;f<t.length;f++){var _=t[f],T=t[f-1],L=M(T.to(),_.from());if(n&&!_.empty()?L>0:L>=0){var D=Pe(T.from(),_.from()),$=_e(T.to(),_.to()),G=T.empty()?_.from()==_.head:T.from()==T.head;f<=r&&--r,t.splice(--f,2,new Ze(G?$:D,G?D:$))}}return new sn(t,r)}function Gn(e,t){return new sn([new Ze(e,t||e)],0)}function Yn(e){return e.text?ve(e.from.line+e.text.length-1,Ae(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Js(e,t){if(M(e,t.from)<0)return e;if(M(e,t.to)<=0)return Yn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Yn(t).ch-t.to.ch),ve(r,n)}function ql(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var l=e.sel.ranges[n];r.push(new Ze(Js(l.anchor,t),Js(l.head,t)))}return mn(e.cm,r,e.sel.primIndex)}function Qs(e,t,r){return e.line==t.line?ve(r.line,e.ch-t.ch+r.ch):ve(r.line+(e.line-t.line),e.ch)}function Q1(e,t,r){for(var n=[],l=ve(e.first,0),f=l,_=0;_<t.length;_++){var T=t[_],L=Qs(T.from,l,f),D=Qs(Yn(T),l,f);if(l=T.to,f=D,r=="around"){var $=e.sel.ranges[_],G=M($.head,$.anchor)<0;n[_]=new Ze(G?D:L,G?L:D)}else n[_]=new Ze(L,L)}return new sn(n,e.sel.primIndex)}function zl(e){e.doc.mode=Or(e.options,e.doc.modeOption),To(e)}function To(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Co(e,100),e.state.modeGen++,e.curOp&&Wt(e)}function eu(e,t){return t.from.ch==0&&t.to.ch==0&&Ae(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Hl(e,t,r,n){function l(Ce){return r?r[Ce]:null}function f(Ce,ke,Ne){a1(Ce,ke,Ne,n),wt(Ce,"change",Ce,t)}function _(Ce,ke){for(var Ne=[],Ie=Ce;Ie<ke;++Ie)Ne.push(new Nr(D[Ie],l(Ie),n));return Ne}var T=t.from,L=t.to,D=t.text,$=Le(e,T.line),G=Le(e,L.line),re=Ae(D),ee=l(D.length-1),ue=L.line-T.line;if(t.full)e.insert(0,_(0,D.length)),e.remove(D.length,e.size-D.length);else if(eu(e,t)){var de=_(0,D.length-1);f(G,G.text,ee),ue&&e.remove(T.line,ue),de.length&&e.insert(T.line,de)}else if($==G)if(D.length==1)f($,$.text.slice(0,T.ch)+re+$.text.slice(L.ch),ee);else{var be=_(1,D.length-1);be.push(new Nr(re+$.text.slice(L.ch),ee,n)),f($,$.text.slice(0,T.ch)+D[0],l(0)),e.insert(T.line+1,be)}else if(D.length==1)f($,$.text.slice(0,T.ch)+D[0]+G.text.slice(L.ch),l(0)),e.remove(T.line+1,ue);else{f($,$.text.slice(0,T.ch)+D[0],l(0)),f(G,re+G.text.slice(L.ch),ee);var xe=_(1,D.length-1);ue>1&&e.remove(T.line+1,ue-1),e.insert(T.line+1,xe)}wt(e,"change",e,t)}function Xn(e,t,r){function n(l,f,_){if(l.linked)for(var T=0;T<l.linked.length;++T){var L=l.linked[T];if(L.doc!=f){var D=_&&L.sharedHist;r&&!D||(t(L.doc,D),n(L.doc,l,D))}}}n(e,null,!0)}function tu(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Al(e),zl(e),nu(e),e.options.direction=t.direction,e.options.lineWrapping||_l(e),e.options.mode=t.modeOption,Wt(e)}function nu(e){(e.doc.direction=="rtl"?te:I)(e.display.lineDiv,"CodeMirror-rtl")}function ew(e){Jt(e,function(){nu(e),Wt(e)})}function Ni(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Wl(e,t){var r={from:ce(t.from),to:Yn(t),text:xn(e,t.from,t.to)};return iu(e,r,t.from.line,t.to.line+1),Xn(e,function(n){return iu(n,r,t.from.line,t.to.line+1)},!0),r}function ru(e){for(;e.length;){var t=Ae(e);if(t.ranges)e.pop();else break}}function tw(e,t){if(t)return ru(e.done),Ae(e.done);if(e.done.length&&!Ae(e.done).ranges)return Ae(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Ae(e.done)}function ou(e,t,r,n){var l=e.history;l.undone.length=0;var f=+new Date,_,T;if((l.lastOp==n||l.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&l.lastModTime>f-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(_=tw(l,l.lastOp==n)))T=Ae(_.changes),M(t.from,t.to)==0&&M(t.from,T.to)==0?T.to=Yn(t):_.changes.push(Wl(e,t));else{var L=Ae(l.done);for((!L||!L.ranges)&&Ai(e.sel,l.done),_={changes:[Wl(e,t)],generation:l.generation},l.done.push(_);l.done.length>l.undoDepth;)l.done.shift(),l.done[0].ranges||l.done.shift()}l.done.push(r),l.generation=++l.maxGeneration,l.lastModTime=l.lastSelTime=f,l.lastOp=l.lastSelOp=n,l.lastOrigin=l.lastSelOrigin=t.origin,T||Re(e,"historyAdded")}function nw(e,t,r,n){var l=t.charAt(0);return l=="*"||l=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function rw(e,t,r,n){var l=e.history,f=n&&n.origin;r==l.lastSelOp||f&&l.lastSelOrigin==f&&(l.lastModTime==l.lastSelTime&&l.lastOrigin==f||nw(e,f,Ae(l.done),t))?l.done[l.done.length-1]=t:Ai(t,l.done),l.lastSelTime=+new Date,l.lastSelOrigin=f,l.lastSelOp=r,n&&n.clearRedo!==!1&&ru(l.undone)}function Ai(e,t){var r=Ae(t);r&&r.ranges&&r.equals(e)||t.push(e)}function iu(e,t,r,n){var l=t["spans_"+e.id],f=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(_){_.markedSpans&&((l||(l=t["spans_"+e.id]={}))[f]=_.markedSpans),++f})}function ow(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function iw(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],l=0;l<t.text.length;++l)n.push(ow(r[l]));return n}function lu(e,t){var r=iw(e,t),n=ml(e,t);if(!r)return n;if(!n)return r;for(var l=0;l<r.length;++l){var f=r[l],_=n[l];if(f&&_){e:for(var T=0;T<_.length;++T){for(var L=_[T],D=0;D<f.length;++D)if(f[D].marker==L.marker)continue e;f.push(L)}}else _&&(r[l]=_)}return r}function Rr(e,t,r){for(var n=[],l=0;l<e.length;++l){var f=e[l];if(f.ranges){n.push(r?sn.prototype.deepCopy.call(f):f);continue}var _=f.changes,T=[];n.push({changes:T});for(var L=0;L<_.length;++L){var D=_[L],$=void 0;if(T.push({from:D.from,to:D.to,text:D.text}),t)for(var G in D)($=G.match(/^spans_(\d+)$/))&&W(t,Number($[1]))>-1&&(Ae(T)[G]=D[G],delete D[G])}}return n}function Ul(e,t,r,n){if(n){var l=e.anchor;if(r){var f=M(t,l)<0;f!=M(r,l)<0?(l=t,t=r):f!=M(t,r)<0&&(t=r)}return new Ze(l,t)}else return new Ze(r||t,t)}function Li(e,t,r,n,l){l==null&&(l=e.cm&&(e.cm.display.shift||e.extend)),Dt(e,new sn([Ul(e.sel.primary(),t,r,l)],0),n)}function au(e,t,r){for(var n=[],l=e.cm&&(e.cm.display.shift||e.extend),f=0;f<e.sel.ranges.length;f++)n[f]=Ul(e.sel.ranges[f],t[f],null,l);var _=mn(e.cm,n,e.sel.primIndex);Dt(e,_,r)}function $l(e,t,r,n){var l=e.sel.ranges.slice(0);l[t]=r,Dt(e,mn(e.cm,l,e.sel.primIndex),n)}function su(e,t,r,n){Dt(e,Gn(t,r),n)}function lw(e,t,r){var n={ranges:t.ranges,update:function(l){this.ranges=[];for(var f=0;f<l.length;f++)this.ranges[f]=new Ze(Oe(e,l[f].anchor),Oe(e,l[f].head))},origin:r&&r.origin};return Re(e,"beforeSelectionChange",e,n),e.cm&&Re(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?mn(e.cm,n.ranges,n.ranges.length-1):t}function uu(e,t,r){var n=e.history.done,l=Ae(n);l&&l.ranges?(n[n.length-1]=t,Bi(e,t,r)):Dt(e,t,r)}function Dt(e,t,r){Bi(e,t,r),rw(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Bi(e,t,r){(Ct(e,"beforeSelectionChange")||e.cm&&Ct(e.cm,"beforeSelectionChange"))&&(t=lw(e,t,r));var n=r&&r.bias||(M(t.primary().head,e.sel.primary().head)<0?-1:1);fu(e,du(e,t,n,!0)),!(r&&r.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Mr(e.cm)}function fu(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Sr(e.cm)),wt(e,"cursorActivity",e))}function cu(e){fu(e,du(e,e.sel,null,!1))}function du(e,t,r,n){for(var l,f=0;f<t.ranges.length;f++){var _=t.ranges[f],T=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[f],L=Di(e,_.anchor,T&&T.anchor,r,n),D=Di(e,_.head,T&&T.head,r,n);(l||L!=_.anchor||D!=_.head)&&(l||(l=t.ranges.slice(0,f)),l[f]=new Ze(L,D))}return l?mn(e.cm,l,t.primIndex):t}function Pr(e,t,r,n,l){var f=Le(e,t.line);if(f.markedSpans)for(var _=0;_<f.markedSpans.length;++_){var T=f.markedSpans[_],L=T.marker,D="selectLeft"in L?!L.selectLeft:L.inclusiveLeft,$="selectRight"in L?!L.selectRight:L.inclusiveRight;if((T.from==null||(D?T.from<=t.ch:T.from<t.ch))&&(T.to==null||($?T.to>=t.ch:T.to>t.ch))){if(l&&(Re(L,"beforeCursorEnter"),L.explicitlyCleared))if(f.markedSpans){--_;continue}else break;if(!L.atomic)continue;if(r){var G=L.find(n<0?1:-1),re=void 0;if((n<0?$:D)&&(G=hu(e,G,-n,G&&G.line==t.line?f:null)),G&&G.line==t.line&&(re=M(G,r))&&(n<0?re<0:re>0))return Pr(e,G,t,n,l)}var ee=L.find(n<0?-1:1);return(n<0?D:$)&&(ee=hu(e,ee,n,ee.line==t.line?f:null)),ee?Pr(e,ee,t,n,l):null}}return t}function Di(e,t,r,n,l){var f=n||1,_=Pr(e,t,r,f,l)||!l&&Pr(e,t,r,f,!0)||Pr(e,t,r,-f,l)||!l&&Pr(e,t,r,-f,!0);return _||(e.cantEdit=!0,ve(e.first,0))}function hu(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?Oe(e,ve(t.line-1)):null:r>0&&t.ch==(n||Le(e,t.line)).text.length?t.line<e.first+e.size-1?ve(t.line+1,0):null:new ve(t.line,t.ch+r)}function pu(e){e.setSelection(ve(e.firstLine(),0),ve(e.lastLine()),se)}function mu(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(l,f,_,T){l&&(n.from=Oe(e,l)),f&&(n.to=Oe(e,f)),_&&(n.text=_),T!==void 0&&(n.origin=T)}),Re(e,"beforeChange",e,n),e.cm&&Re(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Fr(e,t,r){if(e.cm){if(!e.cm.curOp)return xt(e.cm,Fr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!((Ct(e,"beforeChange")||e.cm&&Ct(e.cm,"beforeChange"))&&(t=mu(e,t,!0),!t))){var n=is&&!r&&r1(e,t.from,t.to);if(n)for(var l=n.length-1;l>=0;--l)gu(e,{from:n[l].from,to:n[l].to,text:l?[""]:t.text,origin:t.origin});else gu(e,t)}}function gu(e,t){if(!(t.text.length==1&&t.text[0]==""&&M(t.from,t.to)==0)){var r=ql(e,t);ou(e,t,r,e.cm?e.cm.curOp.id:NaN),No(e,t,r,ml(e,t));var n=[];Xn(e,function(l,f){!f&&W(n,l.history)==-1&&(bu(l.history,t),n.push(l.history)),No(l,t,null,ml(l,t))})}}function Ii(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!(n&&!r)){for(var l=e.history,f,_=e.sel,T=t=="undo"?l.done:l.undone,L=t=="undo"?l.undone:l.done,D=0;D<T.length&&(f=T[D],!(r?f.ranges&&!f.equals(e.sel):!f.ranges));D++);if(D!=T.length){for(l.lastOrigin=l.lastSelOrigin=null;;)if(f=T.pop(),f.ranges){if(Ai(f,L),r&&!f.equals(e.sel)){Dt(e,f,{clearRedo:!1});return}_=f}else if(n){T.push(f);return}else break;var $=[];Ai(_,L),L.push({changes:$,generation:l.generation}),l.generation=f.generation||++l.maxGeneration;for(var G=Ct(e,"beforeChange")||e.cm&&Ct(e.cm,"beforeChange"),re=function(de){var be=f.changes[de];if(be.origin=t,G&&!mu(e,be,!1))return T.length=0,{};$.push(Wl(e,be));var xe=de?ql(e,be):Ae(T);No(e,be,xe,lu(e,be)),!de&&e.cm&&e.cm.scrollIntoView({from:be.from,to:Yn(be)});var Ce=[];Xn(e,function(ke,Ne){!Ne&&W(Ce,ke.history)==-1&&(bu(ke.history,be),Ce.push(ke.history)),No(ke,be,null,lu(ke,be))})},ee=f.changes.length-1;ee>=0;--ee){var ue=re(ee);if(ue)return ue.v}}}}function vu(e,t){if(t!=0&&(e.first+=t,e.sel=new sn(nt(e.sel.ranges,function(l){return new Ze(ve(l.anchor.line+t,l.anchor.ch),ve(l.head.line+t,l.head.ch))}),e.sel.primIndex),e.cm)){Wt(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)$n(e.cm,n,"gutter")}}function No(e,t,r,n){if(e.cm&&!e.cm.curOp)return xt(e.cm,No)(e,t,r,n);if(t.to.line<e.first){vu(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var l=t.text.length-1-(e.first-t.from.line);vu(e,l),t={from:ve(e.first,0),to:ve(t.to.line+l,t.to.ch),text:[Ae(t.text)],origin:t.origin}}var f=e.lastLine();t.to.line>f&&(t={from:t.from,to:ve(f,Le(e,f).text.length),text:[t.text[0]],origin:t.origin}),t.removed=xn(e,t.from,t.to),r||(r=ql(e,t)),e.cm?aw(e.cm,t,n):Hl(e,t,n),Bi(e,r,se),e.cantEdit&&Di(e,ve(e.firstLine(),0))&&(e.cantEdit=!1)}}function aw(e,t,r){var n=e.doc,l=e.display,f=t.from,_=t.to,T=!1,L=f.line;e.options.lineWrapping||(L=Xe(En(Le(n,f.line))),n.iter(L,_.line+1,function(ee){if(ee==l.maxLine)return T=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Sr(e),Hl(n,t,r,Ms(e)),e.options.lineWrapping||(n.iter(L,f.line+t.text.length,function(ee){var ue=vi(ee);ue>l.maxLineLength&&(l.maxLine=ee,l.maxLineLength=ue,l.maxLineChanged=!0,T=!1)}),T&&(e.curOp.updateMaxLine=!0)),X0(n,f.line),Co(e,400);var D=t.text.length-(_.line-f.line)-1;t.full?Wt(e):f.line==_.line&&t.text.length==1&&!eu(e.doc,t)?$n(e,f.line,"text"):Wt(e,f.line,_.line+1,D);var $=Ct(e,"changes"),G=Ct(e,"change");if(G||$){var re={from:f,to:_,text:t.text,removed:t.removed,origin:t.origin};G&&wt(e,"change",e,re),$&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(re)}e.display.selForContextMenu=null}function jr(e,t,r,n,l){var f;n||(n=r),M(n,r)<0&&(f=[n,r],r=f[0],n=f[1]),typeof t=="string"&&(t=e.splitLines(t)),Fr(e,{from:r,to:n,text:t,origin:l})}function yu(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function _u(e,t,r,n){for(var l=0;l<e.length;++l){var f=e[l],_=!0;if(f.ranges){f.copied||(f=e[l]=f.deepCopy(),f.copied=!0);for(var T=0;T<f.ranges.length;T++)yu(f.ranges[T].anchor,t,r,n),yu(f.ranges[T].head,t,r,n);continue}for(var L=0;L<f.changes.length;++L){var D=f.changes[L];if(r<D.from.line)D.from=ve(D.from.line+n,D.from.ch),D.to=ve(D.to.line+n,D.to.ch);else if(t<=D.to.line){_=!1;break}}_||(e.splice(0,l+1),l=0)}}function bu(e,t){var r=t.from.line,n=t.to.line,l=t.text.length-(n-r)-1;_u(e.done,r,n,l),_u(e.undone,r,n,l)}function Ao(e,t,r,n){var l=t,f=t;return typeof t=="number"?f=Le(e,Ge(e,t)):l=Xe(t),l==null?null:(n(f,l)&&e.cm&&$n(e.cm,l,r),f)}function Lo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}Lo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var l=this.lines[r];this.height-=l.height,s1(l),wt(l,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}};function Bo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var l=e[n];t+=l.chunkSize(),r+=l.height,l.parent=this}this.size=t,this.height=r,this.parent=null}Bo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],l=n.chunkSize();if(e<l){var f=Math.min(t,l-e),_=n.height;if(n.removeInner(e,f),this.height-=_-n.height,l==f&&(this.children.splice(r--,1),n.parent=null),(t-=f)==0)break;e=0}else e-=l}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Lo))){var T=[];this.collapse(T),this.children=[new Lo(T)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var l=this.children[n],f=l.chunkSize();if(e<=f){if(l.insertInner(e,t,r),l.lines&&l.lines.length>50){for(var _=l.lines.length%25+25,T=_;T<l.lines.length;){var L=new Lo(l.lines.slice(T,T+=25));l.height-=L.height,this.children.splice(++n,0,L),L.parent=this}l.lines=l.lines.slice(0,_),this.maybeSpill()}break}e-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Bo(t);if(e.parent){e.size-=r.size,e.height-=r.height;var l=W(e.parent.children,e);e.parent.children.splice(l+1,0,r)}else{var n=new Bo(e.children);n.parent=e,e.children=[n,r],e=n}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var l=this.children[n],f=l.chunkSize();if(e<f){var _=Math.min(t,f-e);if(l.iterN(e,_,r))return!0;if((t-=_)==0)break;e=0}else e-=f}}};var Do=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Do.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Xe(r);if(!(n==null||!t)){for(var l=0;l<t.length;++l)t[l]==this&&t.splice(l--,1);t.length||(r.widgets=null);var f=_o(this);Zt(r,Math.max(0,r.height-f)),e&&(Jt(e,function(){wu(e,r,-f),$n(e,n,"widget")}),wt(e,"lineWidgetCleared",e,this,n))}},Do.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var l=_o(this)-t;!l||(Un(this.doc,n)||Zt(n,n.height+l),r&&Jt(r,function(){r.curOp.forceUpdate=!0,wu(r,n,l),wt(r,"lineWidgetChanged",r,e,Xe(n))}))},bn(Do);function wu(e,t,r){Mn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ml(e,r)}function sw(e,t,r,n){var l=new Do(e,r,n),f=e.cm;return f&&l.noHScroll&&(f.display.alignWidgets=!0),Ao(e,t,"widget",function(_){var T=_.widgets||(_.widgets=[]);if(l.insertAt==null?T.push(l):T.splice(Math.min(T.length,Math.max(0,l.insertAt)),0,l),l.line=_,f&&!Un(e,_)){var L=Mn(_)<e.scrollTop;Zt(_,_.height+_o(l)),L&&Ml(f,l.height),f.curOp.forceUpdate=!0}return!0}),f&&wt(f,"lineWidgetAdded",f,l,typeof t=="number"?t:Xe(t)),l}var xu=0,Zn=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++xu};Zn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&dr(e),Ct(this,"clear")){var r=this.find();r&&wt(this,"clear",r.from,r.to)}for(var n=null,l=null,f=0;f<this.lines.length;++f){var _=this.lines[f],T=go(_.markedSpans,this);e&&!this.collapsed?$n(e,Xe(_),"text"):e&&(T.to!=null&&(l=Xe(_)),T.from!=null&&(n=Xe(_))),_.markedSpans=Q0(_.markedSpans,T),T.from==null&&this.collapsed&&!Un(this.doc,_)&&e&&Zt(_,Br(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var L=0;L<this.lines.length;++L){var D=En(this.lines[L]),$=vi(D);$>e.display.maxLineLength&&(e.display.maxLine=D,e.display.maxLineLength=$,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&Wt(e,n,l+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&cu(e.doc)),e&&wt(e,"markerCleared",e,this,n,l),t&&hr(e),this.parent&&this.parent.clear()}},Zn.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var r,n,l=0;l<this.lines.length;++l){var f=this.lines[l],_=go(f.markedSpans,this);if(_.from!=null&&(r=ve(t?f:Xe(f),_.from),e==-1))return r;if(_.to!=null&&(n=ve(t?f:Xe(f),_.to),e==1))return n}return r&&{from:r,to:n}},Zn.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;!t||!n||Jt(n,function(){var l=t.line,f=Xe(t.line),_=kl(n,f);if(_&&(Os(_),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Un(r.doc,l)&&r.height!=null){var T=r.height;r.height=null;var L=_o(r)-T;L&&Zt(l,l.height+L)}wt(n,"markerChanged",n,e)})},Zn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||W(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Zn.prototype.detachLine=function(e){if(this.lines.splice(W(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},bn(Zn);function qr(e,t,r,n,l){if(n&&n.shared)return uw(e,t,r,n,l);if(e.cm&&!e.cm.curOp)return xt(e.cm,qr)(e,t,r,n,l);var f=new Zn(e,l),_=M(t,r);if(n&&X(n,f,!1),_>0||_==0&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=V("span",[f.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(cs(e,t.line,t,r,f)||t.line!=r.line&&cs(e,r.line,t,r,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");J0()}f.addToHistory&&ou(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var T=t.line,L=e.cm,D;if(e.iter(T,r.line+1,function(G){L&&f.collapsed&&!L.options.lineWrapping&&En(G)==L.display.maxLine&&(D=!0),f.collapsed&&T!=t.line&&Zt(G,0),e1(G,new hi(f,T==t.line?t.ch:null,T==r.line?r.ch:null),e.cm&&e.cm.curOp),++T}),f.collapsed&&e.iter(t.line,r.line+1,function(G){Un(e,G)&&Zt(G,0)}),f.clearOnEnter&&Me(f,"beforeCursorEnter",function(){return f.clear()}),f.readOnly&&(Z0(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),f.collapsed&&(f.id=++xu,f.atomic=!0),L){if(D&&(L.curOp.updateMaxLine=!0),f.collapsed)Wt(L,t.line,r.line+1);else if(f.className||f.startStyle||f.endStyle||f.css||f.attributes||f.title)for(var $=t.line;$<=r.line;$++)$n(L,$,"text");f.atomic&&cu(L.doc),wt(L,"markerAdded",L,f)}return f}var Io=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Io.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wt(this,"clear")}},Io.prototype.find=function(e,t){return this.primary.find(e,t)},bn(Io);function uw(e,t,r,n,l){n=X(n),n.shared=!1;var f=[qr(e,t,r,n,l)],_=f[0],T=n.widgetNode;return Xn(e,function(L){T&&(n.widgetNode=T.cloneNode(!0)),f.push(qr(L,Oe(L,t),Oe(L,r),n,l));for(var D=0;D<L.linked.length;++D)if(L.linked[D].isParent)return;_=Ae(f)}),new Io(f,_)}function ku(e){return e.findMarks(ve(e.first,0),e.clipPos(ve(e.lastLine())),function(t){return t.parent})}function fw(e,t){for(var r=0;r<t.length;r++){var n=t[r],l=n.find(),f=e.clipPos(l.from),_=e.clipPos(l.to);if(M(f,_)){var T=qr(e,f,_,n.primary,n.primary.type);n.markers.push(T),T.parent=n}}}function cw(e){for(var t=function(n){var l=e[n],f=[l.primary.doc];Xn(l.primary.doc,function(L){return f.push(L)});for(var _=0;_<l.markers.length;_++){var T=l.markers[_];W(f,T.doc)==-1&&(T.parent=null,l.markers.splice(_--,1))}},r=0;r<e.length;r++)t(r)}var dw=0,Ut=function(e,t,r,n,l){if(!(this instanceof Ut))return new Ut(e,t,r,n,l);r==null&&(r=0),Bo.call(this,[new Lo([new Nr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var f=ve(r,0);this.sel=Gn(f),this.history=new Ni(null),this.id=++dw,this.modeOption=t,this.lineSep=n,this.direction=l=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Hl(this,{from:f,to:f,text:e}),Dt(this,Gn(f),se)};Ut.prototype=me(Bo.prototype,{constructor:Ut,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ho(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:kt(function(e){var t=ve(this.first,0),r=this.first+this.size-1;Fr(this,{from:t,to:ve(r,Le(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&xo(this.cm,0,0),Dt(this,Gn(t),se)}),replaceRange:function(e,t,r,n){t=Oe(this,t),r=r?Oe(this,r):t,jr(this,e,t,r,n)},getRange:function(e,t,r){var n=xn(this,Oe(this,e),Oe(this,t));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ir(this,e))return Le(this,e)},getLineNumber:function(e){return Xe(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Le(this,e)),En(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Oe(this,e)},getCursor:function(e){var t=this.sel.primary(),r;return e==null||e=="head"?r=t.head:e=="anchor"?r=t.anchor:e=="end"||e=="to"||e===!1?r=t.to():r=t.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:kt(function(e,t,r){su(this,Oe(this,typeof e=="number"?ve(e,t||0):e),null,r)}),setSelection:kt(function(e,t,r){su(this,Oe(this,e),Oe(this,t||e),r)}),extendSelection:kt(function(e,t,r){Li(this,Oe(this,e),t&&Oe(this,t),r)}),extendSelections:kt(function(e,t){au(this,an(this,e),t)}),extendSelectionsBy:kt(function(e,t){var r=nt(this.sel.ranges,e);au(this,an(this,r),t)}),setSelections:kt(function(e,t,r){if(!!e.length){for(var n=[],l=0;l<e.length;l++)n[l]=new Ze(Oe(this,e[l].anchor),Oe(this,e[l].head||e[l].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Dt(this,mn(this.cm,n,t),r)}}),addSelection:kt(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ze(Oe(this,e),Oe(this,t||e))),Dt(this,mn(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t=this.sel.ranges,r,n=0;n<t.length;n++){var l=xn(this,t[n].from(),t[n].to());r=r?r.concat(l):l}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var l=xn(this,r[n].from(),r[n].to());e!==!1&&(l=l.join(e||this.lineSeparator())),t[n]=l}return t},replaceSelection:function(e,t,r){for(var n=[],l=0;l<this.sel.ranges.length;l++)n[l]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:kt(function(e,t,r){for(var n=[],l=this.sel,f=0;f<l.ranges.length;f++){var _=l.ranges[f];n[f]={from:_.from(),to:_.to(),text:this.splitLines(e[f]),origin:r}}for(var T=t&&t!="end"&&Q1(this,n,t),L=n.length-1;L>=0;L--)Fr(this,n[L]);T?uu(this,T):this.cm&&Mr(this.cm)}),undo:kt(function(){Ii(this,"undo")}),redo:kt(function(){Ii(this,"redo")}),undoSelection:kt(function(){Ii(this,"undo",!0)}),redoSelection:kt(function(){Ii(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var l=0;l<e.undone.length;l++)e.undone[l].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Ni(this.history),Xn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Rr(this.history.done),undone:Rr(this.history.undone)}},setHistory:function(e){var t=this.history=new Ni(this.history);t.done=Rr(e.done.slice(0),null,!0),t.undone=Rr(e.undone.slice(0),null,!0)},setGutterMarker:kt(function(e,t,r){return Ao(this,e,"gutter",function(n){var l=n.gutterMarkers||(n.gutterMarkers={});return l[t]=r,!r&&ze(l)&&(n.gutterMarkers=null),!0})}),clearGutter:kt(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ao(t,r,"gutter",function(){return r.gutterMarkers[e]=null,ze(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!ir(this,e)||(t=e,e=Le(this,e),!e))return null}else if(t=Xe(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:kt(function(e,t,r){return Ao(this,e,t=="gutter"?"gutter":"class",function(n){var l=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!n[l])n[l]=r;else{if(F(r).test(n[l]))return!1;n[l]+=" "+r}return!0})}),removeLineClass:kt(function(e,t,r){return Ao(this,e,t=="gutter"?"gutter":"class",function(n){var l=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",f=n[l];if(f)if(r==null)n[l]=null;else{var _=f.match(F(r));if(!_)return!1;var T=_.index+_[0].length;n[l]=f.slice(0,_.index)+(!_.index||T==f.length?"":" ")+f.slice(T)||null}else return!1;return!0})}),addLineWidget:kt(function(e,t,r){return sw(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return qr(this,Oe(this,e),Oe(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=Oe(this,e),qr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=Oe(this,e);var t=[],r=Le(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var l=r[n];(l.from==null||l.from<=e.ch)&&(l.to==null||l.to>=e.ch)&&t.push(l.marker.parent||l.marker)}return t},findMarks:function(e,t,r){e=Oe(this,e),t=Oe(this,t);var n=[],l=e.line;return this.iter(e.line,t.line+1,function(f){var _=f.markedSpans;if(_)for(var T=0;T<_.length;T++){var L=_[T];!(L.to!=null&&l==e.line&&e.ch>=L.to||L.from==null&&l!=e.line||L.from!=null&&l==t.line&&L.from>=t.ch)&&(!r||r(L.marker))&&n.push(L.marker.parent||L.marker)}++l}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(l){var f=l.text.length+n;if(f>e)return t=e,!0;e-=f,++r}),Oe(this,ve(r,t))},indexFromPos:function(e){e=Oe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Ut(ho(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new Ut(ho(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],fw(n,ku(this)),n},unlinkDoc:function(e){if(e instanceof ot&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),cw(ku(this));break}}if(e.history==this.history){var n=[e.id];Xn(e,function(l){return n.push(l.id)},!0),e.history=new Ni(null),e.history.done=Rr(this.history.done,n),e.history.undone=Rr(this.history.undone,n)}},iterLinkedDocs:function(e){Xn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):so(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:kt(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&ew(this.cm))})}),Ut.prototype.eachLine=Ut.prototype.iter;var Su=0;function hw(e){var t=this;if(Eu(t),!(pt(t,e)||Vn(t.display,e))){Lt(e),v&&(Su=+new Date);var r=sr(t,e,!0),n=e.dataTransfer.files;if(!(!r||t.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var l=n.length,f=Array(l),_=0,T=function(){++_==l&&xt(t,function(){r=Oe(t.doc,r);var ee={from:r,to:r,text:t.doc.splitLines(f.filter(function(ue){return ue!=null}).join(t.doc.lineSeparator())),origin:"paste"};Fr(t.doc,ee),uu(t.doc,Gn(Oe(t.doc,r),Oe(t.doc,Yn(ee))))})()},L=function(ee,ue){if(t.options.allowDropFileTypes&&W(t.options.allowDropFileTypes,ee.type)==-1){T();return}var de=new FileReader;de.onerror=function(){return T()},de.onload=function(){var be=de.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(be)){T();return}f[ue]=be,T()},de.readAsText(ee)},D=0;D<n.length;D++)L(n[D],D);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var $=e.dataTransfer.getData("Text");if($){var G;if(t.state.draggingText&&!t.state.draggingText.copy&&(G=t.listSelections()),Bi(t.doc,Gn(r,r)),G)for(var re=0;re<G.length;++re)jr(t.doc,"",G[re].anchor,G[re].head,"drag");t.replaceSelection($,"around","paste"),t.display.input.focus()}}catch(ee){}}}}function pw(e,t){if(v&&(!e.state.draggingText||+new Date-Su<100)){or(t);return}if(!(pt(e,t)||Vn(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!C)){var r=j("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),p&&r.parentNode.removeChild(r)}}function mw(e,t){var r=sr(e,t);if(!!r){var n=document.createDocumentFragment();Ps(e,r,n),e.display.dragCursor||(e.display.dragCursor=j("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),B(e.display.dragCursor,n)}}function Eu(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Cu(e){if(!!document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var l=t[n].CodeMirror;l&&r.push(l)}r.length&&r[0].operation(function(){for(var f=0;f<r.length;f++)e(r[f])})}}var Ou=!1;function gw(){Ou||(vw(),Ou=!0)}function vw(){var e;Me(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Cu(yw)},100))}),Me(window,"blur",function(){return Cu(Ir)})}function yw(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Jn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Mo=0;Mo<10;Mo++)Jn[Mo+48]=Jn[Mo+96]=String(Mo);for(var Mi=65;Mi<=90;Mi++)Jn[Mi]=String.fromCharCode(Mi);for(var Vo=1;Vo<=12;Vo++)Jn[Vo+111]=Jn[Vo+63235]="F"+Vo;var Pn={};Pn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pn.default=y?Pn.macDefault:Pn.pcDefault;function _w(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,l,f,_=0;_<t.length-1;_++){var T=t[_];if(/^(cmd|meta|m)$/i.test(T))f=!0;else if(/^a(lt)?$/i.test(T))r=!0;else if(/^(c|ctrl|control)$/i.test(T))n=!0;else if(/^s(hift)?$/i.test(T))l=!0;else throw new Error("Unrecognized modifier name: "+T)}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),f&&(e="Cmd-"+e),l&&(e="Shift-"+e),e}function bw(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var l=nt(r.split(" "),_w),f=0;f<l.length;f++){var _=void 0,T=void 0;f==l.length-1?(T=l.join(" "),_=n):(T=l.slice(0,f+1).join(" "),_="...");var L=t[T];if(!L)t[T]=_;else if(L!=_)throw new Error("Inconsistent bindings for "+T)}delete e[r]}for(var D in t)e[D]=t[D];return e}function zr(e,t,r,n){t=Vi(t);var l=t.call?t.call(e,n):t[e];if(l===!1)return"nothing";if(l==="...")return"multi";if(l!=null&&r(l))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return zr(e,t.fallthrough,r,n);for(var f=0;f<t.fallthrough.length;f++){var _=zr(e,t.fallthrough[f],r,n);if(_)return _}}}function Tu(e){var t=typeof e=="string"?e:Jn[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Nu(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(z?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(z?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function Au(e,t){if(p&&e.keyCode==34&&e.char)return!1;var r=Jn[e.keyCode];return r==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(r=e.code),Nu(r,e,t))}function Vi(e){return typeof e=="string"?Pn[e]:e}function Hr(e,t){for(var r=e.doc.sel.ranges,n=[],l=0;l<r.length;l++){for(var f=t(r[l]);n.length&&M(f.from,Ae(n).to)<=0;){var _=n.pop();if(M(_.from,f.from)<0){f.from=_.from;break}}n.push(f)}Jt(e,function(){for(var T=n.length-1;T>=0;T--)jr(e.doc,"",n[T].from,n[T].to,"+delete");Mr(e)})}function Kl(e,t,r){var n=At(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Gl(e,t,r){var n=Kl(e,t.ch,r);return n==null?null:new ve(t.line,n,r<0?"after":"before")}function Yl(e,t,r,n,l){if(e){t.doc.direction=="rtl"&&(l=-l);var f=Xt(r,t.doc.direction);if(f){var _=l<0?Ae(f):f[0],T=l<0==(_.level==1),L=T?"after":"before",D;if(_.level>0||t.doc.direction=="rtl"){var $=Lr(t,r);D=l<0?r.text.length-1:0;var G=On(t,$,D).top;D=yt(function(re){return On(t,$,re).top==G},l<0==(_.level==1)?_.from:_.to-1,D),L=="before"&&(D=Kl(r,D,1))}else D=l<0?_.to:_.from;return new ve(n,D,L)}}return new ve(n,l<0?r.text.length:0,l<0?"before":"after")}function ww(e,t,r,n){var l=Xt(t,e.doc.direction);if(!l)return Gl(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var f=qe(l,r.ch,r.sticky),_=l[f];if(e.doc.direction=="ltr"&&_.level%2==0&&(n>0?_.to>r.ch:_.from<r.ch))return Gl(t,r,n);var T=function(xe,Ce){return Kl(t,xe instanceof ve?xe.ch:xe,Ce)},L,D=function(xe){return e.options.lineWrapping?(L=L||Lr(e,t),Is(e,t,L,xe)):{begin:0,end:t.text.length}},$=D(r.sticky=="before"?T(r,-1):r.ch);if(e.doc.direction=="rtl"||_.level==1){var G=_.level==1==n<0,re=T(r,G?1:-1);if(re!=null&&(G?re<=_.to&&re<=$.end:re>=_.from&&re>=$.begin)){var ee=G?"before":"after";return new ve(r.line,re,ee)}}var ue=function(xe,Ce,ke){for(var Ne=function(tt,St){return St?new ve(r.line,T(tt,1),"before"):new ve(r.line,tt,"after")};xe>=0&&xe<l.length;xe+=Ce){var Ie=l[xe],De=Ce>0==(Ie.level!=1),Ke=De?ke.begin:T(ke.end,-1);if(Ie.from<=Ke&&Ke<Ie.to||(Ke=De?Ie.from:T(Ie.to,-1),ke.begin<=Ke&&Ke<ke.end))return Ne(Ke,De)}},de=ue(f+n,n,$);if(de)return de;var be=n>0?$.end:T($.begin,-1);return be!=null&&!(n>0&&be==t.text.length)&&(de=ue(n>0?0:l.length-1,n,D(be)),de)?de:null}var Ro={selectAll:pu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),se)},killLine:function(e){return Hr(e,function(t){if(t.empty()){var r=Le(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ve(t.head.line+1,0)}:{from:t.head,to:ve(t.head.line,r)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Hr(e,function(t){return{from:ve(t.from().line,0),to:Oe(e.doc,ve(t.to().line+1,0))}})},delLineLeft:function(e){return Hr(e,function(t){return{from:ve(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Hr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return Hr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ve(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ve(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Lu(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Bu(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return xw(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},we)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},we)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Bu(e,t.head):n},we)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,l=0;l<r.length;l++){var f=r[l].from(),_=ae(e.getLine(f.line),f.ch,n);t.push(Ue(n-_%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Jt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(!!t[n].empty()){var l=t[n].head,f=Le(e.doc,l.line).text;if(f){if(l.ch==f.length&&(l=new ve(l.line,l.ch-1)),l.ch>0)l=new ve(l.line,l.ch+1),e.replaceRange(f.charAt(l.ch-1)+f.charAt(l.ch-2),ve(l.line,l.ch-2),l,"+transpose");else if(l.line>e.doc.first){var _=Le(e.doc,l.line-1).text;_&&(l=new ve(l.line,1),e.replaceRange(f.charAt(0)+e.doc.lineSeparator()+_.charAt(_.length-1),ve(l.line-1,_.length-1),l,"+transpose"))}}r.push(new Ze(l,l))}e.setSelections(r)})},newlineAndIndent:function(e){return Jt(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Mr(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Lu(e,t){var r=Le(e.doc,t),n=En(r);return n!=r&&(t=Xe(n)),Yl(!0,e,n,t,1)}function xw(e,t){var r=Le(e.doc,t),n=i1(r);return n!=r&&(t=Xe(n)),Yl(!0,e,r,t,-1)}function Bu(e,t){var r=Lu(e,t.line),n=Le(e.doc,r.line),l=Xt(n,e.doc.direction);if(!l||l[0].level==0){var f=Math.max(r.ch,n.text.search(/\S/)),_=t.line==r.line&&t.ch<=f&&t.ch;return ve(r.line,_?0:f,r.sticky)}return r}function Ri(e,t,r){if(typeof t=="string"&&(t=Ro[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,l=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),l=t(e)!=le}finally{e.display.shift=n,e.state.suppressEdits=!1}return l}function kw(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var l=zr(t,e.state.keyMaps[n],r,e);if(l)return l}return e.options.extraKeys&&zr(t,e.options.extraKeys,r,e)||zr(t,e.options.keyMap,r,e)}var Sw=new ne;function Po(e,t,r,n){var l=e.state.keySeq;if(l){if(Tu(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Sw.set(50,function(){e.state.keySeq==l&&(e.state.keySeq=null,e.display.input.reset())}),Du(e,l+" "+t,r,n))return!0}return Du(e,t,r,n)}function Du(e,t,r,n){var l=kw(e,t,n);return l=="multi"&&(e.state.keySeq=t),l=="handled"&&wt(e,"keyHandled",e,t,r),(l=="handled"||l=="multi")&&(Lt(r),Ll(e)),!!l}function Iu(e,t){var r=Au(t,!0);return r?t.shiftKey&&!e.state.keySeq?Po(e,"Shift-"+r,t,function(n){return Ri(e,n,!0)})||Po(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ri(e,n)}):Po(e,r,t,function(n){return Ri(e,n)}):!1}function Ew(e,t,r){return Po(e,"'"+r+"'",t,function(n){return Ri(e,n,!0)})}var Xl=null;function Mu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=pe(),!pt(t,e))){v&&w<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=Iu(t,e);p&&(Xl=n?r:null,!n&&r==88&&!ci&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),c&&!y&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Cw(t)}}function Cw(e){var t=e.display.lineDiv;te(t,"CodeMirror-crosshair");function r(n){(n.keyCode==18||!n.altKey)&&(I(t,"CodeMirror-crosshair"),zt(document,"keyup",r),zt(document,"mouseover",r))}Me(document,"keyup",r),Me(document,"mouseover",r)}function Vu(e){e.keyCode==16&&(this.doc.sel.shift=!1),pt(this,e)}function Ru(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Vn(t.display,e)||pt(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(p&&r==Xl){Xl=null,Lt(e);return}if(!(p&&(!e.which||e.which<10)&&Iu(t,e))){var l=String.fromCharCode(n==null?r:n);l!="\b"&&(Ew(t,e,l)||t.display.input.onKeyPress(e))}}}var Ow=400,Zl=function(e,t,r){this.time=e,this.pos=t,this.button=r};Zl.prototype.compare=function(e,t,r){return this.time+Ow>e&&M(t,this.pos)==0&&r==this.button};var Fo,jo;function Tw(e,t){var r=+new Date;return jo&&jo.compare(r,e,t)?(Fo=jo=null,"triple"):Fo&&Fo.compare(r,e,t)?(jo=new Zl(r,e,t),Fo=null,"double"):(Fo=new Zl(r,e,t),jo=null,"single")}function Pu(e){var t=this,r=t.display;if(!(pt(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Vn(r,e)){S||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));return}if(!Jl(t,e)){var n=sr(t,e),l=si(e),f=n?Tw(n,l):"single";window.focus(),l==1&&t.state.selectingText&&t.state.selectingText(e),!(n&&Nw(t,l,n,f,e))&&(l==1?n?Lw(t,n,f,e):Hn(e)==r.scroller&&Lt(e):l==2?(n&&Li(t.doc,n),setTimeout(function(){return r.input.focus()},20)):l==3&&(U?t.display.input.onContextMenu(e):Bl(t)))}}}function Nw(e,t,r,n,l){var f="Click";return n=="double"?f="Double"+f:n=="triple"&&(f="Triple"+f),f=(t==1?"Left":t==2?"Middle":"Right")+f,Po(e,Nu(f,l),l,function(_){if(typeof _=="string"&&(_=Ro[_]),!_)return!1;var T=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),T=_(e,r)!=le}finally{e.state.suppressEdits=!1}return T})}function Aw(e,t,r){var n=e.getOption("configureMouse"),l=n?n(e,t,r):{};if(l.unit==null){var f=A?r.shiftKey&&r.metaKey:r.altKey;l.unit=f?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(l.extend==null||e.doc.extend)&&(l.extend=e.doc.extend||r.shiftKey),l.addNew==null&&(l.addNew=y?r.metaKey:r.ctrlKey),l.moveOnDrag==null&&(l.moveOnDrag=!(y?r.altKey:r.ctrlKey)),l}function Lw(e,t,r,n){v?setTimeout(K(Fs,e),0):e.curOp.focus=pe();var l=Aw(e,r,n),f=e.doc.sel,_;e.options.dragDrop&&lo&&!e.isReadOnly()&&r=="single"&&(_=f.contains(t))>-1&&(M((_=f.ranges[_]).from(),t)<0||t.xRel>0)&&(M(_.to(),t)>0||t.xRel<0)?Bw(e,n,t,l):Dw(e,n,t,l)}function Bw(e,t,r,n){var l=e.display,f=!1,_=xt(e,function(D){S&&(l.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Bl(e)),zt(l.wrapper.ownerDocument,"mouseup",_),zt(l.wrapper.ownerDocument,"mousemove",T),zt(l.scroller,"dragstart",L),zt(l.scroller,"drop",_),f||(Lt(D),n.addNew||Li(e.doc,r,null,null,n.extend),S&&!C||v&&w==9?setTimeout(function(){l.wrapper.ownerDocument.body.focus({preventScroll:!0}),l.input.focus()},20):l.input.focus())}),T=function(D){f=f||Math.abs(t.clientX-D.clientX)+Math.abs(t.clientY-D.clientY)>=10},L=function(){return f=!0};S&&(l.scroller.draggable=!0),e.state.draggingText=_,_.copy=!n.moveOnDrag,Me(l.wrapper.ownerDocument,"mouseup",_),Me(l.wrapper.ownerDocument,"mousemove",T),Me(l.scroller,"dragstart",L),Me(l.scroller,"drop",_),e.state.delayingBlurEvent=!0,setTimeout(function(){return l.input.focus()},20),l.scroller.dragDrop&&l.scroller.dragDrop()}function Fu(e,t,r){if(r=="char")return new Ze(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new Ze(ve(t.line,0),Oe(e.doc,ve(t.line+1,0)));var n=r(e,t);return new Ze(n.from,n.to)}function Dw(e,t,r,n){v&&Bl(e);var l=e.display,f=e.doc;Lt(t);var _,T,L=f.sel,D=L.ranges;if(n.addNew&&!n.extend?(T=f.sel.contains(r),T>-1?_=D[T]:_=new Ze(r,r)):(_=f.sel.primary(),T=f.sel.primIndex),n.unit=="rectangle")n.addNew||(_=new Ze(r,r)),r=sr(e,t,!0,!0),T=-1;else{var $=Fu(e,r,n.unit);n.extend?_=Ul(_,$.anchor,$.head,n.extend):_=$}n.addNew?T==-1?(T=D.length,Dt(f,mn(e,D.concat([_]),T),{scroll:!1,origin:"*mouse"})):D.length>1&&D[T].empty()&&n.unit=="char"&&!n.extend?(Dt(f,mn(e,D.slice(0,T).concat(D.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),L=f.sel):$l(f,T,_,ge):(T=0,Dt(f,new sn([_],0),ge),L=f.sel);var G=r;function re(ke){if(M(G,ke)!=0)if(G=ke,n.unit=="rectangle"){for(var Ne=[],Ie=e.options.tabSize,De=ae(Le(f,r.line).text,r.ch,Ie),Ke=ae(Le(f,ke.line).text,ke.ch,Ie),tt=Math.min(De,Ke),St=Math.max(De,Ke),lt=Math.min(r.line,ke.line),Qt=Math.min(e.lastLine(),Math.max(r.line,ke.line));lt<=Qt;lt++){var $t=Le(f,lt).text,mt=Be($t,tt,Ie);tt==St?Ne.push(new Ze(ve(lt,mt),ve(lt,mt))):$t.length>mt&&Ne.push(new Ze(ve(lt,mt),ve(lt,Be($t,St,Ie))))}Ne.length||Ne.push(new Ze(r,r)),Dt(f,mn(e,L.ranges.slice(0,T).concat(Ne),T),{origin:"*mouse",scroll:!1}),e.scrollIntoView(ke)}else{var Kt=_,Ot=Fu(e,ke,n.unit),_t=Kt.anchor,gt;M(Ot.anchor,_t)>0?(gt=Ot.head,_t=Pe(Kt.from(),Ot.anchor)):(gt=Ot.anchor,_t=_e(Kt.to(),Ot.head));var st=L.ranges.slice(0);st[T]=Iw(e,new Ze(Oe(f,_t),gt)),Dt(f,mn(e,st,T),ge)}}var ee=l.wrapper.getBoundingClientRect(),ue=0;function de(ke){var Ne=++ue,Ie=sr(e,ke,!0,n.unit=="rectangle");if(!!Ie)if(M(Ie,G)!=0){e.curOp.focus=pe(),re(Ie);var De=Ei(l,f);(Ie.line>=De.to||Ie.line<De.from)&&setTimeout(xt(e,function(){ue==Ne&&de(ke)}),150)}else{var Ke=ke.clientY<ee.top?-20:ke.clientY>ee.bottom?20:0;Ke&&setTimeout(xt(e,function(){ue==Ne&&(l.scroller.scrollTop+=Ke,de(ke))}),50)}}function be(ke){e.state.selectingText=!1,ue=1/0,ke&&(Lt(ke),l.input.focus()),zt(l.wrapper.ownerDocument,"mousemove",xe),zt(l.wrapper.ownerDocument,"mouseup",Ce),f.history.lastSelOrigin=null}var xe=xt(e,function(ke){ke.buttons===0||!si(ke)?be(ke):de(ke)}),Ce=xt(e,be);e.state.selectingText=Ce,Me(l.wrapper.ownerDocument,"mousemove",xe),Me(l.wrapper.ownerDocument,"mouseup",Ce)}function Iw(e,t){var r=t.anchor,n=t.head,l=Le(e.doc,r.line);if(M(r,n)==0&&r.sticky==n.sticky)return t;var f=Xt(l);if(!f)return t;var _=qe(f,r.ch,r.sticky),T=f[_];if(T.from!=r.ch&&T.to!=r.ch)return t;var L=_+(T.from==r.ch==(T.level!=1)?0:1);if(L==0||L==f.length)return t;var D;if(n.line!=r.line)D=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var $=qe(f,n.ch,n.sticky),G=$-_||(n.ch-r.ch)*(T.level==1?-1:1);$==L-1||$==L?D=G<0:D=G>0}var re=f[L+(D?-1:0)],ee=D==(re.level==1),ue=ee?re.from:re.to,de=ee?"after":"before";return r.ch==ue&&r.sticky==de?t:new Ze(new ve(r.line,ue,de),n)}function ju(e,t,r,n){var l,f;if(t.touches)l=t.touches[0].clientX,f=t.touches[0].clientY;else try{l=t.clientX,f=t.clientY}catch(re){return!1}if(l>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Lt(t);var _=e.display,T=_.lineDiv.getBoundingClientRect();if(f>T.bottom||!Ct(e,r))return rn(t);f-=T.top-_.viewOffset;for(var L=0;L<e.display.gutterSpecs.length;++L){var D=_.gutters.childNodes[L];if(D&&D.getBoundingClientRect().right>=l){var $=kn(e.doc,f),G=e.display.gutterSpecs[L];return Re(e,r,e,$,G.className,t),rn(t)}}}function Jl(e,t){return ju(e,t,"gutterClick",!0)}function qu(e,t){Vn(e.display,t)||Mw(e,t)||pt(e,t,"contextmenu")||U||e.display.input.onContextMenu(t)}function Mw(e,t){return Ct(e,"gutterContextMenu")?ju(e,t,"gutterContextMenu",!1):!1}function zu(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bo(e)}var Wr={toString:function(){return"CodeMirror.Init"}},Hu={},Pi={};function Vw(e){var t=e.optionHandlers;function r(n,l,f,_){e.defaults[n]=l,f&&(t[n]=_?function(T,L,D){D!=Wr&&f(T,L,D)}:f)}e.defineOption=r,e.Init=Wr,r("value","",function(n,l){return n.setValue(l)},!0),r("mode",null,function(n,l){n.doc.modeOption=l,zl(n)},!0),r("indentUnit",2,zl,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){To(n),bo(n),Wt(n)},!0),r("lineSeparator",null,function(n,l){if(n.doc.lineSep=l,!!l){var f=[],_=n.doc.first;n.doc.iter(function(L){for(var D=0;;){var $=L.text.indexOf(l,D);if($==-1)break;D=$+l.length,f.push(ve(_,$))}_++});for(var T=f.length-1;T>=0;T--)jr(n.doc,l,f[T],ve(f[T].line,f[T].ch+l.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,l,f){n.state.specialChars=new RegExp(l.source+(l.test("	")?"":"|	"),"g"),f!=Wr&&n.refresh()}),r("specialCharPlaceholder",c1,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",N?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,l){return n.getInputField().spellcheck=l},!0),r("autocorrect",!1,function(n,l){return n.getInputField().autocorrect=l},!0),r("autocapitalize",!1,function(n,l){return n.getInputField().autocapitalize=l},!0),r("rtlMoveVisually",!q),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){zu(n),Oo(n)},!0),r("keyMap","default",function(n,l,f){var _=Vi(l),T=f!=Wr&&Vi(f);T&&T.detach&&T.detach(n,_),_.attach&&_.attach(n,T||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Pw,!0),r("gutters",[],function(n,l){n.display.gutterSpecs=jl(l,n.options.lineNumbers),Oo(n)},!0),r("fixedGutter",!0,function(n,l){n.display.gutters.style.left=l?Nl(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Vr(n)},!0),r("scrollbarStyle","native",function(n){Us(n),Vr(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,l){n.display.gutterSpecs=jl(n.options.gutters,l),Oo(n)},!0),r("firstLineNumber",1,Oo,!0),r("lineNumberFormatter",function(n){return n},Oo,!0),r("showCursorWhenSelecting",!1,wo,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,l){l=="nocursor"&&(Ir(n),n.display.input.blur()),n.display.input.readOnlyChanged(l)}),r("screenReaderLabel",null,function(n,l){l=l===""?null:l,n.display.input.screenReaderLabelChanged(l)}),r("disableInput",!1,function(n,l){l||n.display.input.reset()},!0),r("dragDrop",!0,Rw),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,wo,!0),r("singleCursorHeightPerLine",!0,wo,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,To,!0),r("addModeClass",!1,To,!0),r("pollInterval",100),r("undoDepth",200,function(n,l){return n.doc.history.undoDepth=l}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,To,!0),r("moveInputWithCursor",!0,function(n,l){l||n.display.input.resetPosition()}),r("tabindex",null,function(n,l){return n.display.input.getField().tabIndex=l||""}),r("autofocus",null),r("direction","ltr",function(n,l){return n.doc.setDirection(l)},!0),r("phrases",null)}function Rw(e,t,r){var n=r&&r!=Wr;if(!t!=!n){var l=e.display.dragFunctions,f=t?Me:zt;f(e.display.scroller,"dragstart",l.start),f(e.display.scroller,"dragenter",l.enter),f(e.display.scroller,"dragover",l.over),f(e.display.scroller,"dragleave",l.leave),f(e.display.scroller,"drop",l.drop)}}function Pw(e){e.options.lineWrapping?(te(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(I(e.display.wrapper,"CodeMirror-wrap"),_l(e)),Al(e),Wt(e),bo(e),setTimeout(function(){return Vr(e)},100)}function ot(e,t){var r=this;if(!(this instanceof ot))return new ot(e,t);this.options=t=t?X(t):{},X(Hu,t,!1);var n=t.value;typeof n=="string"?n=new Ut(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var l=new ot.inputStyles[t.inputStyle](this),f=this.display=new Z1(e,n,l,t);f.wrapper.CodeMirror=this,zu(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Us(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ne,keySeq:null,specialChars:null},t.autofocus&&!N&&f.input.focus(),v&&w<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Fw(this),gw(),dr(this),this.curOp.forceUpdate=!0,tu(this,n),t.autofocus&&!N||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Dl(r)},20):Ir(this);for(var _ in Pi)Pi.hasOwnProperty(_)&&Pi[_](this,t[_],Wr);Gs(this),t.finishInit&&t.finishInit(this);for(var T=0;T<Ql.length;++T)Ql[T](this);hr(this),S&&t.lineWrapping&&getComputedStyle(f.lineDiv).textRendering=="optimizelegibility"&&(f.lineDiv.style.textRendering="auto")}ot.defaults=Hu,ot.optionHandlers=Pi;function Fw(e){var t=e.display;Me(t.scroller,"mousedown",xt(e,Pu)),v&&w<11?Me(t.scroller,"dblclick",xt(e,function(L){if(!pt(e,L)){var D=sr(e,L);if(!(!D||Jl(e,L)||Vn(e.display,L))){Lt(L);var $=e.findWordAt(D);Li(e.doc,$.anchor,$.head)}}})):Me(t.scroller,"dblclick",function(L){return pt(e,L)||Lt(L)}),Me(t.scroller,"contextmenu",function(L){return qu(e,L)}),Me(t.input.getField(),"contextmenu",function(L){t.scroller.contains(L.target)||qu(e,L)});var r,n={end:0};function l(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),n=t.activeTouch,n.end=+new Date)}function f(L){if(L.touches.length!=1)return!1;var D=L.touches[0];return D.radiusX<=1&&D.radiusY<=1}function _(L,D){if(D.left==null)return!0;var $=D.left-L.left,G=D.top-L.top;return $*$+G*G>20*20}Me(t.scroller,"touchstart",function(L){if(!pt(e,L)&&!f(L)&&!Jl(e,L)){t.input.ensurePolled(),clearTimeout(r);var D=+new Date;t.activeTouch={start:D,moved:!1,prev:D-n.end<=300?n:null},L.touches.length==1&&(t.activeTouch.left=L.touches[0].pageX,t.activeTouch.top=L.touches[0].pageY)}}),Me(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Me(t.scroller,"touchend",function(L){var D=t.activeTouch;if(D&&!Vn(t,L)&&D.left!=null&&!D.moved&&new Date-D.start<300){var $=e.coordsChar(t.activeTouch,"page"),G;!D.prev||_(D,D.prev)?G=new Ze($,$):!D.prev.prev||_(D,D.prev.prev)?G=e.findWordAt($):G=new Ze(ve($.line,0),Oe(e.doc,ve($.line+1,0))),e.setSelection(G.anchor,G.head),e.focus(),Lt(L)}l()}),Me(t.scroller,"touchcancel",l),Me(t.scroller,"scroll",function(){t.scroller.clientHeight&&(ko(e,t.scroller.scrollTop),fr(e,t.scroller.scrollLeft,!0),Re(e,"scroll",e))}),Me(t.scroller,"mousewheel",function(L){return Zs(e,L)}),Me(t.scroller,"DOMMouseScroll",function(L){return Zs(e,L)}),Me(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(L){pt(e,L)||or(L)},over:function(L){pt(e,L)||(mw(e,L),or(L))},start:function(L){return pw(e,L)},drop:xt(e,hw),leave:function(L){pt(e,L)||Eu(e)}};var T=t.input.getField();Me(T,"keyup",function(L){return Vu.call(e,L)}),Me(T,"keydown",xt(e,Mu)),Me(T,"keypress",xt(e,Ru)),Me(T,"focus",function(L){return Dl(e,L)}),Me(T,"blur",function(L){return Ir(e,L)})}var Ql=[];ot.defineInitHook=function(e){return Ql.push(e)};function qo(e,t,r,n){var l=e.doc,f;r==null&&(r="add"),r=="smart"&&(l.mode.indent?f=mo(e,t).state:r="prev");var _=e.options.tabSize,T=Le(l,t),L=ae(T.text,null,_);T.stateAfter&&(T.stateAfter=null);var D=T.text.match(/^\s*/)[0],$;if(!n&&!/\S/.test(T.text))$=0,r="not";else if(r=="smart"&&($=l.mode.indent(f,T.text.slice(D.length),T.text),$==le||$>150)){if(!n)return;r="prev"}r=="prev"?t>l.first?$=ae(Le(l,t-1).text,null,_):$=0:r=="add"?$=L+e.options.indentUnit:r=="subtract"?$=L-e.options.indentUnit:typeof r=="number"&&($=L+r),$=Math.max(0,$);var G="",re=0;if(e.options.indentWithTabs)for(var ee=Math.floor($/_);ee;--ee)re+=_,G+="	";if(re<$&&(G+=Ue($-re)),G!=D)return jr(l,G,ve(t,0),ve(t,D.length),"+input"),T.stateAfter=null,!0;for(var ue=0;ue<l.sel.ranges.length;ue++){var de=l.sel.ranges[ue];if(de.head.line==t&&de.head.ch<D.length){var be=ve(t,D.length);$l(l,ue,new Ze(be,be));break}}}var gn=null;function Fi(e){gn=e}function ea(e,t,r,n,l){var f=e.doc;e.display.shift=!1,n||(n=f.sel);var _=+new Date-200,T=l=="paste"||e.state.pasteIncoming>_,L=so(t),D=null;if(T&&n.ranges.length>1)if(gn&&gn.text.join(`
`)==t){if(n.ranges.length%gn.text.length==0){D=[];for(var $=0;$<gn.text.length;$++)D.push(f.splitLines(gn.text[$]))}}else L.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(D=nt(L,function(xe){return[xe]}));for(var G=e.curOp.updateInput,re=n.ranges.length-1;re>=0;re--){var ee=n.ranges[re],ue=ee.from(),de=ee.to();ee.empty()&&(r&&r>0?ue=ve(ue.line,ue.ch-r):e.state.overwrite&&!T?de=ve(de.line,Math.min(Le(f,de.line).text.length,de.ch+Ae(L).length)):T&&gn&&gn.lineWise&&gn.text.join(`
`)==L.join(`
`)&&(ue=de=ve(ue.line,0)));var be={from:ue,to:de,text:D?D[re%D.length]:L,origin:l||(T?"paste":e.state.cutIncoming>_?"cut":"+input")};Fr(e.doc,be),wt(e,"inputRead",e,be)}t&&!T&&Uu(e,t),Mr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=G),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Wu(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&Jt(t,function(){return ea(t,r,0,null,"paste")}),!0}function Uu(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var l=r.ranges[n];if(!(l.head.ch>100||n&&r.ranges[n-1].head.line==l.head.line)){var f=e.getModeAt(l.head),_=!1;if(f.electricChars){for(var T=0;T<f.electricChars.length;T++)if(t.indexOf(f.electricChars.charAt(T))>-1){_=qo(e,l.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(Le(e.doc,l.head.line).text.slice(0,l.head.ch))&&(_=qo(e,l.head.line,"smart"));_&&wt(e,"electricInput",e,l.head.line)}}}function $u(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var l=e.doc.sel.ranges[n].head.line,f={anchor:ve(l,0),head:ve(l+1,0)};r.push(f),t.push(e.getRange(f.anchor,f.head))}return{text:t,ranges:r}}function Ku(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Gu(){var e=j("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=j("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return S?e.style.width="1000px":e.setAttribute("wrap","off"),k&&(e.style.border="1px solid black"),Ku(e),t}function jw(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,l){var f=this.options,_=f[n];f[n]==l&&n!="mode"||(f[n]=l,t.hasOwnProperty(n)&&xt(this,t[n])(this,l,_),Re(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,l){this.state.keyMaps[l?"push":"unshift"](Vi(n))},removeKeyMap:function(n){for(var l=this.state.keyMaps,f=0;f<l.length;++f)if(l[f]==n||l[f].name==n)return l.splice(f,1),!0},addOverlay:Rt(function(n,l){var f=n.token?n:e.getMode(this.options,n);if(f.startState)throw new Error("Overlays may not be stateful.");et(this.state.overlays,{mode:f,modeSpec:n,opaque:l&&l.opaque,priority:l&&l.priority||0},function(_){return _.priority}),this.state.modeGen++,Wt(this)}),removeOverlay:Rt(function(n){for(var l=this.state.overlays,f=0;f<l.length;++f){var _=l[f].modeSpec;if(_==n||typeof n=="string"&&_.name==n){l.splice(f,1),this.state.modeGen++,Wt(this);return}}}),indentLine:Rt(function(n,l,f){typeof l!="string"&&typeof l!="number"&&(l==null?l=this.options.smartIndent?"smart":"prev":l=l?"add":"subtract"),ir(this.doc,n)&&qo(this,n,l,f)}),indentSelection:Rt(function(n){for(var l=this.doc.sel.ranges,f=-1,_=0;_<l.length;_++){var T=l[_];if(T.empty())T.head.line>f&&(qo(this,T.head.line,n,!0),f=T.head.line,_==this.doc.sel.primIndex&&Mr(this));else{var L=T.from(),D=T.to(),$=Math.max(f,L.line);f=Math.min(this.lastLine(),D.line-(D.ch?0:1))+1;for(var G=$;G<f;++G)qo(this,G,n);var re=this.doc.sel.ranges;L.ch==0&&l.length==re.length&&re[_].from().ch>0&&$l(this.doc,_,new Ze(L,re[_].to()),se)}}}),getTokenAt:function(n,l){return ns(this,n,l)},getLineTokens:function(n,l){return ns(this,ve(n),l,!0)},getTokenTypeAt:function(n){n=Oe(this.doc,n);var l=Qa(this,Le(this.doc,n.line)),f=0,_=(l.length-1)/2,T=n.ch,L;if(T==0)L=l[2];else for(;;){var D=f+_>>1;if((D?l[D*2-1]:0)>=T)_=D;else if(l[D*2+1]<T)f=D+1;else{L=l[D*2+2];break}}var $=L?L.indexOf("overlay "):-1;return $<0?L:$==0?null:L.slice(0,$-1)},getModeAt:function(n){var l=this.doc.mode;return l.innerMode?e.innerMode(l,this.getTokenAt(n).state).mode:l},getHelper:function(n,l){return this.getHelpers(n,l)[0]},getHelpers:function(n,l){var f=[];if(!r.hasOwnProperty(l))return f;var _=r[l],T=this.getModeAt(n);if(typeof T[l]=="string")_[T[l]]&&f.push(_[T[l]]);else if(T[l])for(var L=0;L<T[l].length;L++){var D=_[T[l][L]];D&&f.push(D)}else T.helperType&&_[T.helperType]?f.push(_[T.helperType]):_[T.name]&&f.push(_[T.name]);for(var $=0;$<_._global.length;$++){var G=_._global[$];G.pred(T,this)&&W(f,G.val)==-1&&f.push(G.val)}return f},getStateAfter:function(n,l){var f=this.doc;return n=Ge(f,n==null?f.first+f.size-1:n),mo(this,n+1,l).state},cursorCoords:function(n,l){var f,_=this.doc.sel.primary();return n==null?f=_.head:typeof n=="object"?f=Oe(this.doc,n):f=n?_.from():_.to(),pn(this,f,l||"page")},charCoords:function(n,l){return wi(this,Oe(this.doc,n),l||"page")},coordsChar:function(n,l){return n=Ls(this,n,l||"page"),Cl(this,n.left,n.top)},lineAtHeight:function(n,l){return n=Ls(this,{top:n,left:0},l||"page").top,kn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,l,f){var _=!1,T;if(typeof n=="number"){var L=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>L&&(n=L,_=!0),T=Le(this.doc,n)}else T=n;return bi(this,T,{top:0,left:0},l||"page",f||_).top+(_?this.doc.height-Mn(T):0)},defaultTextHeight:function(){return Br(this.display)},defaultCharWidth:function(){return Dr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,l,f,_,T){var L=this.display;n=pn(this,Oe(this.doc,n));var D=n.bottom,$=n.left;if(l.style.position="absolute",l.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(l),L.sizer.appendChild(l),_=="over")D=n.top;else if(_=="above"||_=="near"){var G=Math.max(L.wrapper.clientHeight,this.doc.height),re=Math.max(L.sizer.clientWidth,L.lineSpace.clientWidth);(_=="above"||n.bottom+l.offsetHeight>G)&&n.top>l.offsetHeight?D=n.top-l.offsetHeight:n.bottom+l.offsetHeight<=G&&(D=n.bottom),$+l.offsetWidth>re&&($=re-l.offsetWidth)}l.style.top=D+"px",l.style.left=l.style.right="",T=="right"?($=L.sizer.clientWidth-l.offsetWidth,l.style.right="0px"):(T=="left"?$=0:T=="middle"&&($=(L.sizer.clientWidth-l.offsetWidth)/2),l.style.left=$+"px"),f&&R1(this,{left:$,top:D,right:$+l.offsetWidth,bottom:D+l.offsetHeight})},triggerOnKeyDown:Rt(Mu),triggerOnKeyPress:Rt(Ru),triggerOnKeyUp:Vu,triggerOnMouseDown:Rt(Pu),execCommand:function(n){if(Ro.hasOwnProperty(n))return Ro[n].call(null,this)},triggerElectric:Rt(function(n){Uu(this,n)}),findPosH:function(n,l,f,_){var T=1;l<0&&(T=-1,l=-l);for(var L=Oe(this.doc,n),D=0;D<l&&(L=ta(this.doc,L,T,f,_),!L.hitSide);++D);return L},moveH:Rt(function(n,l){var f=this;this.extendSelectionsBy(function(_){return f.display.shift||f.doc.extend||_.empty()?ta(f.doc,_.head,n,l,f.options.rtlMoveVisually):n<0?_.from():_.to()},we)}),deleteH:Rt(function(n,l){var f=this.doc.sel,_=this.doc;f.somethingSelected()?_.replaceSelection("",null,"+delete"):Hr(this,function(T){var L=ta(_,T.head,n,l,!1);return n<0?{from:L,to:T.head}:{from:T.head,to:L}})}),findPosV:function(n,l,f,_){var T=1,L=_;l<0&&(T=-1,l=-l);for(var D=Oe(this.doc,n),$=0;$<l;++$){var G=pn(this,D,"div");if(L==null?L=G.left:G.left=L,D=Yu(this,G,T,f),D.hitSide)break}return D},moveV:Rt(function(n,l){var f=this,_=this.doc,T=[],L=!this.display.shift&&!_.extend&&_.sel.somethingSelected();if(_.extendSelectionsBy(function($){if(L)return n<0?$.from():$.to();var G=pn(f,$.head,"div");$.goalColumn!=null&&(G.left=$.goalColumn),T.push(G.left);var re=Yu(f,G,n,l);return l=="page"&&$==_.sel.primary()&&Ml(f,wi(f,re,"div").top-G.top),re},we),T.length)for(var D=0;D<_.sel.ranges.length;D++)_.sel.ranges[D].goalColumn=T[D]}),findWordAt:function(n){var l=this.doc,f=Le(l,n.line).text,_=n.ch,T=n.ch;if(f){var L=this.getHelper(n,"wordChars");(n.sticky=="before"||T==f.length)&&_?--_:++T;for(var D=f.charAt(_),$=ye(D,L)?function(G){return ye(G,L)}:/\s/.test(D)?function(G){return/\s/.test(G)}:function(G){return!/\s/.test(G)&&!ye(G)};_>0&&$(f.charAt(_-1));)--_;for(;T<f.length&&$(f.charAt(T));)++T}return new Ze(ve(n.line,_),ve(n.line,T))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?te(this.display.cursorDiv,"CodeMirror-overwrite"):I(this.display.cursorDiv,"CodeMirror-overwrite"),Re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==pe()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Rt(function(n,l){xo(this,n,l)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Cn(this)-this.display.barHeight,width:n.scrollWidth-Cn(this)-this.display.barWidth,clientHeight:xl(this),clientWidth:lr(this)}},scrollIntoView:Rt(function(n,l){n==null?(n={from:this.doc.sel.primary().head,to:null},l==null&&(l=this.options.cursorScrollMargin)):typeof n=="number"?n={from:ve(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=l||0,n.from.line!=null?P1(this,n):qs(this,n.from,n.to,n.margin)}),setSize:Rt(function(n,l){var f=this,_=function(L){return typeof L=="number"||/^\d+$/.test(String(L))?L+"px":L};n!=null&&(this.display.wrapper.style.width=_(n)),l!=null&&(this.display.wrapper.style.height=_(l)),this.options.lineWrapping&&Ts(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(L){if(L.widgets){for(var D=0;D<L.widgets.length;D++)if(L.widgets[D].noHScroll){$n(f,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,Re(this,"refresh",this)}),operation:function(n){return Jt(this,n)},startOperation:function(){return dr(this)},endOperation:function(){return hr(this)},refresh:Rt(function(){var n=this.display.cachedTextHeight;Wt(this),this.curOp.forceUpdate=!0,bo(this),xo(this,this.doc.scrollLeft,this.doc.scrollTop),Pl(this.display),(n==null||Math.abs(n-Br(this.display))>.5||this.options.lineWrapping)&&Al(this),Re(this,"refresh",this)}),swapDoc:Rt(function(n){var l=this.doc;return l.cm=null,this.state.selectingText&&this.state.selectingText(),tu(this,n),bo(this),this.display.input.reset(),xo(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,l),l}),phrase:function(n){var l=this.options.phrases;return l&&Object.prototype.hasOwnProperty.call(l,n)?l[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bn(e),e.registerHelper=function(n,l,f){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][l]=f},e.registerGlobalHelper=function(n,l,f,_){e.registerHelper(n,l,_),r[n]._global.push({pred:f,val:_})}}function ta(e,t,r,n,l){var f=t,_=r,T=Le(e,t.line),L=l&&e.direction=="rtl"?-r:r;function D(){var Ce=t.line+L;return Ce<e.first||Ce>=e.first+e.size?!1:(t=new ve(Ce,t.ch,t.sticky),T=Le(e,Ce))}function $(Ce){var ke;if(n=="codepoint"){var Ne=T.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(Ne))ke=null;else{var Ie=r>0?Ne>=55296&&Ne<56320:Ne>=56320&&Ne<57343;ke=new ve(t.line,Math.max(0,Math.min(T.text.length,t.ch+r*(Ie?2:1))),-r)}}else l?ke=ww(e.cm,T,t,r):ke=Gl(T,t,r);if(ke==null)if(!Ce&&D())t=Yl(l,e.cm,T,t.line,L);else return!1;else t=ke;return!0}if(n=="char"||n=="codepoint")$();else if(n=="column")$(!0);else if(n=="word"||n=="group")for(var G=null,re=n=="group",ee=e.cm&&e.cm.getHelper(t,"wordChars"),ue=!0;!(r<0&&!$(!ue));ue=!1){var de=T.text.charAt(t.ch)||`
`,be=ye(de,ee)?"w":re&&de==`
`?"n":!re||/\s/.test(de)?null:"p";if(re&&!ue&&!be&&(be="s"),G&&G!=be){r<0&&(r=1,$(),t.sticky="after");break}if(be&&(G=be),r>0&&!$(!ue))break}var xe=Di(e,t,f,_,!0);return Y(f,xe)&&(xe.hitSide=!0),xe}function Yu(e,t,r,n){var l=e.doc,f=t.left,_;if(n=="page"){var T=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),L=Math.max(T-.5*Br(e.display),3);_=(r>0?t.bottom:t.top)+r*L}else n=="line"&&(_=r>0?t.bottom+3:t.top-3);for(var D;D=Cl(e,f,_),!!D.outside;){if(r<0?_<=0:_>=l.height){D.hitSide=!0;break}_+=r*5}return D}var Qe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ne,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Qe.prototype.init=function(e){var t=this,r=this,n=r.cm,l=r.div=e.lineDiv;l.contentEditable=!0,Ku(l,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function f(T){for(var L=T.target;L;L=L.parentNode){if(L==l)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(L.className))break}return!1}Me(l,"paste",function(T){!f(T)||pt(n,T)||Wu(T,n)||w<=11&&setTimeout(xt(n,function(){return t.updateFromDOM()}),20)}),Me(l,"compositionstart",function(T){t.composing={data:T.data,done:!1}}),Me(l,"compositionupdate",function(T){t.composing||(t.composing={data:T.data,done:!1})}),Me(l,"compositionend",function(T){t.composing&&(T.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Me(l,"touchstart",function(){return r.forceCompositionEnd()}),Me(l,"input",function(){t.composing||t.readFromDOMSoon()});function _(T){if(!(!f(T)||pt(n,T))){if(n.somethingSelected())Fi({lineWise:!1,text:n.getSelections()}),T.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var L=$u(n);Fi({lineWise:!0,text:L.text}),T.type=="cut"&&n.operation(function(){n.setSelections(L.ranges,0,se),n.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var D=gn.text.join(`
`);if(T.clipboardData.setData("Text",D),T.clipboardData.getData("Text")==D){T.preventDefault();return}}var $=Gu(),G=$.firstChild;n.display.lineSpace.insertBefore($,n.display.lineSpace.firstChild),G.value=gn.text.join(`
`);var re=pe();H(G),setTimeout(function(){n.display.lineSpace.removeChild($),re.focus(),re==l&&r.showPrimarySelection()},50)}}Me(l,"copy",_),Me(l,"cut",_)},Qe.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Qe.prototype.prepareSelection=function(){var e=Rs(this.cm,!1);return e.focus=pe()==this.div,e},Qe.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Qe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qe.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),l=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||l.line<t.display.viewFrom){e.removeAllRanges();return}var f=ji(t,e.anchorNode,e.anchorOffset),_=ji(t,e.focusNode,e.focusOffset);if(!(f&&!f.bad&&_&&!_.bad&&M(Pe(f,_),n)==0&&M(_e(f,_),l)==0)){var T=t.display.view,L=n.line>=t.display.viewFrom&&Xu(t,n)||{node:T[0].measure.map[2],offset:0},D=l.line<t.display.viewTo&&Xu(t,l);if(!D){var $=T[T.length-1].measure,G=$.maps?$.maps[$.maps.length-1]:$.map;D={node:G[G.length-1],offset:G[G.length-2]-G[G.length-3]}}if(!L||!D){e.removeAllRanges();return}var re=e.rangeCount&&e.getRangeAt(0),ee;try{ee=oe(L.node,L.offset,D.offset,D.node)}catch(ue){}ee&&(!c&&t.state.focused?(e.collapse(L.node,L.offset),ee.collapsed||(e.removeAllRanges(),e.addRange(ee))):(e.removeAllRanges(),e.addRange(ee)),re&&e.anchorNode==null?e.addRange(re):c&&this.startGracePeriod()),this.rememberSelection()}},Qe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Qe.prototype.showMultipleSelections=function(e){B(this.cm.display.cursorDiv,e.cursors),B(this.cm.display.selectionDiv,e.selection)},Qe.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Qe.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return ie(this.div,t)},Qe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||pe()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qe.prototype.blur=function(){this.div.blur()},Qe.prototype.getField=function(){return this.div},Qe.prototype.supportsTouch=function(){return!0},Qe.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Jt(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.polling.set(this.cm.options.pollInterval,r)},Qe.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(x&&m&&this.cm.display.gutterSpecs.length&&qw(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var r=ji(t,e.anchorNode,e.anchorOffset),n=ji(t,e.focusNode,e.focusOffset);r&&n&&Jt(t,function(){Dt(t.doc,Gn(r,n),se),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Qe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),l=r.to();if(n.ch==0&&n.line>e.firstLine()&&(n=ve(n.line-1,Le(e.doc,n.line-1).length)),l.ch==Le(e.doc,l.line).text.length&&l.line<e.lastLine()&&(l=ve(l.line+1,0)),n.line<t.viewFrom||l.line>t.viewTo-1)return!1;var f,_,T;n.line==t.viewFrom||(f=ur(e,n.line))==0?(_=Xe(t.view[0].line),T=t.view[0].node):(_=Xe(t.view[f].line),T=t.view[f-1].node.nextSibling);var L=ur(e,l.line),D,$;if(L==t.view.length-1?(D=t.viewTo-1,$=t.lineDiv.lastChild):(D=Xe(t.view[L+1].line)-1,$=t.view[L+1].node.previousSibling),!T)return!1;for(var G=e.doc.splitLines(zw(e,T,$,_,D)),re=xn(e.doc,ve(_,0),ve(D,Le(e.doc,D).text.length));G.length>1&&re.length>1;)if(Ae(G)==Ae(re))G.pop(),re.pop(),D--;else if(G[0]==re[0])G.shift(),re.shift(),_++;else break;for(var ee=0,ue=0,de=G[0],be=re[0],xe=Math.min(de.length,be.length);ee<xe&&de.charCodeAt(ee)==be.charCodeAt(ee);)++ee;for(var Ce=Ae(G),ke=Ae(re),Ne=Math.min(Ce.length-(G.length==1?ee:0),ke.length-(re.length==1?ee:0));ue<Ne&&Ce.charCodeAt(Ce.length-ue-1)==ke.charCodeAt(ke.length-ue-1);)++ue;if(G.length==1&&re.length==1&&_==n.line)for(;ee&&ee>n.ch&&Ce.charCodeAt(Ce.length-ue-1)==ke.charCodeAt(ke.length-ue-1);)ee--,ue++;G[G.length-1]=Ce.slice(0,Ce.length-ue).replace(/^\u200b+/,""),G[0]=G[0].slice(ee).replace(/\u200b+$/,"");var Ie=ve(_,ee),De=ve(D,re.length?Ae(re).length-ue:0);if(G.length>1||G[0]||M(Ie,De))return jr(e.doc,G,Ie,De,"+input"),!0},Qe.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qe.prototype.reset=function(){this.forceCompositionEnd()},Qe.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qe.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Qe.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Jt(this.cm,function(){return Wt(e.cm)})},Qe.prototype.setUneditable=function(e){e.contentEditable="false"},Qe.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||xt(this.cm,ea)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Qe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Qe.prototype.onContextMenu=function(){},Qe.prototype.resetPosition=function(){},Qe.prototype.needsContentAttribute=!0;function Xu(e,t){var r=kl(e,t.line);if(!r||r.hidden)return null;var n=Le(e.doc,t.line),l=ks(r,n,t.line),f=Xt(n,e.doc.direction),_="left";if(f){var T=qe(f,t.ch);_=T%2?"right":"left"}var L=Cs(l.map,t.ch,_);return L.offset=L.collapse=="right"?L.end:L.start,L}function qw(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Ur(e,t){return t&&(e.bad=!0),e}function zw(e,t,r,n,l){var f="",_=!1,T=e.doc.lineSeparator(),L=!1;function D(ee){return function(ue){return ue.id==ee}}function $(){_&&(f+=T,L&&(f+=T),_=L=!1)}function G(ee){ee&&($(),f+=ee)}function re(ee){if(ee.nodeType==1){var ue=ee.getAttribute("cm-text");if(ue){G(ue);return}var de=ee.getAttribute("cm-marker"),be;if(de){var xe=e.findMarks(ve(n,0),ve(l+1,0),D(+de));xe.length&&(be=xe[0].find(0))&&G(xn(e.doc,be.from,be.to).join(T));return}if(ee.getAttribute("contenteditable")=="false")return;var Ce=/^(pre|div|p|li|table|br)$/i.test(ee.nodeName);if(!/^br$/i.test(ee.nodeName)&&ee.textContent.length==0)return;Ce&&$();for(var ke=0;ke<ee.childNodes.length;ke++)re(ee.childNodes[ke]);/^(pre|p)$/i.test(ee.nodeName)&&(L=!0),Ce&&(_=!0)}else ee.nodeType==3&&G(ee.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;re(t),t!=r;)t=t.nextSibling,L=!1;return f}function ji(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return Ur(e.clipPos(ve(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var l=0;l<e.display.view.length;l++){var f=e.display.view[l];if(f.node==n)return Hw(f,t,r)}}function Hw(e,t,r){var n=e.text.firstChild,l=!1;if(!t||!ie(n,t))return Ur(ve(Xe(e.line),0),!0);if(t==n&&(l=!0,t=n.childNodes[r],r=0,!t)){var f=e.rest?Ae(e.rest):e.line;return Ur(ve(Xe(f),f.text.length),l)}var _=t.nodeType==3?t:null,T=t;for(!_&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(_=t.firstChild,r&&(r=_.nodeValue.length));T.parentNode!=n;)T=T.parentNode;var L=e.measure,D=L.maps;function $(be,xe,Ce){for(var ke=-1;ke<(D?D.length:0);ke++)for(var Ne=ke<0?L.map:D[ke],Ie=0;Ie<Ne.length;Ie+=3){var De=Ne[Ie+2];if(De==be||De==xe){var Ke=Xe(ke<0?e.line:e.rest[ke]),tt=Ne[Ie]+Ce;return(Ce<0||De!=be)&&(tt=Ne[Ie+(Ce?1:0)]),ve(Ke,tt)}}}var G=$(_,T,r);if(G)return Ur(G,l);for(var re=T.nextSibling,ee=_?_.nodeValue.length-r:0;re;re=re.nextSibling){if(G=$(re,re.firstChild,0),G)return Ur(ve(G.line,G.ch-ee),l);ee+=re.textContent.length}for(var ue=T.previousSibling,de=r;ue;ue=ue.previousSibling){if(G=$(ue,ue.firstChild,-1),G)return Ur(ve(G.line,G.ch+de),l);de+=ue.textContent.length}}var ct=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ne,this.hasSelection=!1,this.composing=null};ct.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var l=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),k&&(l.style.width="0px"),Me(l,"input",function(){v&&w>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),Me(l,"paste",function(_){pt(n,_)||Wu(_,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())});function f(_){if(!pt(n,_)){if(n.somethingSelected())Fi({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var T=$u(n);Fi({lineWise:!0,text:T.text}),_.type=="cut"?n.setSelections(T.ranges,null,se):(r.prevInput="",l.value=T.text.join(`
`),H(l))}else return;_.type=="cut"&&(n.state.cutIncoming=+new Date)}}Me(l,"cut",f),Me(l,"copy",f),Me(e.scroller,"paste",function(_){if(!(Vn(e,_)||pt(n,_))){if(!l.dispatchEvent){n.state.pasteIncoming=+new Date,r.focus();return}var T=new Event("paste");T.clipboardData=_.clipboardData,l.dispatchEvent(T)}}),Me(e.lineSpace,"selectstart",function(_){Vn(e,_)||Lt(_)}),Me(l,"compositionstart",function(){var _=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:_,range:n.markText(_,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Me(l,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},ct.prototype.createField=function(e){this.wrapper=Gu(),this.textarea=this.wrapper.firstChild},ct.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ct.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Rs(e);if(e.options.moveInputWithCursor){var l=pn(e,r.sel.primary().head,"div"),f=t.wrapper.getBoundingClientRect(),_=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,l.top+_.top-f.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,l.left+_.left-f.left))}return n},ct.prototype.showSelection=function(e){var t=this.cm,r=t.display;B(r.cursorDiv,e.cursors),B(r.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ct.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&H(this.textarea),v&&w>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",v&&w>=9&&(this.hasSelection=null))}},ct.prototype.getField=function(){return this.textarea},ct.prototype.supportsTouch=function(){return!1},ct.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!N||pe()!=this.textarea))try{this.textarea.focus()}catch(e){}},ct.prototype.blur=function(){this.textarea.blur()},ct.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ct.prototype.receivedFocus=function(){this.slowPoll()},ct.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ct.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function r(){var n=t.poll();!n&&!e?(e=!0,t.polling.set(60,r)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,r)},ct.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||fi(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var l=r.value;if(l==n&&!t.somethingSelected())return!1;if(v&&w>=9&&this.hasSelection===l||y&&/[\uf700-\uf7ff]/.test(l))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var f=l.charCodeAt(0);if(f==8203&&!n&&(n="\u200B"),f==8666)return this.reset(),this.cm.execCommand("undo")}for(var _=0,T=Math.min(n.length,l.length);_<T&&n.charCodeAt(_)==l.charCodeAt(_);)++_;return Jt(t,function(){ea(t,l.slice(_),n.length-_,null,e.composing?"*compose":null),l.length>1e3||l.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=l,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ct.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ct.prototype.onKeyPress=function(){v&&w>=9&&(this.hasSelection=null),this.fastPoll()},ct.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,l=t.textarea;t.contextMenuPending&&t.contextMenuPending();var f=sr(r,e),_=n.scroller.scrollTop;if(!f||p)return;var T=r.options.resetSelectionOnContextMenu;T&&r.doc.sel.contains(f)==-1&&xt(r,Dt)(r.doc,Gn(f),se);var L=l.style.cssText,D=t.wrapper.style.cssText,$=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",l.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-$.top-5)+"px; left: "+(e.clientX-$.left-5)+`px;
      z-index: 1000; background: `+(v?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var G;S&&(G=window.scrollY),n.input.focus(),S&&window.scrollTo(null,G),n.input.reset(),r.somethingSelected()||(l.value=t.prevInput=" "),t.contextMenuPending=ee,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll);function re(){if(l.selectionStart!=null){var de=r.somethingSelected(),be="\u200B"+(de?l.value:"");l.value="\u21DA",l.value=be,t.prevInput=de?"":"\u200B",l.selectionStart=1,l.selectionEnd=be.length,n.selForContextMenu=r.doc.sel}}function ee(){if(t.contextMenuPending==ee&&(t.contextMenuPending=!1,t.wrapper.style.cssText=D,l.style.cssText=L,v&&w<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=_),l.selectionStart!=null)){(!v||v&&w<9)&&re();var de=0,be=function(){n.selForContextMenu==r.doc.sel&&l.selectionStart==0&&l.selectionEnd>0&&t.prevInput=="\u200B"?xt(r,pu)(r):de++<10?n.detectingSelectAll=setTimeout(be,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(be,200)}}if(v&&w>=9&&re(),U){or(e);var ue=function(){zt(window,"mouseup",ue),setTimeout(ee,20)};Me(window,"mouseup",ue)}else setTimeout(ee,50)},ct.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},ct.prototype.setUneditable=function(){},ct.prototype.needsContentAttribute=!1;function Ww(e,t){if(t=t?X(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=pe();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=T.getValue()}var l;if(e.form&&(Me(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var f=e.form;l=f.submit;try{var _=f.submit=function(){n(),f.submit=l,f.submit(),f.submit=_}}catch(L){}}t.finishInit=function(L){L.save=n,L.getTextArea=function(){return e},L.toTextArea=function(){L.toTextArea=isNaN,n(),e.parentNode.removeChild(L.getWrapperElement()),e.style.display="",e.form&&(zt(e.form,"submit",n),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=l))}},e.style.display="none";var T=ot(function(L){return e.parentNode.insertBefore(L,e.nextSibling)},t);return T}function Uw(e){e.off=zt,e.on=Me,e.wheelEventPixels=J1,e.Doc=Ut,e.splitLines=so,e.countColumn=ae,e.findColumn=Be,e.isWordChar=Te,e.Pass=le,e.signal=Re,e.Line=Nr,e.changeEnd=Yn,e.scrollbarModel=Ws,e.Pos=ve,e.cmpPos=M,e.modes=fn,e.mimeModes=on,e.resolveMode=Cr,e.getMode=Or,e.modeExtensions=dn,e.extendMode=hn,e.copyState=ln,e.startState=co,e.innerMode=fo,e.commands=Ro,e.keyMap=Pn,e.keyName=Au,e.isModifierKey=Tu,e.lookupKey=zr,e.normalizeKeyMap=bw,e.StringStream=at,e.SharedTextMarker=Io,e.TextMarker=Zn,e.LineWidget=Do,e.e_preventDefault=Lt,e.e_stopPropagation=Er,e.e_stop=or,e.addClass=te,e.contains=ie,e.rmClass=I,e.keyNames=Jn}Vw(ot),jw(ot);var $w="iter insert remove copy getEditor constructor".split(" ");for(var qi in Ut.prototype)Ut.prototype.hasOwnProperty(qi)&&W($w,qi)<0&&(ot.prototype[qi]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ut.prototype[qi]));return bn(Ut),ot.inputStyles={textarea:ct,contenteditable:Qe},ot.defineMode=function(e){!ot.defaults.mode&&e!="null"&&(ot.defaults.mode=e),di.apply(this,arguments)},ot.defineMIME=Dn,ot.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ot.defineMIME("text/plain","null"),ot.defineExtension=function(e,t){ot.prototype[e]=t},ot.defineDocExtension=function(e,t){Ut.prototype[e]=t},ot.fromTextArea=Ww,Uw(ot),ot.version="5.63.3",ot})})(zi);var ia=zi.exports,Jw="";(function(u,s){(function(o){o(zi.exports)})(function(o){o.defineMode("javascript",function(a,c){var b=a.indentUnit,h=c.statementIndent,d=c.jsonld,v=c.json||d,w=c.trackScope!==!1,S=c.typescript,g=c.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function M(Bt){return{type:Bt,style:"keyword"}}var Y=M("keyword a"),ce=M("keyword b"),_e=M("keyword c"),Pe=M("keyword d"),Ge=M("operator"),Oe={type:"atom",style:"atom"};return{if:M("if"),while:Y,with:Y,else:ce,do:ce,try:ce,finally:ce,return:Pe,break:Pe,continue:Pe,new:M("new"),delete:_e,void:_e,throw:_e,debugger:M("debugger"),var:M("var"),const:M("var"),let:M("var"),function:M("function"),catch:M("catch"),for:M("for"),switch:M("switch"),case:M("case"),default:M("default"),in:Ge,typeof:Ge,instanceof:Ge,true:Oe,false:Oe,null:Oe,undefined:Oe,NaN:Oe,Infinity:Oe,this:M("this"),class:M("class"),super:M("atom"),yield:_e,export:M("export"),import:M("import"),extends:_e,await:_e}}(),p=/[+\-*&%=<>!?|~^@]/,C=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(M){for(var Y=!1,ce,_e=!1;(ce=M.next())!=null;){if(!Y){if(ce=="/"&&!_e)return;ce=="["?_e=!0:_e&&ce=="]"&&(_e=!1)}Y=!Y&&ce=="\\"}}var O,k;function x(M,Y,ce){return O=M,k=ce,Y}function N(M,Y){var ce=M.next();if(ce=='"'||ce=="'")return Y.tokenize=y(ce),Y.tokenize(M,Y);if(ce=="."&&M.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return x("number","number");if(ce=="."&&M.match(".."))return x("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ce))return x(ce);if(ce=="="&&M.eat(">"))return x("=>","operator");if(ce=="0"&&M.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return x("number","number");if(/\d/.test(ce))return M.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),x("number","number");if(ce=="/")return M.eat("*")?(Y.tokenize=A,A(M,Y)):M.eat("/")?(M.skipToEnd(),x("comment","comment")):ve(M,Y,1)?(E(M),M.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),x("regexp","string-2")):(M.eat("="),x("operator","operator",M.current()));if(ce=="`")return Y.tokenize=q,q(M,Y);if(ce=="#"&&M.peek()=="!")return M.skipToEnd(),x("meta","meta");if(ce=="#"&&M.eatWhile(g))return x("variable","property");if(ce=="<"&&M.match("!--")||ce=="-"&&M.match("->")&&!/\S/.test(M.string.slice(0,M.start)))return M.skipToEnd(),x("comment","comment");if(p.test(ce))return(ce!=">"||!Y.lexical||Y.lexical.type!=">")&&(M.eat("=")?(ce=="!"||ce=="=")&&M.eat("="):/[<>*+\-|&?]/.test(ce)&&(M.eat(ce),ce==">"&&M.eat(ce))),ce=="?"&&M.eat(".")?x("."):x("operator","operator",M.current());if(g.test(ce)){M.eatWhile(g);var _e=M.current();if(Y.lastType!="."){if(m.propertyIsEnumerable(_e)){var Pe=m[_e];return x(Pe.type,Pe.style,_e)}if(_e=="async"&&M.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return x("async","keyword",_e)}return x("variable","variable",_e)}}function y(M){return function(Y,ce){var _e=!1,Pe;if(d&&Y.peek()=="@"&&Y.match(C))return ce.tokenize=N,x("jsonld-keyword","meta");for(;(Pe=Y.next())!=null&&!(Pe==M&&!_e);)_e=!_e&&Pe=="\\";return _e||(ce.tokenize=N),x("string","string")}}function A(M,Y){for(var ce=!1,_e;_e=M.next();){if(_e=="/"&&ce){Y.tokenize=N;break}ce=_e=="*"}return x("comment","comment")}function q(M,Y){for(var ce=!1,_e;(_e=M.next())!=null;){if(!ce&&(_e=="`"||_e=="$"&&M.eat("{"))){Y.tokenize=N;break}ce=!ce&&_e=="\\"}return x("quasi","string-2",M.current())}var R="([{}])";function z(M,Y){Y.fatArrowAt&&(Y.fatArrowAt=null);var ce=M.string.indexOf("=>",M.start);if(!(ce<0)){if(S){var _e=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(M.string.slice(M.start,ce));_e&&(ce=_e.index)}for(var Pe=0,Ge=!1,Oe=ce-1;Oe>=0;--Oe){var Bt=M.string.charAt(Oe),an=R.indexOf(Bt);if(an>=0&&an<3){if(!Pe){++Oe;break}if(--Pe==0){Bt=="("&&(Ge=!0);break}}else if(an>=3&&an<6)++Pe;else if(g.test(Bt))Ge=!0;else if(/["'\/`]/.test(Bt))for(;;--Oe){if(Oe==0)return;var Tr=M.string.charAt(Oe-1);if(Tr==Bt&&M.string.charAt(Oe-2)!="\\"){Oe--;break}}else if(Ge&&!Pe){++Oe;break}}Ge&&!Pe&&(Y.fatArrowAt=Oe)}}var U={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function F(M,Y,ce,_e,Pe,Ge){this.indented=M,this.column=Y,this.type=ce,this.prev=Pe,this.info=Ge,_e!=null&&(this.align=_e)}function I(M,Y){if(!w)return!1;for(var ce=M.localVars;ce;ce=ce.next)if(ce.name==Y)return!0;for(var _e=M.context;_e;_e=_e.prev)for(var ce=_e.vars;ce;ce=ce.next)if(ce.name==Y)return!0}function P(M,Y,ce,_e,Pe){var Ge=M.cc;for(B.state=M,B.stream=Pe,B.marked=null,B.cc=Ge,B.style=Y,M.lexical.hasOwnProperty("align")||(M.lexical.align=!0);;){var Oe=Ge.length?Ge.pop():v?we:se;if(Oe(ce,_e)){for(;Ge.length&&Ge[Ge.length-1].lex;)Ge.pop()();return B.marked?B.marked:ce=="variable"&&I(M,_e)?"variable-2":Y}}}var B={state:null,column:null,marked:null,cc:null};function j(){for(var M=arguments.length-1;M>=0;M--)B.cc.push(arguments[M])}function V(){return j.apply(null,arguments),!0}function oe(M,Y){for(var ce=Y;ce;ce=ce.next)if(ce.name==M)return!0;return!1}function ie(M){var Y=B.state;if(B.marked="def",!!w){if(Y.context){if(Y.lexical.info=="var"&&Y.context&&Y.context.block){var ce=pe(M,Y.context);if(ce!=null){Y.context=ce;return}}else if(!oe(M,Y.localVars)){Y.localVars=new H(M,Y.localVars);return}}c.globalVars&&!oe(M,Y.globalVars)&&(Y.globalVars=new H(M,Y.globalVars))}}function pe(M,Y){if(Y)if(Y.block){var ce=pe(M,Y.prev);return ce?ce==Y.prev?Y:new Z(ce,Y.vars,!0):null}else return oe(M,Y.vars)?Y:new Z(Y.prev,new H(M,Y.vars),!1);else return null}function te(M){return M=="public"||M=="private"||M=="protected"||M=="abstract"||M=="readonly"}function Z(M,Y,ce){this.prev=M,this.vars=Y,this.block=ce}function H(M,Y){this.name=M,this.next=Y}var K=new H("this",new H("arguments",null));function X(){B.state.context=new Z(B.state.context,B.state.localVars,!1),B.state.localVars=K}function ae(){B.state.context=new Z(B.state.context,B.state.localVars,!0),B.state.localVars=null}function ne(){B.state.localVars=B.state.context.vars,B.state.context=B.state.context.prev}ne.lex=!0;function W(M,Y){var ce=function(){var _e=B.state,Pe=_e.indented;if(_e.lexical.type=="stat")Pe=_e.lexical.indented;else for(var Ge=_e.lexical;Ge&&Ge.type==")"&&Ge.align;Ge=Ge.prev)Pe=Ge.indented;_e.lexical=new F(Pe,B.stream.column(),M,null,_e.lexical,Y)};return ce.lex=!0,ce}function J(){var M=B.state;M.lexical.prev&&(M.lexical.type==")"&&(M.indented=M.lexical.indented),M.lexical=M.lexical.prev)}J.lex=!0;function le(M){function Y(ce){return ce==M?V():M==";"||ce=="}"||ce==")"||ce=="]"?j():V(Y)}return Y}function se(M,Y){return M=="var"?V(W("vardef",Y),lo,le(";"),J):M=="keyword a"?V(W("form"),Ve,se,J):M=="keyword b"?V(W("form"),se,J):M=="keyword d"?B.stream.match(/^\s*$/,!1)?V():V(W("stat"),Ae,le(";"),J):M=="debugger"?V(le(";")):M=="{"?V(W("}"),ae,Xt,J,ne):M==";"?V():M=="if"?(B.state.lexical.info=="else"&&B.state.cc[B.state.cc.length-1]==J&&B.state.cc.pop()(),V(W("form"),Ve,se,J,fi)):M=="function"?V(fn):M=="for"?V(W("form"),ae,ci,se,ne,J):M=="class"||S&&Y=="interface"?(B.marked="keyword",V(W("form",M=="class"?M:Y),Or,J)):M=="variable"?S&&Y=="declare"?(B.marked="keyword",V(se)):S&&(Y=="module"||Y=="enum"||Y=="type")&&B.stream.match(/^\s*\w/,!1)?(B.marked="keyword",Y=="enum"?V(kn):Y=="type"?V(di,le("operator"),Re,le(";")):V(W("form"),Ht,le("{"),W("}"),Xt,J,J)):S&&Y=="namespace"?(B.marked="keyword",V(W("form"),we,se,J)):S&&Y=="abstract"?(B.marked="keyword",V(se)):V(W("stat"),He):M=="switch"?V(W("form"),Ve,le("{"),W("}","switch"),ae,Xt,J,J,ne):M=="case"?V(we,le(":")):M=="default"?V(le(":")):M=="catch"?V(W("form"),X,ge,se,J,ne):M=="export"?V(W("stat"),fo,J):M=="import"?V(W("stat"),at,J):M=="async"?V(se):Y=="@"?V(we,se):j(W("stat"),we,le(";"),J)}function ge(M){if(M=="(")return V(Dn,le(")"))}function we(M,Y){return Ue(M,Y,!1)}function Be(M,Y){return Ue(M,Y,!0)}function Ve(M){return M!="("?j():V(W(")"),Ae,le(")"),J)}function Ue(M,Y,ce){if(B.state.fatArrowAt==B.stream.start){var _e=ce?Te:Ee;if(M=="(")return V(X,W(")"),qe(Dn,")"),J,le("=>"),_e,ne);if(M=="variable")return j(X,Ht,le("=>"),_e,ne)}var Pe=ce?et:nt;return U.hasOwnProperty(M)?V(Pe):M=="function"?V(fn,Pe):M=="class"||S&&Y=="interface"?(B.marked="keyword",V(W("form"),Cr,J)):M=="keyword c"||M=="async"?V(ce?Be:we):M=="("?V(W(")"),Ae,le(")"),J,Pe):M=="operator"||M=="spread"?V(ce?Be:we):M=="["?V(W("]"),Xe,J,Pe):M=="{"?Vt(yt,"}",null,Pe):M=="quasi"?j(fe,Pe):M=="new"?V(ye(ce)):V()}function Ae(M){return M.match(/[;\}\)\],]/)?j():j(we)}function nt(M,Y){return M==","?V(Ae):et(M,Y,!1)}function et(M,Y,ce){var _e=ce==!1?nt:et,Pe=ce==!1?we:Be;if(M=="=>")return V(X,ce?Te:Ee,ne);if(M=="operator")return/\+\+|--/.test(Y)||S&&Y=="!"?V(_e):S&&Y=="<"&&B.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?V(W(">"),qe(Re,">"),J,_e):Y=="?"?V(we,le(":"),Pe):V(Pe);if(M=="quasi")return j(fe,_e);if(M!=";"){if(M=="(")return Vt(Be,")","call",_e);if(M==".")return V(At,_e);if(M=="[")return V(W("]"),Ae,le("]"),J,_e);if(S&&Y=="as")return B.marked="keyword",V(Re,_e);if(M=="regexp")return B.state.lastType=B.marked="operator",B.stream.backUp(B.stream.pos-B.stream.start-1),V(Pe)}}function fe(M,Y){return M!="quasi"?j():Y.slice(Y.length-2)!="${"?V(fe):V(Ae,me)}function me(M){if(M=="}")return B.marked="string-2",B.state.tokenize=q,V(fe)}function Ee(M){return z(B.stream,B.state),j(M=="{"?se:we)}function Te(M){return z(B.stream,B.state),j(M=="{"?se:Be)}function ye(M){return function(Y){return Y=="."?V(M?$e:ze):Y=="variable"&&S?V(or,M?et:nt):j(M?Be:we)}}function ze(M,Y){if(Y=="target")return B.marked="keyword",V(nt)}function $e(M,Y){if(Y=="target")return B.marked="keyword",V(et)}function He(M){return M==":"?V(J,se):j(nt,le(";"),J)}function At(M){if(M=="variable")return B.marked="property",V()}function yt(M,Y){if(M=="async")return B.marked="property",V(yt);if(M=="variable"||B.style=="keyword"){if(B.marked="property",Y=="get"||Y=="set")return V(rt);var ce;return S&&B.state.fatArrowAt==B.stream.start&&(ce=B.stream.match(/^\s*:\s*/,!1))&&(B.state.fatArrowAt=B.stream.pos+ce[0].length),V(qt)}else{if(M=="number"||M=="string")return B.marked=d?"property":B.style+" property",V(qt);if(M=="jsonld-keyword")return V(qt);if(S&&te(Y))return B.marked="keyword",V(yt);if(M=="[")return V(we,Bn,le("]"),qt);if(M=="spread")return V(Be,qt);if(Y=="*")return B.marked="keyword",V(yt);if(M==":")return j(qt)}}function rt(M){return M!="variable"?j(qt):(B.marked="property",V(fn))}function qt(M){if(M==":")return V(Be);if(M=="(")return j(fn)}function qe(M,Y,ce){function _e(Pe,Ge){if(ce?ce.indexOf(Pe)>-1:Pe==","){var Oe=B.state.lexical;return Oe.info=="call"&&(Oe.pos=(Oe.pos||0)+1),V(function(Bt,an){return Bt==Y||an==Y?j():j(M)},_e)}return Pe==Y||Ge==Y?V():ce&&ce.indexOf(";")>-1?j(M):V(le(Y))}return function(Pe,Ge){return Pe==Y||Ge==Y?V():j(M,_e)}}function Vt(M,Y,ce){for(var _e=3;_e<arguments.length;_e++)B.cc.push(arguments[_e]);return V(W(Y,ce),qe(M,Y),J)}function Xt(M){return M=="}"?V():j(se,Xt)}function Bn(M,Y){if(S){if(M==":")return V(Re);if(Y=="?")return V(Bn)}}function Me(M,Y){if(S&&(M==":"||Y=="in"))return V(Re)}function kr(M){if(S&&M==":")return B.stream.match(/^\s*\w+\s+is\b/,!1)?V(we,zt,Re):V(Re)}function zt(M,Y){if(Y=="is")return B.marked="keyword",V()}function Re(M,Y){if(Y=="keyof"||Y=="typeof"||Y=="infer"||Y=="readonly")return B.marked="keyword",V(Y=="typeof"?Be:Re);if(M=="variable"||Y=="void")return B.marked="type",V(rn);if(Y=="|"||Y=="&")return V(Re);if(M=="string"||M=="number"||M=="atom")return V(rn);if(M=="[")return V(W("]"),qe(Re,"]",","),J,rn);if(M=="{")return V(W("}"),Sr,J,rn);if(M=="(")return V(qe(Er,")"),pt,rn);if(M=="<")return V(qe(Re,">"),Re);if(M=="quasi")return j(bn,rn)}function pt(M){if(M=="=>")return V(Re)}function Sr(M){return M.match(/[\}\)\]]/)?V():M==","||M==";"?V(Sr):j(Ct,Sr)}function Ct(M,Y){if(M=="variable"||B.style=="keyword")return B.marked="property",V(Ct);if(Y=="?"||M=="number"||M=="string")return V(Ct);if(M==":")return V(Re);if(M=="[")return V(le("variable"),Me,le("]"),Ct);if(M=="(")return j(on,Ct);if(!M.match(/[;\}\)\],]/))return V()}function bn(M,Y){return M!="quasi"?j():Y.slice(Y.length-2)!="${"?V(bn):V(Re,Lt)}function Lt(M){if(M=="}")return B.marked="string-2",B.state.tokenize=q,V(bn)}function Er(M,Y){return M=="variable"&&B.stream.match(/^\s*[?:]/,!1)||Y=="?"?V(Er):M==":"?V(Re):M=="spread"?V(Er):j(Re)}function rn(M,Y){if(Y=="<")return V(W(">"),qe(Re,">"),J,rn);if(Y=="|"||M=="."||Y=="&")return V(Re);if(M=="[")return V(Re,le("]"),rn);if(Y=="extends"||Y=="implements")return B.marked="keyword",V(Re);if(Y=="?")return V(Re,le(":"),Re)}function or(M,Y){if(Y=="<")return V(W(">"),qe(Re,">"),J,rn)}function Hn(){return j(Re,si)}function si(M,Y){if(Y=="=")return V(Re)}function lo(M,Y){return Y=="enum"?(B.marked="keyword",V(kn)):j(Ht,Bn,wn,so)}function Ht(M,Y){if(S&&te(Y))return B.marked="keyword",V(Ht);if(M=="variable")return ie(Y),V();if(M=="spread")return V(Ht);if(M=="[")return Vt(ao,"]");if(M=="{")return Vt(ui,"}")}function ui(M,Y){return M=="variable"&&!B.stream.match(/^\s*:/,!1)?(ie(Y),V(wn)):(M=="variable"&&(B.marked="property"),M=="spread"?V(Ht):M=="}"?j():M=="["?V(we,le("]"),le(":"),ui):V(le(":"),Ht,wn))}function ao(){return j(Ht,wn)}function wn(M,Y){if(Y=="=")return V(Be)}function so(M){if(M==",")return V(lo)}function fi(M,Y){if(M=="keyword b"&&Y=="else")return V(W("form","else"),se,J)}function ci(M,Y){if(Y=="await")return V(ci);if(M=="(")return V(W(")"),uo,J)}function uo(M){return M=="var"?V(lo,Wn):M=="variable"?V(Wn):j(Wn)}function Wn(M,Y){return M==")"?V():M==";"?V(Wn):Y=="in"||Y=="of"?(B.marked="keyword",V(we,Wn)):j(we,Wn)}function fn(M,Y){if(Y=="*")return B.marked="keyword",V(fn);if(M=="variable")return ie(Y),V(fn);if(M=="(")return V(X,W(")"),qe(Dn,")"),J,kr,se,ne);if(S&&Y=="<")return V(W(">"),qe(Hn,">"),J,fn)}function on(M,Y){if(Y=="*")return B.marked="keyword",V(on);if(M=="variable")return ie(Y),V(on);if(M=="(")return V(X,W(")"),qe(Dn,")"),J,kr,ne);if(S&&Y=="<")return V(W(">"),qe(Hn,">"),J,on)}function di(M,Y){if(M=="keyword"||M=="variable")return B.marked="type",V(di);if(Y=="<")return V(W(">"),qe(Hn,">"),J)}function Dn(M,Y){return Y=="@"&&V(we,Dn),M=="spread"?V(Dn):S&&te(Y)?(B.marked="keyword",V(Dn)):S&&M=="this"?V(Bn,wn):j(Ht,Bn,wn)}function Cr(M,Y){return M=="variable"?Or(M,Y):dn(M,Y)}function Or(M,Y){if(M=="variable")return ie(Y),V(dn)}function dn(M,Y){if(Y=="<")return V(W(">"),qe(Hn,">"),J,dn);if(Y=="extends"||Y=="implements"||S&&M==",")return Y=="implements"&&(B.marked="keyword"),V(S?Re:we,dn);if(M=="{")return V(W("}"),hn,J)}function hn(M,Y){if(M=="async"||M=="variable"&&(Y=="static"||Y=="get"||Y=="set"||S&&te(Y))&&B.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return B.marked="keyword",V(hn);if(M=="variable"||B.style=="keyword")return B.marked="property",V(ln,hn);if(M=="number"||M=="string")return V(ln,hn);if(M=="[")return V(we,Bn,le("]"),ln,hn);if(Y=="*")return B.marked="keyword",V(hn);if(S&&M=="(")return j(on,hn);if(M==";"||M==",")return V(hn);if(M=="}")return V();if(Y=="@")return V(we,hn)}function ln(M,Y){if(Y=="!"||Y=="?")return V(ln);if(M==":")return V(Re,wn);if(Y=="=")return V(Be);var ce=B.state.lexical.prev,_e=ce&&ce.info=="interface";return j(_e?on:fn)}function fo(M,Y){return Y=="*"?(B.marked="keyword",V(Zt,le(";"))):Y=="default"?(B.marked="keyword",V(we,le(";"))):M=="{"?V(qe(co,"}"),Zt,le(";")):j(se)}function co(M,Y){if(Y=="as")return B.marked="keyword",V(le("variable"));if(M=="variable")return j(Be,co)}function at(M){return M=="string"?V():M=="("?j(we):M=="."?j(nt):j(Le,xn,Zt)}function Le(M,Y){return M=="{"?Vt(Le,"}"):(M=="variable"&&ie(Y),Y=="*"&&(B.marked="keyword"),V(ho))}function xn(M){if(M==",")return V(Le,xn)}function ho(M,Y){if(Y=="as")return B.marked="keyword",V(Le)}function Zt(M,Y){if(Y=="from")return B.marked="keyword",V(we)}function Xe(M){return M=="]"?V():j(qe(Be,"]"))}function kn(){return j(W("form"),Ht,le("{"),W("}"),qe(ir,"}"),J,J)}function ir(){return j(Ht,wn)}function po(M,Y){return M.lastType=="operator"||M.lastType==","||p.test(Y.charAt(0))||/[,.]/.test(Y.charAt(0))}function ve(M,Y,ce){return Y.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Y.lastType)||Y.lastType=="quasi"&&/\{\s*$/.test(M.string.slice(0,M.pos-(ce||0)))}return{startState:function(M){var Y={tokenize:N,lastType:"sof",cc:[],lexical:new F((M||0)-b,0,"block",!1),localVars:c.localVars,context:c.localVars&&new Z(null,null,!1),indented:M||0};return c.globalVars&&typeof c.globalVars=="object"&&(Y.globalVars=c.globalVars),Y},token:function(M,Y){if(M.sol()&&(Y.lexical.hasOwnProperty("align")||(Y.lexical.align=!1),Y.indented=M.indentation(),z(M,Y)),Y.tokenize!=A&&M.eatSpace())return null;var ce=Y.tokenize(M,Y);return O=="comment"?ce:(Y.lastType=O=="operator"&&(k=="++"||k=="--")?"incdec":O,P(Y,ce,O,k,M))},indent:function(M,Y){if(M.tokenize==A||M.tokenize==q)return o.Pass;if(M.tokenize!=N)return 0;var ce=Y&&Y.charAt(0),_e=M.lexical,Pe;if(!/^\s*else\b/.test(Y))for(var Ge=M.cc.length-1;Ge>=0;--Ge){var Oe=M.cc[Ge];if(Oe==J)_e=_e.prev;else if(Oe!=fi&&Oe!=ne)break}for(;(_e.type=="stat"||_e.type=="form")&&(ce=="}"||(Pe=M.cc[M.cc.length-1])&&(Pe==nt||Pe==et)&&!/^[,\.=+\-*:?[\(]/.test(Y));)_e=_e.prev;h&&_e.type==")"&&_e.prev.type=="stat"&&(_e=_e.prev);var Bt=_e.type,an=ce==Bt;return Bt=="vardef"?_e.indented+(M.lastType=="operator"||M.lastType==","?_e.info.length+1:0):Bt=="form"&&ce=="{"?_e.indented:Bt=="form"?_e.indented+b:Bt=="stat"?_e.indented+(po(M,Y)?h||b:0):_e.info=="switch"&&!an&&c.doubleIndentSwitch!=!1?_e.indented+(/^(?:case|default)\b/.test(Y)?b:2*b):_e.align?_e.column+(an?0:1):_e.indented+(an?0:b)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:d,jsonMode:v,expressionAllowed:ve,skipExpression:function(M){P(M,"atom","atom","true",new o.StringStream("",2,null))}}}),o.registerHelper("wordChars","javascript",/[\w$]/),o.defineMIME("text/javascript","javascript"),o.defineMIME("text/ecmascript","javascript"),o.defineMIME("application/javascript","javascript"),o.defineMIME("application/x-javascript","javascript"),o.defineMIME("application/ecmascript","javascript"),o.defineMIME("application/json",{name:"javascript",json:!0}),o.defineMIME("application/x-json",{name:"javascript",json:!0}),o.defineMIME("application/manifest+json",{name:"javascript",json:!0}),o.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),o.defineMIME("text/typescript",{name:"javascript",typescript:!0}),o.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var Qw="",he=(u,s)=>{for(const[o,a]of s)u[o]=a;return u};const ef={name:"code-mirror",props:{modelValue:{type:String,default:""},options:{type:Object,default:function(){return{mode:"text/javascript",tabSize:2,lineNumbers:!0,lineWrapping:!0}}}},data:function(){return{skipNextChangeEvent:!1}},ready:function(){var u=this;this.editor=ia.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.modelValue),this.editor.on("change",function(s){if(u.skipNextChangeEvent){u.skipNextChangeEvent=!1;return}u.modelValue=s.getValue(),u.$emit&&u.$emit("update:modelValue",s.getValue())})},mounted:function(){var u=this;this.editor=ia.fromTextArea(this.$el.querySelector("textarea"),this.options),this.editor.setValue(this.modelValue),this.editor.on("change",function(s){if(u.skipNextChangeEvent){u.skipNextChangeEvent=!1;return}u.$emit&&(u.$emit("update:modelValue",s.getValue()),u.$emit("input",s.getValue()))})},watch:{modelValue:function(u,s){var o=this.editor.getValue();if(u!==o){this.skipNextChangeEvent=!0;var a=this.editor.getScrollInfo();this.editor.setValue(u),this.editor.scrollTo(a.left,a.top)}},options:function(u,s){if(typeof u=="object")for(var o in u)u.hasOwnProperty(o)&&this.editor.setOption(o,u[o])}},beforeUnmount:function(){this.editor&&this.editor.toTextArea()}},tf={class:"vue-codemirror-wrap"},nf=[i.createElementVNode("textarea",null,null,-1)];function rf(u,s,o,a,c,b){return i.openBlock(),i.createElementBlock("div",tf,nf)}var Gr=he(ef,[["render",rf]]),tx="",nx="",rx="",la={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(u,s){(function(a,c){u.exports=c()})(typeof self!="undefined"?self:oa,function(){return function(o){var a={};function c(b){if(a[b])return a[b].exports;var h=a[b]={i:b,l:!1,exports:{}};return o[b].call(h.exports,h,h.exports,c),h.l=!0,h.exports}return c.m=o,c.c=a,c.d=function(b,h,d){c.o(b,h)||Object.defineProperty(b,h,{configurable:!1,enumerable:!0,get:d})},c.n=function(b){var h=b&&b.__esModule?function(){return b.default}:function(){return b};return c.d(h,"a",h),h},c.o=function(b,h){return Object.prototype.hasOwnProperty.call(b,h)},c.p="",c(c.s=109)}([function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(17),h=c(18),d=c(19),v=c(45),w=c(46),S=c(47),g=c(48),m=c(49),p=c(12),C=c(32),E=c(33),O=c(31),k=c(1),x={Scope:k.Scope,create:k.create,find:k.find,query:k.query,register:k.register,Container:b.default,Format:h.default,Leaf:d.default,Embed:g.default,Scroll:v.default,Block:S.default,Inline:w.default,Text:m.default,Attributor:{Attribute:p.default,Class:C.default,Style:E.default,Store:O.default}};a.default=x},function(o,a,c){var b=this&&this.__extends||function(){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,x){k.__proto__=x}||function(k,x){for(var N in x)x.hasOwnProperty(N)&&(k[N]=x[N])};return function(k,x){O(k,x);function N(){this.constructor=k}k.prototype=x===null?Object.create(x):(N.prototype=x.prototype,new N)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=function(O){b(k,O);function k(x){var N=this;return x="[Parchment] "+x,N=O.call(this,x)||this,N.message=x,N.name=N.constructor.name,N}return k}(Error);a.ParchmentError=h;var d={},v={},w={},S={};a.DATA_KEY="__blot";var g;(function(O){O[O.TYPE=3]="TYPE",O[O.LEVEL=12]="LEVEL",O[O.ATTRIBUTE=13]="ATTRIBUTE",O[O.BLOT=14]="BLOT",O[O.INLINE=7]="INLINE",O[O.BLOCK=11]="BLOCK",O[O.BLOCK_BLOT=10]="BLOCK_BLOT",O[O.INLINE_BLOT=6]="INLINE_BLOT",O[O.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",O[O.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",O[O.ANY=15]="ANY"})(g=a.Scope||(a.Scope={}));function m(O,k){var x=C(O);if(x==null)throw new h("Unable to create "+O+" blot");var N=x,y=O instanceof Node||O.nodeType===Node.TEXT_NODE?O:N.create(k);return new N(y,k)}a.create=m;function p(O,k){return k===void 0&&(k=!1),O==null?null:O[a.DATA_KEY]!=null?O[a.DATA_KEY].blot:k?p(O.parentNode,k):null}a.find=p;function C(O,k){k===void 0&&(k=g.ANY);var x;if(typeof O=="string")x=S[O]||d[O];else if(O instanceof Text||O.nodeType===Node.TEXT_NODE)x=S.text;else if(typeof O=="number")O&g.LEVEL&g.BLOCK?x=S.block:O&g.LEVEL&g.INLINE&&(x=S.inline);else if(O instanceof HTMLElement){var N=(O.getAttribute("class")||"").split(/\s+/);for(var y in N)if(x=v[N[y]],x)break;x=x||w[O.tagName]}return x==null?null:k&g.LEVEL&x.scope&&k&g.TYPE&x.scope?x:null}a.query=C;function E(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];if(O.length>1)return O.map(function(y){return E(y)});var x=O[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new h("Invalid definition");if(x.blotName==="abstract")throw new h("Cannot register abstract class");if(S[x.blotName||x.attrName]=x,typeof x.keyName=="string")d[x.keyName]=x;else if(x.className!=null&&(v[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(y){return y.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var N=Array.isArray(x.tagName)?x.tagName:[x.tagName];N.forEach(function(y){(w[y]==null||x.className==null)&&(w[y]=x)})}return x}a.register=E},function(o,a,c){var b=c(51),h=c(11),d=c(3),v=c(20),w=String.fromCharCode(0),S=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};S.prototype.insert=function(g,m){var p={};return g.length===0?this:(p.insert=g,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p))},S.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},S.prototype.retain=function(g,m){if(g<=0)return this;var p={retain:g};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p)},S.prototype.push=function(g){var m=this.ops.length,p=this.ops[m-1];if(g=d(!0,{},g),typeof p=="object"){if(typeof g.delete=="number"&&typeof p.delete=="number")return this.ops[m-1]={delete:p.delete+g.delete},this;if(typeof p.delete=="number"&&g.insert!=null&&(m-=1,p=this.ops[m-1],typeof p!="object"))return this.ops.unshift(g),this;if(h(g.attributes,p.attributes)){if(typeof g.insert=="string"&&typeof p.insert=="string")return this.ops[m-1]={insert:p.insert+g.insert},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof p.retain=="number")return this.ops[m-1]={retain:p.retain+g.retain},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this}}return m===this.ops.length?this.ops.push(g):this.ops.splice(m,0,g),this},S.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},S.prototype.filter=function(g){return this.ops.filter(g)},S.prototype.forEach=function(g){this.ops.forEach(g)},S.prototype.map=function(g){return this.ops.map(g)},S.prototype.partition=function(g){var m=[],p=[];return this.forEach(function(C){var E=g(C)?m:p;E.push(C)}),[m,p]},S.prototype.reduce=function(g,m){return this.ops.reduce(g,m)},S.prototype.changeLength=function(){return this.reduce(function(g,m){return m.insert?g+v.length(m):m.delete?g-m.delete:g},0)},S.prototype.length=function(){return this.reduce(function(g,m){return g+v.length(m)},0)},S.prototype.slice=function(g,m){g=g||0,typeof m!="number"&&(m=1/0);for(var p=[],C=v.iterator(this.ops),E=0;E<m&&C.hasNext();){var O;E<g?O=C.next(g-E):(O=C.next(m-E),p.push(O)),E+=v.length(O)}return new S(p)},S.prototype.compose=function(g){var m=v.iterator(this.ops),p=v.iterator(g.ops),C=[],E=p.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var O=E.retain;m.peekType()==="insert"&&m.peekLength()<=O;)O-=m.peekLength(),C.push(m.next());E.retain-O>0&&p.next(E.retain-O)}for(var k=new S(C);m.hasNext()||p.hasNext();)if(p.peekType()==="insert")k.push(p.next());else if(m.peekType()==="delete")k.push(m.next());else{var x=Math.min(m.peekLength(),p.peekLength()),N=m.next(x),y=p.next(x);if(typeof y.retain=="number"){var A={};typeof N.retain=="number"?A.retain=x:A.insert=N.insert;var q=v.attributes.compose(N.attributes,y.attributes,typeof N.retain=="number");if(q&&(A.attributes=q),k.push(A),!p.hasNext()&&h(k.ops[k.ops.length-1],A)){var R=new S(m.rest());return k.concat(R).chop()}}else typeof y.delete=="number"&&typeof N.retain=="number"&&k.push(y)}return k.chop()},S.prototype.concat=function(g){var m=new S(this.ops.slice());return g.ops.length>0&&(m.push(g.ops[0]),m.ops=m.ops.concat(g.ops.slice(1))),m},S.prototype.diff=function(g,m){if(this.ops===g.ops)return new S;var p=[this,g].map(function(x){return x.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:w;var y=x===g?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),C=new S,E=b(p[0],p[1],m),O=v.iterator(this.ops),k=v.iterator(g.ops);return E.forEach(function(x){for(var N=x[1].length;N>0;){var y=0;switch(x[0]){case b.INSERT:y=Math.min(k.peekLength(),N),C.push(k.next(y));break;case b.DELETE:y=Math.min(N,O.peekLength()),O.next(y),C.delete(y);break;case b.EQUAL:y=Math.min(O.peekLength(),k.peekLength(),N);var A=O.next(y),q=k.next(y);h(A.insert,q.insert)?C.retain(y,v.attributes.diff(A.attributes,q.attributes)):C.push(q).delete(y);break}N-=y}}),C.chop()},S.prototype.eachLine=function(g,m){m=m||`
`;for(var p=v.iterator(this.ops),C=new S,E=0;p.hasNext();){if(p.peekType()!=="insert")return;var O=p.peek(),k=v.length(O)-p.peekLength(),x=typeof O.insert=="string"?O.insert.indexOf(m,k)-k:-1;if(x<0)C.push(p.next());else if(x>0)C.push(p.next(x));else{if(g(C,p.next(1).attributes||{},E)===!1)return;E+=1,C=new S}}C.length()>0&&g(C,{},E)},S.prototype.transform=function(g,m){if(m=!!m,typeof g=="number")return this.transformPosition(g,m);for(var p=v.iterator(this.ops),C=v.iterator(g.ops),E=new S;p.hasNext()||C.hasNext();)if(p.peekType()==="insert"&&(m||C.peekType()!=="insert"))E.retain(v.length(p.next()));else if(C.peekType()==="insert")E.push(C.next());else{var O=Math.min(p.peekLength(),C.peekLength()),k=p.next(O),x=C.next(O);if(k.delete)continue;x.delete?E.push(x):E.retain(O,v.attributes.transform(k.attributes,x.attributes,m))}return E.chop()},S.prototype.transformPosition=function(g,m){m=!!m;for(var p=v.iterator(this.ops),C=0;p.hasNext()&&C<=g;){var E=p.peekLength(),O=p.peekType();if(p.next(),O==="delete"){g-=Math.min(E,g-C);continue}else O==="insert"&&(C<g||!m)&&(g+=E);C+=E}return g},o.exports=S},function(o,a){var c=Object.prototype.hasOwnProperty,b=Object.prototype.toString,h=Object.defineProperty,d=Object.getOwnPropertyDescriptor,v=function(p){return typeof Array.isArray=="function"?Array.isArray(p):b.call(p)==="[object Array]"},w=function(p){if(!p||b.call(p)!=="[object Object]")return!1;var C=c.call(p,"constructor"),E=p.constructor&&p.constructor.prototype&&c.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!C&&!E)return!1;var O;for(O in p);return typeof O=="undefined"||c.call(p,O)},S=function(p,C){h&&C.name==="__proto__"?h(p,C.name,{enumerable:!0,configurable:!0,value:C.newValue,writable:!0}):p[C.name]=C.newValue},g=function(p,C){if(C==="__proto__")if(c.call(p,C)){if(d)return d(p,C).value}else return;return p[C]};o.exports=function m(){var p,C,E,O,k,x,N=arguments[0],y=1,A=arguments.length,q=!1;for(typeof N=="boolean"&&(q=N,N=arguments[1]||{},y=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});y<A;++y)if(p=arguments[y],p!=null)for(C in p)E=g(N,C),O=g(p,C),N!==O&&(q&&O&&(w(O)||(k=v(O)))?(k?(k=!1,x=E&&v(E)?E:[]):x=E&&w(E)?E:{},S(N,{name:C,newValue:m(q,x,O)})):typeof O!="undefined"&&S(N,{name:C,newValue:O}));return N}},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var b=function(){function I(P,B){for(var j=0;j<B.length;j++){var V=B[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}return function(P,B,j){return B&&I(P.prototype,B),j&&I(P,j),P}}(),h=function I(P,B,j){P===null&&(P=Function.prototype);var V=Object.getOwnPropertyDescriptor(P,B);if(V===void 0){var oe=Object.getPrototypeOf(P);return oe===null?void 0:I(oe,B,j)}else{if("value"in V)return V.value;var ie=V.get;return ie===void 0?void 0:ie.call(j)}},d=c(3),v=N(d),w=c(2),S=N(w),g=c(0),m=N(g),p=c(16),C=N(p),E=c(6),O=N(E),k=c(7),x=N(k);function N(I){return I&&I.__esModule?I:{default:I}}function y(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function A(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function q(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var R=1,z=function(I){q(P,I);function P(){return y(this,P),A(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return b(P,[{key:"attach",value:function(){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new S.default().insert(this.value(),(0,v.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,V){var oe=m.default.query(j,m.default.Scope.BLOCK_ATTRIBUTE);oe!=null&&this.attributes.attribute(oe,V)}},{key:"formatAt",value:function(j,V,oe,ie){this.format(oe,ie)}},{key:"insertAt",value:function(j,V,oe){if(typeof V=="string"&&V.endsWith(`
`)){var ie=m.default.create(U.blotName);this.parent.insertBefore(ie,j===0?this:this.next),ie.insertAt(0,V.slice(0,-1))}else h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,j,V,oe)}}]),P}(m.default.Embed);z.scope=m.default.Scope.BLOCK_BLOT;var U=function(I){q(P,I);function P(B){y(this,P);var j=A(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,B));return j.cache={},j}return b(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(j,V){return V.length()===0?j:j.insert(V.value(),F(V))},new S.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(j,V){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,j,V),this.cache={}}},{key:"formatAt",value:function(j,V,oe,ie){V<=0||(m.default.query(oe,m.default.Scope.BLOCK)?j+V===this.length()&&this.format(oe,ie):h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,j,Math.min(V,this.length()-j-1),oe,ie),this.cache={})}},{key:"insertAt",value:function(j,V,oe){if(oe!=null)return h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,j,V,oe);if(V.length!==0){var ie=V.split(`
`),pe=ie.shift();pe.length>0&&(j<this.length()-1||this.children.tail==null?h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),pe):this.children.tail.insertAt(this.children.tail.length(),pe),this.cache={});var te=this;ie.reduce(function(Z,H){return te=te.split(Z,!0),te.insertAt(0,H),H.length},j+pe.length)}}},{key:"insertBefore",value:function(j,V){var oe=this.children.head;h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,j,V),oe instanceof C.default&&oe.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(j,V){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,j,V),this.cache={}}},{key:"optimize",value:function(j){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&(j===0||j>=this.length()-R)){var oe=this.clone();return j===0?(this.parent.insertBefore(oe,this),this):(this.parent.insertBefore(oe,this.next),oe)}else{var ie=h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,j,V);return this.cache={},ie}}}]),P}(m.default.Block);U.blotName="block",U.tagName="P",U.defaultChild="break",U.allowedChildren=[O.default,m.default.Embed,x.default];function F(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(P=(0,v.default)(P,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?P:F(I.parent,P)}a.bubbleFormats=F,a.BlockEmbed=z,a.default=U},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},h=function(){function te(Z,H){var K=[],X=!0,ae=!1,ne=void 0;try{for(var W=Z[Symbol.iterator](),J;!(X=(J=W.next()).done)&&(K.push(J.value),!(H&&K.length===H));X=!0);}catch(le){ae=!0,ne=le}finally{try{!X&&W.return&&W.return()}finally{if(ae)throw ne}}return K}return function(Z,H){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return te(Z,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function te(Z,H){for(var K=0;K<H.length;K++){var X=H[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}}return function(Z,H,K){return H&&te(Z.prototype,H),K&&te(Z,K),Z}}();c(50);var v=c(2),w=F(v),S=c(14),g=F(S),m=c(8),p=F(m),C=c(9),E=F(C),O=c(0),k=F(O),x=c(15),N=F(x),y=c(3),A=F(y),q=c(10),R=F(q),z=c(34),U=F(z);function F(te){return te&&te.__esModule?te:{default:te}}function I(te,Z,H){return Z in te?Object.defineProperty(te,Z,{value:H,enumerable:!0,configurable:!0,writable:!0}):te[Z]=H,te}function P(te,Z){if(!(te instanceof Z))throw new TypeError("Cannot call a class as a function")}var B=(0,R.default)("quill"),j=function(){d(te,null,[{key:"debug",value:function(H){H===!0&&(H="log"),R.default.level(H)}},{key:"find",value:function(H){return H.__quill||k.default.find(H)}},{key:"import",value:function(H){return this.imports[H]==null&&B.error("Cannot import "+H+". Are you sure it was registered?"),this.imports[H]}},{key:"register",value:function(H,K){var X=this,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof H!="string"){var ne=H.attrName||H.blotName;typeof ne=="string"?this.register("formats/"+ne,H,K):Object.keys(H).forEach(function(W){X.register(W,H[W],K)})}else this.imports[H]!=null&&!ae&&B.warn("Overwriting "+H+" with",K),this.imports[H]=K,(H.startsWith("blots/")||H.startsWith("formats/"))&&K.blotName!=="abstract"?k.default.register(K):H.startsWith("modules")&&typeof K.register=="function"&&K.register()}}]);function te(Z){var H=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,te),this.options=V(Z,K),this.container=this.options.container,this.container==null)return B.error("Invalid Quill container",Z);this.options.debug&&te.debug(this.options.debug);var X=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=k.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new N.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(ne){ne===p.default.events.TEXT_CHANGE&&H.root.classList.toggle("ql-blank",H.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(ne,W){var J=H.selection.lastRange,le=J&&J.length===0?J.index:void 0;oe.call(H,function(){return H.editor.update(null,W,le)},ne)});var ae=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+X+"<p><br></p></div>");this.setContents(ae),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return d(te,[{key:"addContainer",value:function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof H=="string"){var X=H;H=document.createElement("div"),H.classList.add(X)}return this.container.insertBefore(H,K),H}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(H,K,X){var ae=this,ne=ie(H,K,X),W=h(ne,4);return H=W[0],K=W[1],X=W[3],oe.call(this,function(){return ae.editor.deleteText(H,K)},X,H,-1*K)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(H),this.container.classList.toggle("ql-disabled",!H)}},{key:"focus",value:function(){var H=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=H,this.scrollIntoView()}},{key:"format",value:function(H,K){var X=this,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return oe.call(this,function(){var ne=X.getSelection(!0),W=new w.default;if(ne==null)return W;if(k.default.query(H,k.default.Scope.BLOCK))W=X.editor.formatLine(ne.index,ne.length,I({},H,K));else{if(ne.length===0)return X.selection.format(H,K),W;W=X.editor.formatText(ne.index,ne.length,I({},H,K))}return X.setSelection(ne,p.default.sources.SILENT),W},ae)}},{key:"formatLine",value:function(H,K,X,ae,ne){var W=this,J=void 0,le=ie(H,K,X,ae,ne),se=h(le,4);return H=se[0],K=se[1],J=se[2],ne=se[3],oe.call(this,function(){return W.editor.formatLine(H,K,J)},ne,H,0)}},{key:"formatText",value:function(H,K,X,ae,ne){var W=this,J=void 0,le=ie(H,K,X,ae,ne),se=h(le,4);return H=se[0],K=se[1],J=se[2],ne=se[3],oe.call(this,function(){return W.editor.formatText(H,K,J)},ne,H,0)}},{key:"getBounds",value:function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=void 0;typeof H=="number"?X=this.selection.getBounds(H,K):X=this.selection.getBounds(H.index,H.length);var ae=this.container.getBoundingClientRect();return{bottom:X.bottom-ae.top,height:X.height,left:X.left-ae.left,right:X.right-ae.left,top:X.top-ae.top,width:X.width}}},{key:"getContents",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-H,X=ie(H,K),ae=h(X,2);return H=ae[0],K=ae[1],this.editor.getContents(H,K)}},{key:"getFormat",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof H=="number"?this.editor.getFormat(H,K):this.editor.getFormat(H.index,H.length)}},{key:"getIndex",value:function(H){return H.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(H){return this.scroll.leaf(H)}},{key:"getLine",value:function(H){return this.scroll.line(H)}},{key:"getLines",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof H!="number"?this.scroll.lines(H.index,H.length):this.scroll.lines(H,K)}},{key:"getModule",value:function(H){return this.theme.modules[H]}},{key:"getSelection",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return H&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-H,X=ie(H,K),ae=h(X,2);return H=ae[0],K=ae[1],this.editor.getText(H,K)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(H,K,X){var ae=this,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:te.sources.API;return oe.call(this,function(){return ae.editor.insertEmbed(H,K,X)},ne,H)}},{key:"insertText",value:function(H,K,X,ae,ne){var W=this,J=void 0,le=ie(H,0,X,ae,ne),se=h(le,4);return H=se[0],J=se[2],ne=se[3],oe.call(this,function(){return W.editor.insertText(H,K,J)},ne,H,K.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(H,K,X){this.clipboard.dangerouslyPasteHTML(H,K,X)}},{key:"removeFormat",value:function(H,K,X){var ae=this,ne=ie(H,K,X),W=h(ne,4);return H=W[0],K=W[1],X=W[3],oe.call(this,function(){return ae.editor.removeFormat(H,K)},X,H)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(H){var K=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return oe.call(this,function(){H=new w.default(H);var ae=K.getLength(),ne=K.editor.deleteText(0,ae),W=K.editor.applyDelta(H),J=W.ops[W.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(K.editor.deleteText(K.getLength()-1,1),W.delete(1));var le=ne.compose(W);return le},X)}},{key:"setSelection",value:function(H,K,X){if(H==null)this.selection.setRange(null,K||te.sources.API);else{var ae=ie(H,K,X),ne=h(ae,4);H=ne[0],K=ne[1],X=ne[3],this.selection.setRange(new x.Range(H,K),X),X!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,X=new w.default().insert(H);return this.setContents(X,K)}},{key:"update",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,K=this.scroll.update(H);return this.selection.update(H),K}},{key:"updateContents",value:function(H){var K=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return oe.call(this,function(){return H=new w.default(H),K.editor.applyDelta(H,X)},X,!0)}}]),te}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=p.default.events,j.sources=p.default.sources,j.version="1.3.7",j.imports={delta:w.default,parchment:k.default,"core/module":E.default,"core/theme":U.default};function V(te,Z){if(Z=(0,A.default)(!0,{container:te,modules:{clipboard:!0,keyboard:!0,history:!0}},Z),!Z.theme||Z.theme===j.DEFAULTS.theme)Z.theme=U.default;else if(Z.theme=j.import("themes/"+Z.theme),Z.theme==null)throw new Error("Invalid theme "+Z.theme+". Did you register it?");var H=(0,A.default)(!0,{},Z.theme.DEFAULTS);[H,Z].forEach(function(ae){ae.modules=ae.modules||{},Object.keys(ae.modules).forEach(function(ne){ae.modules[ne]===!0&&(ae.modules[ne]={})})});var K=Object.keys(H.modules).concat(Object.keys(Z.modules)),X=K.reduce(function(ae,ne){var W=j.import("modules/"+ne);return W==null?B.error("Cannot load "+ne+" module. Are you sure you registered it?"):ae[ne]=W.DEFAULTS||{},ae},{});return Z.modules!=null&&Z.modules.toolbar&&Z.modules.toolbar.constructor!==Object&&(Z.modules.toolbar={container:Z.modules.toolbar}),Z=(0,A.default)(!0,{},j.DEFAULTS,{modules:X},H,Z),["bounds","container","scrollingContainer"].forEach(function(ae){typeof Z[ae]=="string"&&(Z[ae]=document.querySelector(Z[ae]))}),Z.modules=Object.keys(Z.modules).reduce(function(ae,ne){return Z.modules[ne]&&(ae[ne]=Z.modules[ne]),ae},{}),Z}function oe(te,Z,H,K){if(this.options.strict&&!this.isEnabled()&&Z===p.default.sources.USER)return new w.default;var X=H==null?null:this.getSelection(),ae=this.editor.delta,ne=te();if(X!=null&&(H===!0&&(H=X.index),K==null?X=pe(X,ne,Z):K!==0&&(X=pe(X,H,K,Z)),this.setSelection(X,p.default.sources.SILENT)),ne.length()>0){var W,J=[p.default.events.TEXT_CHANGE,ne,ae,Z];if((W=this.emitter).emit.apply(W,[p.default.events.EDITOR_CHANGE].concat(J)),Z!==p.default.sources.SILENT){var le;(le=this.emitter).emit.apply(le,J)}}return ne}function ie(te,Z,H,K,X){var ae={};return typeof te.index=="number"&&typeof te.length=="number"?typeof Z!="number"?(X=K,K=H,H=Z,Z=te.length,te=te.index):(Z=te.length,te=te.index):typeof Z!="number"&&(X=K,K=H,H=Z,Z=0),(typeof H=="undefined"?"undefined":b(H))==="object"?(ae=H,X=K):typeof H=="string"&&(K!=null?ae[H]=K:X=H),X=X||p.default.sources.API,[te,Z,ae,X]}function pe(te,Z,H,K){if(te==null)return null;var X=void 0,ae=void 0;if(Z instanceof w.default){var ne=[te.index,te.index+te.length].map(function(se){return Z.transformPosition(se,K!==p.default.sources.USER)}),W=h(ne,2);X=W[0],ae=W[1]}else{var J=[te.index,te.index+te.length].map(function(se){return se<Z||se===Z&&K===p.default.sources.USER?se:H>=0?se+H:Math.max(Z,se+H)}),le=h(J,2);X=le[0],ae=le[1]}return new x.Range(X,ae-X)}a.expandConfig=V,a.overload=ie,a.default=j},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function O(k,x){for(var N=0;N<x.length;N++){var y=x[N];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}return function(k,x,N){return x&&O(k.prototype,x),N&&O(k,N),k}}(),h=function O(k,x,N){k===null&&(k=Function.prototype);var y=Object.getOwnPropertyDescriptor(k,x);if(y===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:O(A,x,N)}else{if("value"in y)return y.value;var q=y.get;return q===void 0?void 0:q.call(N)}},d=c(7),v=g(d),w=c(0),S=g(w);function g(O){return O&&O.__esModule?O:{default:O}}function m(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function p(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function C(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var E=function(O){C(k,O);function k(){return m(this,k),p(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return b(k,[{key:"formatAt",value:function(N,y,A,q){if(k.compare(this.statics.blotName,A)<0&&S.default.query(A,S.default.Scope.BLOT)){var R=this.isolate(N,y);q&&R.wrap(A,q)}else h(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,N,y,A,q)}},{key:"optimize",value:function(N){if(h(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,N),this.parent instanceof k&&k.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(N,y){var A=k.order.indexOf(N),q=k.order.indexOf(y);return A>=0||q>=0?A-q:N===y?0:N<y?-1:1}}]),k}(S.default.Inline);E.allowedChildren=[E,S.default.Embed,v.default],E.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=E},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(0),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function S(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){S(p,m);function p(){return v(this,p),w(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(h.default.Text);a.default=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function x(N,y){for(var A=0;A<y.length;A++){var q=y[A];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(N,q.key,q)}}return function(N,y,A){return y&&x(N.prototype,y),A&&x(N,A),N}}(),h=function x(N,y,A){N===null&&(N=Function.prototype);var q=Object.getOwnPropertyDescriptor(N,y);if(q===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:x(R,y,A)}else{if("value"in q)return q.value;var z=q.get;return z===void 0?void 0:z.call(A)}},d=c(54),v=g(d),w=c(10),S=g(w);function g(x){return x&&x.__esModule?x:{default:x}}function m(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}function p(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:x}function C(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}var E=(0,S.default)("quill:events"),O=["selectionchange","mousedown","mouseup","click"];O.forEach(function(x){document.addEventListener(x,function(){for(var N=arguments.length,y=Array(N),A=0;A<N;A++)y[A]=arguments[A];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(q){if(q.__quill&&q.__quill.emitter){var R;(R=q.__quill.emitter).handleDOM.apply(R,y)}})})});var k=function(x){C(N,x);function N(){m(this,N);var y=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return y.listeners={},y.on("error",E.error),y}return b(N,[{key:"emit",value:function(){E.log.apply(E,arguments),h(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(A){for(var q=arguments.length,R=Array(q>1?q-1:0),z=1;z<q;z++)R[z-1]=arguments[z];(this.listeners[A.type]||[]).forEach(function(U){var F=U.node,I=U.handler;(A.target===F||F.contains(A.target))&&I.apply(void 0,[A].concat(R))})}},{key:"listenDOM",value:function(A,q,R){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push({node:q,handler:R})}}]),N}(v.default);k.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},k.sources={API:"api",SILENT:"silent",USER:"user"},a.default=k},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});function b(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var h=function d(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b(this,d),this.quill=v,this.options=w};h.DEFAULTS={},a.default=h},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=["error","warn","log","info"],h="warn";function d(w){if(b.indexOf(w)<=b.indexOf(h)){for(var S,g=arguments.length,m=Array(g>1?g-1:0),p=1;p<g;p++)m[p-1]=arguments[p];(S=console)[w].apply(S,m)}}function v(w){return b.reduce(function(S,g){return S[g]=d.bind(console,g,w),S},{})}d.level=v.level=function(w){h=w},a.default=v},function(o,a,c){var b=Array.prototype.slice,h=c(52),d=c(53),v=o.exports=function(m,p,C){return C||(C={}),m===p?!0:m instanceof Date&&p instanceof Date?m.getTime()===p.getTime():!m||!p||typeof m!="object"&&typeof p!="object"?C.strict?m===p:m==p:g(m,p,C)};function w(m){return m==null}function S(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function g(m,p,C){var E,O;if(w(m)||w(p)||m.prototype!==p.prototype)return!1;if(d(m))return d(p)?(m=b.call(m),p=b.call(p),v(m,p,C)):!1;if(S(m)){if(!S(p)||m.length!==p.length)return!1;for(E=0;E<m.length;E++)if(m[E]!==p[E])return!1;return!0}try{var k=h(m),x=h(p)}catch(N){return!1}if(k.length!=x.length)return!1;for(k.sort(),x.sort(),E=k.length-1;E>=0;E--)if(k[E]!=x[E])return!1;for(E=k.length-1;E>=0;E--)if(O=k[E],!v(m[O],p[O],C))return!1;return typeof m==typeof p}},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(1),h=function(){function d(v,w,S){S===void 0&&(S={}),this.attrName=v,this.keyName=w;var g=b.Scope.TYPE&b.Scope.ATTRIBUTE;S.scope!=null?this.scope=S.scope&b.Scope.LEVEL|g:this.scope=b.Scope.ATTRIBUTE,S.whitelist!=null&&(this.whitelist=S.whitelist)}return d.keys=function(v){return[].map.call(v.attributes,function(w){return w.name})},d.prototype.add=function(v,w){return this.canAdd(v,w)?(v.setAttribute(this.keyName,w),!0):!1},d.prototype.canAdd=function(v,w){var S=b.query(v,b.Scope.BLOT&(this.scope|b.Scope.TYPE));return S==null?!1:this.whitelist==null?!0:typeof w=="string"?this.whitelist.indexOf(w.replace(/["']/g,""))>-1:this.whitelist.indexOf(w)>-1},d.prototype.remove=function(v){v.removeAttribute(this.keyName)},d.prototype.value=function(v){var w=v.getAttribute(this.keyName);return this.canAdd(v,w)&&w?w:""},d}();a.default=h},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var b=function(){function z(U,F){var I=[],P=!0,B=!1,j=void 0;try{for(var V=U[Symbol.iterator](),oe;!(P=(oe=V.next()).done)&&(I.push(oe.value),!(F&&I.length===F));P=!0);}catch(ie){B=!0,j=ie}finally{try{!P&&V.return&&V.return()}finally{if(B)throw j}}return I}return function(U,F){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return z(U,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function z(U,F){for(var I=0;I<F.length;I++){var P=F[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(U,P.key,P)}}return function(U,F,I){return F&&z(U.prototype,F),I&&z(U,I),U}}(),d=function z(U,F,I){U===null&&(U=Function.prototype);var P=Object.getOwnPropertyDescriptor(U,F);if(P===void 0){var B=Object.getPrototypeOf(U);return B===null?void 0:z(B,F,I)}else{if("value"in P)return P.value;var j=P.get;return j===void 0?void 0:j.call(I)}},v=c(2),w=x(v),S=c(0),g=x(S),m=c(4),p=x(m),C=c(6),E=x(C),O=c(7),k=x(O);function x(z){return z&&z.__esModule?z:{default:z}}function N(z,U){if(!(z instanceof U))throw new TypeError("Cannot call a class as a function")}function y(z,U){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:z}function A(z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);z.prototype=Object.create(U&&U.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(z,U):z.__proto__=U)}var q=function(z){A(U,z);function U(){return N(this,U),y(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return U}(E.default);q.blotName="code",q.tagName="CODE";var R=function(z){A(U,z);function U(){return N(this,U),y(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return h(U,[{key:"delta",value:function(){var I=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(B,j){return B.insert(j).insert(`
`,I.formats())},new w.default)}},{key:"format",value:function(I,P){if(!(I===this.statics.blotName&&P)){var B=this.descendant(k.default,this.length()-1),j=b(B,1),V=j[0];V!=null&&V.deleteAt(V.length()-1,1),d(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"format",this).call(this,I,P)}}},{key:"formatAt",value:function(I,P,B,j){if(P!==0&&!(g.default.query(B,g.default.Scope.BLOCK)==null||B===this.statics.blotName&&j===this.statics.formats(this.domNode))){var V=this.newlineIndex(I);if(!(V<0||V>=I+P)){var oe=this.newlineIndex(I,!0)+1,ie=V-oe+1,pe=this.isolate(oe,ie),te=pe.next;pe.format(B,j),te instanceof U&&te.formatAt(0,I-oe+P-ie,B,j)}}}},{key:"insertAt",value:function(I,P,B){if(B==null){var j=this.descendant(k.default,I),V=b(j,2),oe=V[0],ie=V[1];oe.insertAt(ie,P)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var B=this.domNode.textContent.slice(I).indexOf(`
`);return B>-1?I+B:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),d(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"optimize",this).call(this,I);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(I),P.moveChildren(this),P.remove())}},{key:"replace",value:function(I){d(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var B=g.default.find(P);B==null?P.parentNode.removeChild(P):B instanceof g.default.Embed?B.remove():B.unwrap()})}}],[{key:"create",value:function(I){var P=d(U.__proto__||Object.getPrototypeOf(U),"create",this).call(this,I);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),U}(p.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",a.Code=q,a.default=R},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},h=function(){function te(Z,H){var K=[],X=!0,ae=!1,ne=void 0;try{for(var W=Z[Symbol.iterator](),J;!(X=(J=W.next()).done)&&(K.push(J.value),!(H&&K.length===H));X=!0);}catch(le){ae=!0,ne=le}finally{try{!X&&W.return&&W.return()}finally{if(ae)throw ne}}return K}return function(Z,H){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return te(Z,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function te(Z,H){for(var K=0;K<H.length;K++){var X=H[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}}return function(Z,H,K){return H&&te(Z.prototype,H),K&&te(Z,K),Z}}(),v=c(2),w=P(v),S=c(20),g=P(S),m=c(0),p=P(m),C=c(13),E=P(C),O=c(24),k=P(O),x=c(4),N=P(x),y=c(16),A=P(y),q=c(21),R=P(q),z=c(11),U=P(z),F=c(3),I=P(F);function P(te){return te&&te.__esModule?te:{default:te}}function B(te,Z,H){return Z in te?Object.defineProperty(te,Z,{value:H,enumerable:!0,configurable:!0,writable:!0}):te[Z]=H,te}function j(te,Z){if(!(te instanceof Z))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,oe=function(){function te(Z){j(this,te),this.scroll=Z,this.delta=this.getDelta()}return d(te,[{key:"applyDelta",value:function(H){var K=this,X=!1;this.scroll.update();var ae=this.scroll.length();return this.scroll.batchStart(),H=pe(H),H.reduce(function(ne,W){var J=W.retain||W.delete||W.insert.length||1,le=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var se=W.insert;se.endsWith(`
`)&&X&&(X=!1,se=se.slice(0,-1)),ne>=ae&&!se.endsWith(`
`)&&(X=!0),K.scroll.insertAt(ne,se);var ge=K.scroll.line(ne),we=h(ge,2),Be=we[0],Ve=we[1],Ue=(0,I.default)({},(0,x.bubbleFormats)(Be));if(Be instanceof N.default){var Ae=Be.descendant(p.default.Leaf,Ve),nt=h(Ae,1),et=nt[0];Ue=(0,I.default)(Ue,(0,x.bubbleFormats)(et))}le=g.default.attributes.diff(Ue,le)||{}}else if(b(W.insert)==="object"){var fe=Object.keys(W.insert)[0];if(fe==null)return ne;K.scroll.insertAt(ne,fe,W.insert[fe])}ae+=J}return Object.keys(le).forEach(function(me){K.scroll.formatAt(ne,J,me,le[me])}),ne+J},0),H.reduce(function(ne,W){return typeof W.delete=="number"?(K.scroll.deleteAt(ne,W.delete),ne):ne+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(H)}},{key:"deleteText",value:function(H,K){return this.scroll.deleteAt(H,K),this.update(new w.default().retain(H).delete(K))}},{key:"formatLine",value:function(H,K){var X=this,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ae).forEach(function(ne){if(!(X.scroll.whitelist!=null&&!X.scroll.whitelist[ne])){var W=X.scroll.lines(H,Math.max(K,1)),J=K;W.forEach(function(le){var se=le.length();if(!(le instanceof E.default))le.format(ne,ae[ne]);else{var ge=H-le.offset(X.scroll),we=le.newlineIndex(ge+J)-ge+1;le.formatAt(ge,we,ne,ae[ne])}J-=se})}}),this.scroll.optimize(),this.update(new w.default().retain(H).retain(K,(0,R.default)(ae)))}},{key:"formatText",value:function(H,K){var X=this,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ae).forEach(function(ne){X.scroll.formatAt(H,K,ne,ae[ne])}),this.update(new w.default().retain(H).retain(K,(0,R.default)(ae)))}},{key:"getContents",value:function(H,K){return this.delta.slice(H,H+K)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(H,K){return H.concat(K.delta())},new w.default)}},{key:"getFormat",value:function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=[],ae=[];K===0?this.scroll.path(H).forEach(function(W){var J=h(W,1),le=J[0];le instanceof N.default?X.push(le):le instanceof p.default.Leaf&&ae.push(le)}):(X=this.scroll.lines(H,K),ae=this.scroll.descendants(p.default.Leaf,H,K));var ne=[X,ae].map(function(W){if(W.length===0)return{};for(var J=(0,x.bubbleFormats)(W.shift());Object.keys(J).length>0;){var le=W.shift();if(le==null)return J;J=ie((0,x.bubbleFormats)(le),J)}return J});return I.default.apply(I.default,ne)}},{key:"getText",value:function(H,K){return this.getContents(H,K).filter(function(X){return typeof X.insert=="string"}).map(function(X){return X.insert}).join("")}},{key:"insertEmbed",value:function(H,K,X){return this.scroll.insertAt(H,K,X),this.update(new w.default().retain(H).insert(B({},K,X)))}},{key:"insertText",value:function(H,K){var X=this,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return K=K.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(H,K),Object.keys(ae).forEach(function(ne){X.scroll.formatAt(H,K.length,ne,ae[ne])}),this.update(new w.default().retain(H).insert(K,(0,R.default)(ae)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var H=this.scroll.children.head;return H.statics.blotName!==N.default.blotName||H.children.length>1?!1:H.children.head instanceof A.default}},{key:"removeFormat",value:function(H,K){var X=this.getText(H,K),ae=this.scroll.line(H+K),ne=h(ae,2),W=ne[0],J=ne[1],le=0,se=new w.default;W!=null&&(W instanceof E.default?le=W.newlineIndex(J)-J+1:le=W.length()-J,se=W.delta().slice(J,J+le-1).insert(`
`));var ge=this.getContents(H,K+le),we=ge.diff(new w.default().insert(X).concat(se)),Be=new w.default().retain(H).concat(we);return this.applyDelta(Be)}},{key:"update",value:function(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ae=this.delta;if(K.length===1&&K[0].type==="characterData"&&K[0].target.data.match(V)&&p.default.find(K[0].target)){var ne=p.default.find(K[0].target),W=(0,x.bubbleFormats)(ne),J=ne.offset(this.scroll),le=K[0].oldValue.replace(k.default.CONTENTS,""),se=new w.default().insert(le),ge=new w.default().insert(ne.value()),we=new w.default().retain(J).concat(se.diff(ge,X));H=we.reduce(function(Be,Ve){return Ve.insert?Be.insert(Ve.insert,W):Be.push(Ve)},new w.default),this.delta=ae.compose(H)}else this.delta=this.getDelta(),(!H||!(0,U.default)(ae.compose(H),this.delta))&&(H=ae.diff(this.delta,X));return H}}]),te}();function ie(te,Z){return Object.keys(Z).reduce(function(H,K){return te[K]==null||(Z[K]===te[K]?H[K]=Z[K]:Array.isArray(Z[K])?Z[K].indexOf(te[K])<0&&(H[K]=Z[K].concat([te[K]])):H[K]=[Z[K],te[K]]),H},{})}function pe(te){return te.reduce(function(Z,H){if(H.insert===1){var K=(0,R.default)(H.attributes);return delete K.image,Z.insert({image:H.attributes.image},K)}if(H.attributes!=null&&(H.attributes.list===!0||H.attributes.bullet===!0)&&(H=(0,R.default)(H),H.attributes.list?H.attributes.list="ordered":(H.attributes.list="bullet",delete H.attributes.bullet)),typeof H.insert=="string"){var X=H.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Z.insert(X,H.attributes)}return Z.push(H)},new w.default)}a.default=oe},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var b=function(){function z(U,F){var I=[],P=!0,B=!1,j=void 0;try{for(var V=U[Symbol.iterator](),oe;!(P=(oe=V.next()).done)&&(I.push(oe.value),!(F&&I.length===F));P=!0);}catch(ie){B=!0,j=ie}finally{try{!P&&V.return&&V.return()}finally{if(B)throw j}}return I}return function(U,F){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return z(U,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function z(U,F){for(var I=0;I<F.length;I++){var P=F[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(U,P.key,P)}}return function(U,F,I){return F&&z(U.prototype,F),I&&z(U,I),U}}(),d=c(0),v=k(d),w=c(21),S=k(w),g=c(11),m=k(g),p=c(8),C=k(p),E=c(10),O=k(E);function k(z){return z&&z.__esModule?z:{default:z}}function x(z){if(Array.isArray(z)){for(var U=0,F=Array(z.length);U<z.length;U++)F[U]=z[U];return F}else return Array.from(z)}function N(z,U){if(!(z instanceof U))throw new TypeError("Cannot call a class as a function")}var y=(0,O.default)("quill:selection"),A=function z(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;N(this,z),this.index=U,this.length=F},q=function(){function z(U,F){var I=this;N(this,z),this.emitter=F,this.scroll=U,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=v.default.create("cursor",this),this.lastRange=this.savedRange=new A(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,C.default.sources.USER),1)}),this.emitter.on(C.default.events.EDITOR_CHANGE,function(P,B){P===C.default.events.TEXT_CHANGE&&B.length()>0&&I.update(C.default.sources.SILENT)}),this.emitter.on(C.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!I.hasFocus()){var P=I.getNativeRange();P!=null&&P.start.node!==I.cursor.textNode&&I.emitter.once(C.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch(B){}})}}),this.emitter.on(C.default.events.SCROLL_OPTIMIZE,function(P,B){if(B.range){var j=B.range,V=j.startNode,oe=j.startOffset,ie=j.endNode,pe=j.endOffset;I.setNativeRange(V,oe,ie,pe)}}),this.update(C.default.sources.SILENT)}return h(z,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var I=F.cursor.restore();if(!I)return;setTimeout(function(){F.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(C.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||v.default.query(F,v.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var B=v.default.find(P.start.node,!1);if(B==null)return;if(B instanceof v.default.Leaf){var j=B.split(P.start.offset);B.parent.insertBefore(this.cursor,j)}else B.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(F,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();F=Math.min(F,P-1),I=Math.min(F+I,P-1)-F;var B=void 0,j=this.scroll.leaf(F),V=b(j,2),oe=V[0],ie=V[1];if(oe==null)return null;var pe=oe.position(ie,!0),te=b(pe,2);B=te[0],ie=te[1];var Z=document.createRange();if(I>0){Z.setStart(B,ie);var H=this.scroll.leaf(F+I),K=b(H,2);if(oe=K[0],ie=K[1],oe==null)return null;var X=oe.position(ie,!0),ae=b(X,2);return B=ae[0],ie=ae[1],Z.setEnd(B,ie),Z.getBoundingClientRect()}else{var ne="left",W=void 0;return B instanceof Text?(ie<B.data.length?(Z.setStart(B,ie),Z.setEnd(B,ie+1)):(Z.setStart(B,ie-1),Z.setEnd(B,ie),ne="right"),W=Z.getBoundingClientRect()):(W=oe.domNode.getBoundingClientRect(),ie>0&&(ne="right")),{bottom:W.top+W.height,height:W.height,left:W[ne],right:W[ne],top:W.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var I=F.getRangeAt(0);if(I==null)return null;var P=this.normalizeNative(I);return y.info("getNativeRange",P),P}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var I=this.normalizedToRange(F);return[I,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var I=this,P=[[F.start.node,F.start.offset]];F.native.collapsed||P.push([F.end.node,F.end.offset]);var B=P.map(function(oe){var ie=b(oe,2),pe=ie[0],te=ie[1],Z=v.default.find(pe,!0),H=Z.offset(I.scroll);return te===0?H:Z instanceof v.default.Container?H+Z.length():H+Z.index(pe,te)}),j=Math.min(Math.max.apply(Math,x(B)),this.scroll.length()-1),V=Math.min.apply(Math,[j].concat(x(B)));return new A(V,j-V)}},{key:"normalizeNative",value:function(F){if(!R(this.root,F.startContainer)||!F.collapsed&&!R(this.root,F.endContainer))return null;var I={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[I.start,I.end].forEach(function(P){for(var B=P.node,j=P.offset;!(B instanceof Text)&&B.childNodes.length>0;)if(B.childNodes.length>j)B=B.childNodes[j],j=0;else if(B.childNodes.length===j)B=B.lastChild,j=B instanceof Text?B.data.length:B.childNodes.length+1;else break;P.node=B,P.offset=j}),I}},{key:"rangeToNative",value:function(F){var I=this,P=F.collapsed?[F.index]:[F.index,F.index+F.length],B=[],j=this.scroll.length();return P.forEach(function(V,oe){V=Math.min(j-1,V);var ie=void 0,pe=I.scroll.leaf(V),te=b(pe,2),Z=te[0],H=te[1],K=Z.position(H,oe!==0),X=b(K,2);ie=X[0],H=X[1],B.push(ie,H)}),B.length<2&&(B=B.concat(B)),B}},{key:"scrollIntoView",value:function(F){var I=this.lastRange;if(I!=null){var P=this.getBounds(I.index,I.length);if(P!=null){var B=this.scroll.length()-1,j=this.scroll.line(Math.min(I.index,B)),V=b(j,1),oe=V[0],ie=oe;if(I.length>0){var pe=this.scroll.line(Math.min(I.index+I.length,B)),te=b(pe,1);ie=te[0]}if(!(oe==null||ie==null)){var Z=F.getBoundingClientRect();P.top<Z.top?F.scrollTop-=Z.top-P.top:P.bottom>Z.bottom&&(F.scrollTop+=P.bottom-Z.bottom)}}}}},{key:"setNativeRange",value:function(F,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",F,I,P,B),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||P.parentNode==null))){var V=document.getSelection();if(V!=null)if(F!=null){this.hasFocus()||this.root.focus();var oe=(this.getNativeRange()||{}).native;if(oe==null||j||F!==oe.startContainer||I!==oe.startOffset||P!==oe.endContainer||B!==oe.endOffset){F.tagName=="BR"&&(I=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),P.tagName=="BR"&&(B=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var ie=document.createRange();ie.setStart(F,I),ie.setEnd(P,B),V.removeAllRanges(),V.addRange(ie)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.default.sources.API;if(typeof I=="string"&&(P=I,I=!1),y.info("setRange",F),F!=null){var B=this.rangeToNative(F);this.setNativeRange.apply(this,x(B).concat([I]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C.default.sources.USER,I=this.lastRange,P=this.getRange(),B=b(P,2),j=B[0],V=B[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(I,this.lastRange)){var oe;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var ie=[C.default.events.SELECTION_CHANGE,(0,S.default)(this.lastRange),(0,S.default)(I),F];if((oe=this.emitter).emit.apply(oe,[C.default.events.EDITOR_CHANGE].concat(ie)),F!==C.default.sources.SILENT){var pe;(pe=this.emitter).emit.apply(pe,ie)}}}}]),z}();function R(z,U){try{U.parentNode}catch(F){return!1}return U instanceof Text&&(U=U.parentNode),z.contains(U)}a.Range=A,a.default=q},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function C(E,O){for(var k=0;k<O.length;k++){var x=O[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,k){return O&&C(E.prototype,O),k&&C(E,k),E}}(),h=function C(E,O,k){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:C(N,O,k)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(k)}},d=c(0),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(){return S(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return b(E,[{key:"insertInto",value:function(k,x){k.children.length===0?h(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertInto",this).call(this,k,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(v.default.Embed);p.blotName="break",p.tagName="BR",a.default=p},function(o,a,c){var b=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var C in p)p.hasOwnProperty(C)&&(m[C]=p[C])};return function(m,p){g(m,p);function C(){this.constructor=m}m.prototype=p===null?Object.create(p):(C.prototype=p.prototype,new C)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(44),d=c(30),v=c(1),w=function(g){b(m,g);function m(p){var C=g.call(this,p)||this;return C.build(),C}return m.prototype.appendChild=function(p){this.insertBefore(p)},m.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},m.prototype.build=function(){var p=this;this.children=new h.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(C){try{var E=S(C);p.insertBefore(E,p.children.head||void 0)}catch(O){if(O instanceof v.ParchmentError)return;throw O}})},m.prototype.deleteAt=function(p,C){if(p===0&&C===this.length())return this.remove();this.children.forEachAt(p,C,function(E,O,k){E.deleteAt(O,k)})},m.prototype.descendant=function(p,C){var E=this.children.find(C),O=E[0],k=E[1];return p.blotName==null&&p(O)||p.blotName!=null&&O instanceof p?[O,k]:O instanceof m?O.descendant(p,k):[null,-1]},m.prototype.descendants=function(p,C,E){C===void 0&&(C=0),E===void 0&&(E=Number.MAX_VALUE);var O=[],k=E;return this.children.forEachAt(C,E,function(x,N,y){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&O.push(x),x instanceof m&&(O=O.concat(x.descendants(p,N,k))),k-=y}),O},m.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),g.prototype.detach.call(this)},m.prototype.formatAt=function(p,C,E,O){this.children.forEachAt(p,C,function(k,x,N){k.formatAt(x,N,E,O)})},m.prototype.insertAt=function(p,C,E){var O=this.children.find(p),k=O[0],x=O[1];if(k)k.insertAt(x,C,E);else{var N=E==null?v.create("text",C):v.create(C,E);this.appendChild(N)}},m.prototype.insertBefore=function(p,C){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(E){return p instanceof E}))throw new v.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,C)},m.prototype.length=function(){return this.children.reduce(function(p,C){return p+C.length()},0)},m.prototype.moveChildren=function(p,C){this.children.forEach(function(E){p.insertBefore(E,C)})},m.prototype.optimize=function(p){if(g.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var C=v.create(this.statics.defaultChild);this.appendChild(C),C.optimize(p)}else this.remove()},m.prototype.path=function(p,C){C===void 0&&(C=!1);var E=this.children.find(p,C),O=E[0],k=E[1],x=[[this,p]];return O instanceof m?x.concat(O.path(k,C)):(O!=null&&x.push([O,k]),x)},m.prototype.removeChild=function(p){this.children.remove(p)},m.prototype.replace=function(p){p instanceof m&&p.moveChildren(this),g.prototype.replace.call(this,p)},m.prototype.split=function(p,C){if(C===void 0&&(C=!1),!C){if(p===0)return this;if(p===this.length())return this.next}var E=this.clone();return this.parent.insertBefore(E,this.next),this.children.forEachAt(p,this.length(),function(O,k,x){O=O.split(k,C),E.appendChild(O)}),E},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(p,C){var E=this,O=[],k=[];p.forEach(function(x){x.target===E.domNode&&x.type==="childList"&&(O.push.apply(O,x.addedNodes),k.push.apply(k,x.removedNodes))}),k.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var N=v.find(x);N!=null&&(N.domNode.parentNode==null||N.domNode.parentNode===E.domNode)&&N.detach()}}),O.filter(function(x){return x.parentNode==E.domNode}).sort(function(x,N){return x===N?0:x.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var N=null;x.nextSibling!=null&&(N=v.find(x.nextSibling));var y=S(x);(y.next!=N||y.next==null)&&(y.parent!=null&&y.parent.removeChild(E),E.insertBefore(y,N||void 0))})},m}(d.default);function S(g){var m=v.find(g);if(m==null)try{m=v.create(g)}catch(p){m=v.create(v.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(C){m.domNode.appendChild(C)}),g.parentNode&&g.parentNode.replaceChild(m.domNode,g),m.attach()}return m}a.default=w},function(o,a,c){var b=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var C in p)p.hasOwnProperty(C)&&(m[C]=p[C])};return function(m,p){g(m,p);function C(){this.constructor=m}m.prototype=p===null?Object.create(p):(C.prototype=p.prototype,new C)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(12),d=c(31),v=c(17),w=c(1),S=function(g){b(m,g);function m(p){var C=g.call(this,p)||this;return C.attributes=new d.default(C.domNode),C}return m.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},m.prototype.format=function(p,C){var E=w.query(p);E instanceof h.default?this.attributes.attribute(E,C):C&&E!=null&&(p!==this.statics.blotName||this.formats()[p]!==C)&&this.replaceWith(p,C)},m.prototype.formats=function(){var p=this.attributes.values(),C=this.statics.formats(this.domNode);return C!=null&&(p[this.statics.blotName]=C),p},m.prototype.replaceWith=function(p,C){var E=g.prototype.replaceWith.call(this,p,C);return this.attributes.copy(E),E},m.prototype.update=function(p,C){var E=this;g.prototype.update.call(this,p,C),p.some(function(O){return O.target===E.domNode&&O.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(p,C){var E=g.prototype.wrap.call(this,p,C);return E instanceof m&&E.statics.scope===this.statics.scope&&this.attributes.move(E),E},m}(v.default);a.default=S},function(o,a,c){var b=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,g){S.__proto__=g}||function(S,g){for(var m in g)g.hasOwnProperty(m)&&(S[m]=g[m])};return function(S,g){w(S,g);function m(){this.constructor=S}S.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(30),d=c(1),v=function(w){b(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return S.value=function(g){return!0},S.prototype.index=function(g,m){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},S.prototype.position=function(g,m){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(p+=1),[this.parent.domNode,p]},S.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},S.scope=d.Scope.INLINE_BLOT,S}(h.default);a.default=v},function(o,a,c){var b=c(11),h=c(3),d={attributes:{compose:function(w,S,g){typeof w!="object"&&(w={}),typeof S!="object"&&(S={});var m=h(!0,{},S);g||(m=Object.keys(m).reduce(function(C,E){return m[E]!=null&&(C[E]=m[E]),C},{}));for(var p in w)w[p]!==void 0&&S[p]===void 0&&(m[p]=w[p]);return Object.keys(m).length>0?m:void 0},diff:function(w,S){typeof w!="object"&&(w={}),typeof S!="object"&&(S={});var g=Object.keys(w).concat(Object.keys(S)).reduce(function(m,p){return b(w[p],S[p])||(m[p]=S[p]===void 0?null:S[p]),m},{});return Object.keys(g).length>0?g:void 0},transform:function(w,S,g){if(typeof w!="object")return S;if(typeof S=="object"){if(!g)return S;var m=Object.keys(S).reduce(function(p,C){return w[C]===void 0&&(p[C]=S[C]),p},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(w){return new v(w)},length:function(w){return typeof w.delete=="number"?w.delete:typeof w.retain=="number"?w.retain:typeof w.insert=="string"?w.insert.length:1}};function v(w){this.ops=w,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(w){w||(w=1/0);var S=this.ops[this.index];if(S){var g=this.offset,m=d.length(S);if(w>=m-g?(w=m-g,this.index+=1,this.offset=0):this.offset+=w,typeof S.delete=="number")return{delete:w};var p={};return S.attributes&&(p.attributes=S.attributes),typeof S.retain=="number"?p.retain=w:typeof S.insert=="string"?p.insert=S.insert.substr(g,w):p.insert=S.insert,p}else return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?d.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,S=this.index,g=this.next(),m=this.ops.slice(this.index);return this.offset=w,this.index=S,[g].concat(m)}else return[]},o.exports=d},function(o,a){var c=function(){function b(E,O){return O!=null&&E instanceof O}var h;try{h=Map}catch(E){h=function(){}}var d;try{d=Set}catch(E){d=function(){}}var v;try{v=Promise}catch(E){v=function(){}}function w(E,O,k,x,N){typeof O=="object"&&(k=O.depth,x=O.prototype,N=O.includeNonEnumerable,O=O.circular);var y=[],A=[],q=typeof Buffer!="undefined";typeof O=="undefined"&&(O=!0),typeof k=="undefined"&&(k=1/0);function R(z,U){if(z===null)return null;if(U===0)return z;var F,I;if(typeof z!="object")return z;if(b(z,h))F=new h;else if(b(z,d))F=new d;else if(b(z,v))F=new v(function(Z,H){z.then(function(K){Z(R(K,U-1))},function(K){H(R(K,U-1))})});else if(w.__isArray(z))F=[];else if(w.__isRegExp(z))F=new RegExp(z.source,C(z)),z.lastIndex&&(F.lastIndex=z.lastIndex);else if(w.__isDate(z))F=new Date(z.getTime());else{if(q&&Buffer.isBuffer(z))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(z.length):F=new Buffer(z.length),z.copy(F),F;b(z,Error)?F=Object.create(z):typeof x=="undefined"?(I=Object.getPrototypeOf(z),F=Object.create(I)):(F=Object.create(x),I=x)}if(O){var P=y.indexOf(z);if(P!=-1)return A[P];y.push(z),A.push(F)}b(z,h)&&z.forEach(function(Z,H){var K=R(H,U-1),X=R(Z,U-1);F.set(K,X)}),b(z,d)&&z.forEach(function(Z){var H=R(Z,U-1);F.add(H)});for(var B in z){var j;I&&(j=Object.getOwnPropertyDescriptor(I,B)),!(j&&j.set==null)&&(F[B]=R(z[B],U-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(z),B=0;B<V.length;B++){var oe=V[B],ie=Object.getOwnPropertyDescriptor(z,oe);ie&&!ie.enumerable&&!N||(F[oe]=R(z[oe],U-1),ie.enumerable||Object.defineProperty(F,oe,{enumerable:!1}))}if(N)for(var pe=Object.getOwnPropertyNames(z),B=0;B<pe.length;B++){var te=pe[B],ie=Object.getOwnPropertyDescriptor(z,te);ie&&ie.enumerable||(F[te]=R(z[te],U-1),Object.defineProperty(F,te,{enumerable:!1}))}return F}return R(E,k)}w.clonePrototype=function(O){if(O===null)return null;var k=function(){};return k.prototype=O,new k};function S(E){return Object.prototype.toString.call(E)}w.__objToStr=S;function g(E){return typeof E=="object"&&S(E)==="[object Date]"}w.__isDate=g;function m(E){return typeof E=="object"&&S(E)==="[object Array]"}w.__isArray=m;function p(E){return typeof E=="object"&&S(E)==="[object RegExp]"}w.__isRegExp=p;function C(E){var O="";return E.global&&(O+="g"),E.ignoreCase&&(O+="i"),E.multiline&&(O+="m"),O}return w.__getRegExpFlags=C,w}();typeof o=="object"&&o.exports&&(o.exports=c)},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function F(I,P){var B=[],j=!0,V=!1,oe=void 0;try{for(var ie=I[Symbol.iterator](),pe;!(j=(pe=ie.next()).done)&&(B.push(pe.value),!(P&&B.length===P));j=!0);}catch(te){V=!0,oe=te}finally{try{!j&&ie.return&&ie.return()}finally{if(V)throw oe}}return B}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return F(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function F(I,P){for(var B=0;B<P.length;B++){var j=P[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,P,B){return P&&F(I.prototype,P),B&&F(I,B),I}}(),d=function F(I,P,B){I===null&&(I=Function.prototype);var j=Object.getOwnPropertyDescriptor(I,P);if(j===void 0){var V=Object.getPrototypeOf(I);return V===null?void 0:F(V,P,B)}else{if("value"in j)return j.value;var oe=j.get;return oe===void 0?void 0:oe.call(B)}},v=c(0),w=y(v),S=c(8),g=y(S),m=c(4),p=y(m),C=c(16),E=y(C),O=c(13),k=y(O),x=c(25),N=y(x);function y(F){return F&&F.__esModule?F:{default:F}}function A(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function q(F,I){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:F}function R(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);F.prototype=Object.create(I&&I.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(F,I):F.__proto__=I)}function z(F){return F instanceof p.default||F instanceof m.BlockEmbed}var U=function(F){R(I,F);function I(P,B){A(this,I);var j=q(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return j.emitter=B.emitter,Array.isArray(B.whitelist)&&(j.whitelist=B.whitelist.reduce(function(V,oe){return V[oe]=!0,V},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return h(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(B,j){var V=this.line(B),oe=b(V,2),ie=oe[0],pe=oe[1],te=this.line(B+j),Z=b(te,1),H=Z[0];if(d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,B,j),H!=null&&ie!==H&&pe>0){if(ie instanceof m.BlockEmbed||H instanceof m.BlockEmbed){this.optimize();return}if(ie instanceof k.default){var K=ie.newlineIndex(ie.length(),!0);if(K>-1&&(ie=ie.split(K+1),ie===H)){this.optimize();return}}else if(H instanceof k.default){var X=H.newlineIndex(0);X>-1&&H.split(X+1)}var ae=H.children.head instanceof E.default?null:H.children.head;ie.moveChildren(H,ae),ie.remove()}this.optimize()}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",B)}},{key:"formatAt",value:function(B,j,V,oe){this.whitelist!=null&&!this.whitelist[V]||(d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,B,j,V,oe),this.optimize())}},{key:"insertAt",value:function(B,j,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[j])){if(B>=this.length())if(V==null||w.default.query(j,w.default.Scope.BLOCK)==null){var oe=w.default.create(this.statics.defaultChild);this.appendChild(oe),V==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),oe.insertAt(0,j,V)}else{var ie=w.default.create(j,V);this.appendChild(ie)}else d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,B,j,V);this.optimize()}}},{key:"insertBefore",value:function(B,j){if(B.statics.scope===w.default.Scope.INLINE_BLOT){var V=w.default.create(this.statics.defaultChild);V.appendChild(B),B=V}d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,B,j)}},{key:"leaf",value:function(B){return this.path(B).pop()||[null,-1]}},{key:"line",value:function(B){return B===this.length()?this.line(B-1):this.descendant(z,B)}},{key:"lines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function oe(ie,pe,te){var Z=[],H=te;return ie.children.forEachAt(pe,te,function(K,X,ae){z(K)?Z.push(K):K instanceof w.default.Container&&(Z=Z.concat(oe(K,X,H))),H-=ae}),Z};return V(this,B,j)}},{key:"optimize",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,B,j),B.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,B,j))}},{key:"path",value:function(B){return d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,B).slice(1)}},{key:"update",value:function(B){if(this.batch!==!0){var j=g.default.sources.USER;typeof B=="string"&&(j=B),Array.isArray(B)||(B=this.observer.takeRecords()),B.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,j,B),d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,B.concat([])),B.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,j,B)}}}]),I}(w.default.Scroll);U.blotName="scroll",U.className="ql-editor",U.tagName="DIV",U.defaultChild="block",U.allowedChildren=[p.default,m.BlockEmbed,N.default],a.default=U},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},h=function(){function W(J,le){var se=[],ge=!0,we=!1,Be=void 0;try{for(var Ve=J[Symbol.iterator](),Ue;!(ge=(Ue=Ve.next()).done)&&(se.push(Ue.value),!(le&&se.length===le));ge=!0);}catch(Ae){we=!0,Be=Ae}finally{try{!ge&&Ve.return&&Ve.return()}finally{if(we)throw Be}}return se}return function(J,le){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return W(J,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function W(J,le){for(var se=0;se<le.length;se++){var ge=le[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(J,ge.key,ge)}}return function(J,le,se){return le&&W(J.prototype,le),se&&W(J,se),J}}(),v=c(21),w=F(v),S=c(11),g=F(S),m=c(3),p=F(m),C=c(2),E=F(C),O=c(20),k=F(O),x=c(0),N=F(x),y=c(5),A=F(y),q=c(10),R=F(q),z=c(9),U=F(z);function F(W){return W&&W.__esModule?W:{default:W}}function I(W,J,le){return J in W?Object.defineProperty(W,J,{value:le,enumerable:!0,configurable:!0,writable:!0}):W[J]=le,W}function P(W,J){if(!(W instanceof J))throw new TypeError("Cannot call a class as a function")}function B(W,J){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:W}function j(W,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}var V=(0,R.default)("quill:keyboard"),oe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ie=function(W){j(J,W),d(J,null,[{key:"match",value:function(se,ge){return ge=ne(ge),["altKey","ctrlKey","metaKey","shiftKey"].some(function(we){return!!ge[we]!==se[we]&&ge[we]!==null})?!1:ge.key===(se.which||se.keyCode)}}]);function J(le,se){P(this,J);var ge=B(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,le,se));return ge.bindings={},Object.keys(ge.options.bindings).forEach(function(we){we==="list autofill"&&le.scroll.whitelist!=null&&!le.scroll.whitelist.list||ge.options.bindings[we]&&ge.addBinding(ge.options.bindings[we])}),ge.addBinding({key:J.keys.ENTER,shiftKey:null},K),ge.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ge.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},te),ge.addBinding({key:J.keys.DELETE},{collapsed:!0},Z)):(ge.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},te),ge.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Z)),ge.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},H),ge.addBinding({key:J.keys.DELETE},{collapsed:!1},H),ge.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},te),ge.listen(),ge}return d(J,[{key:"addBinding",value:function(se){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Be=ne(se);if(Be==null||Be.key==null)return V.warn("Attempted to add invalid keyboard binding",Be);typeof ge=="function"&&(ge={handler:ge}),typeof we=="function"&&(we={handler:we}),Be=(0,p.default)(Be,ge,we),this.bindings[Be.key]=this.bindings[Be.key]||[],this.bindings[Be.key].push(Be)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(ge){if(!ge.defaultPrevented){var we=ge.which||ge.keyCode,Be=(se.bindings[we]||[]).filter(function(qe){return J.match(ge,qe)});if(Be.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var Ue=se.quill.getLine(Ve.index),Ae=h(Ue,2),nt=Ae[0],et=Ae[1],fe=se.quill.getLeaf(Ve.index),me=h(fe,2),Ee=me[0],Te=me[1],ye=Ve.length===0?[Ee,Te]:se.quill.getLeaf(Ve.index+Ve.length),ze=h(ye,2),$e=ze[0],He=ze[1],At=Ee instanceof N.default.Text?Ee.value().slice(0,Te):"",yt=$e instanceof N.default.Text?$e.value().slice(He):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&nt.length()<=1,format:se.quill.getFormat(Ve),offset:et,prefix:At,suffix:yt},qt=Be.some(function(qe){if(qe.collapsed!=null&&qe.collapsed!==rt.collapsed||qe.empty!=null&&qe.empty!==rt.empty||qe.offset!=null&&qe.offset!==rt.offset)return!1;if(Array.isArray(qe.format)){if(qe.format.every(function(Vt){return rt.format[Vt]==null}))return!1}else if(b(qe.format)==="object"&&!Object.keys(qe.format).every(function(Vt){return qe.format[Vt]===!0?rt.format[Vt]!=null:qe.format[Vt]===!1?rt.format[Vt]==null:(0,g.default)(qe.format[Vt],rt.format[Vt])}))return!1;return qe.prefix!=null&&!qe.prefix.test(rt.prefix)||qe.suffix!=null&&!qe.suffix.test(rt.suffix)?!1:qe.handler.call(se,Ve,rt)!==!0});qt&&ge.preventDefault()}}}})}}]),J}(U.default);ie.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ie.DEFAULTS={bindings:{bold:ae("bold"),italic:ae("italic"),underline:ae("underline"),indent:{key:ie.keys.TAB,format:["blockquote","indent","list"],handler:function(J,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","+1",A.default.sources.USER)}},outdent:{key:ie.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","-1",A.default.sources.USER)}},"outdent backspace":{key:ie.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,le){le.format.indent!=null?this.quill.format("indent","-1",A.default.sources.USER):le.format.list!=null&&this.quill.format("list",!1,A.default.sources.USER)}},"indent code-block":X(!0),"outdent code-block":X(!1),"remove tab":{key:ie.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,A.default.sources.USER)}},tab:{key:ie.keys.TAB,handler:function(J){this.quill.history.cutoff();var le=new E.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(le,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,A.default.sources.SILENT)}},"list empty enter":{key:ie.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,le){this.quill.format("list",!1,A.default.sources.USER),le.format.indent&&this.quill.format("indent",!1,A.default.sources.USER)}},"checklist enter":{key:ie.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var le=this.quill.getLine(J.index),se=h(le,2),ge=se[0],we=se[1],Be=(0,p.default)({},ge.formats(),{list:"checked"}),Ve=new E.default().retain(J.index).insert(`
`,Be).retain(ge.length()-we-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,A.default.sources.USER),this.quill.setSelection(J.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ie.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,le){var se=this.quill.getLine(J.index),ge=h(se,2),we=ge[0],Be=ge[1],Ve=new E.default().retain(J.index).insert(`
`,le.format).retain(we.length()-Be-1).retain(1,{header:null});this.quill.updateContents(Ve,A.default.sources.USER),this.quill.setSelection(J.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,le){var se=le.prefix.length,ge=this.quill.getLine(J.index),we=h(ge,2),Be=we[0],Ve=we[1];if(Ve>se)return!0;var Ue=void 0;switch(le.prefix.trim()){case"[]":case"[ ]":Ue="unchecked";break;case"[x]":Ue="checked";break;case"-":case"*":Ue="bullet";break;default:Ue="ordered"}this.quill.insertText(J.index," ",A.default.sources.USER),this.quill.history.cutoff();var Ae=new E.default().retain(J.index-Ve).delete(se+1).retain(Be.length()-2-Ve).retain(1,{list:Ue});this.quill.updateContents(Ae,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-se,A.default.sources.SILENT)}},"code exit":{key:ie.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var le=this.quill.getLine(J.index),se=h(le,2),ge=se[0],we=se[1],Be=new E.default().retain(J.index+ge.length()-we-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Be,A.default.sources.USER)}},"embed left":pe(ie.keys.LEFT,!1),"embed left shift":pe(ie.keys.LEFT,!0),"embed right":pe(ie.keys.RIGHT,!1),"embed right shift":pe(ie.keys.RIGHT,!0)}};function pe(W,J){var le,se=W===ie.keys.LEFT?"prefix":"suffix";return le={key:W,shiftKey:J,altKey:null},I(le,se,/^$/),I(le,"handler",function(we){var Be=we.index;W===ie.keys.RIGHT&&(Be+=we.length+1);var Ve=this.quill.getLeaf(Be),Ue=h(Ve,1),Ae=Ue[0];return Ae instanceof N.default.Embed?(W===ie.keys.LEFT?J?this.quill.setSelection(we.index-1,we.length+1,A.default.sources.USER):this.quill.setSelection(we.index-1,A.default.sources.USER):J?this.quill.setSelection(we.index,we.length+1,A.default.sources.USER):this.quill.setSelection(we.index+we.length+1,A.default.sources.USER),!1):!0}),le}function te(W,J){if(!(W.index===0||this.quill.getLength()<=1)){var le=this.quill.getLine(W.index),se=h(le,1),ge=se[0],we={};if(J.offset===0){var Be=this.quill.getLine(W.index-1),Ve=h(Be,1),Ue=Ve[0];if(Ue!=null&&Ue.length()>1){var Ae=ge.formats(),nt=this.quill.getFormat(W.index-1,1);we=k.default.attributes.diff(Ae,nt)||{}}}var et=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(W.index-et,et,A.default.sources.USER),Object.keys(we).length>0&&this.quill.formatLine(W.index-et,et,we,A.default.sources.USER),this.quill.focus()}}function Z(W,J){var le=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(W.index>=this.quill.getLength()-le)){var se={},ge=0,we=this.quill.getLine(W.index),Be=h(we,1),Ve=Be[0];if(J.offset>=Ve.length()-1){var Ue=this.quill.getLine(W.index+1),Ae=h(Ue,1),nt=Ae[0];if(nt){var et=Ve.formats(),fe=this.quill.getFormat(W.index,1);se=k.default.attributes.diff(et,fe)||{},ge=nt.length()}}this.quill.deleteText(W.index,le,A.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(W.index+ge-1,le,se,A.default.sources.USER)}}function H(W){var J=this.quill.getLines(W),le={};if(J.length>1){var se=J[0].formats(),ge=J[J.length-1].formats();le=k.default.attributes.diff(ge,se)||{}}this.quill.deleteText(W,A.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(W.index,1,le,A.default.sources.USER),this.quill.setSelection(W.index,A.default.sources.SILENT),this.quill.focus()}function K(W,J){var le=this;W.length>0&&this.quill.scroll.deleteAt(W.index,W.length);var se=Object.keys(J.format).reduce(function(ge,we){return N.default.query(we,N.default.Scope.BLOCK)&&!Array.isArray(J.format[we])&&(ge[we]=J.format[we]),ge},{});this.quill.insertText(W.index,`
`,se,A.default.sources.USER),this.quill.setSelection(W.index+1,A.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(ge){se[ge]==null&&(Array.isArray(J.format[ge])||ge!=="link"&&le.quill.format(ge,J.format[ge],A.default.sources.USER))})}function X(W){return{key:ie.keys.TAB,shiftKey:!W,format:{"code-block":!0},handler:function(le){var se=N.default.query("code-block"),ge=le.index,we=le.length,Be=this.quill.scroll.descendant(se,ge),Ve=h(Be,2),Ue=Ve[0],Ae=Ve[1];if(Ue!=null){var nt=this.quill.getIndex(Ue),et=Ue.newlineIndex(Ae,!0)+1,fe=Ue.newlineIndex(nt+Ae+we),me=Ue.domNode.textContent.slice(et,fe).split(`
`);Ae=0,me.forEach(function(Ee,Te){W?(Ue.insertAt(et+Ae,se.TAB),Ae+=se.TAB.length,Te===0?ge+=se.TAB.length:we+=se.TAB.length):Ee.startsWith(se.TAB)&&(Ue.deleteAt(et+Ae,se.TAB.length),Ae-=se.TAB.length,Te===0?ge-=se.TAB.length:we-=se.TAB.length),Ae+=Ee.length+1}),this.quill.update(A.default.sources.USER),this.quill.setSelection(ge,we,A.default.sources.SILENT)}}}}function ae(W){return{key:W[0].toUpperCase(),shortKey:!0,handler:function(le,se){this.quill.format(W,!se.format[W],A.default.sources.USER)}}}function ne(W){if(typeof W=="string"||typeof W=="number")return ne({key:W});if((typeof W=="undefined"?"undefined":b(W))==="object"&&(W=(0,w.default)(W,!1)),typeof W.key=="string")if(ie.keys[W.key.toUpperCase()]!=null)W.key=ie.keys[W.key.toUpperCase()];else if(W.key.length===1)W.key=W.key.toUpperCase().charCodeAt(0);else return null;return W.shortKey&&(W[oe]=W.shortKey,delete W.shortKey),W}a.default=ie,a.SHORTKEY=oe},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function k(x,N){var y=[],A=!0,q=!1,R=void 0;try{for(var z=x[Symbol.iterator](),U;!(A=(U=z.next()).done)&&(y.push(U.value),!(N&&y.length===N));A=!0);}catch(F){q=!0,R=F}finally{try{!A&&z.return&&z.return()}finally{if(q)throw R}}return y}return function(x,N){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return k(x,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function k(x,N,y){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,N);if(A===void 0){var q=Object.getPrototypeOf(x);return q===null?void 0:k(q,N,y)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(y)}},d=function(){function k(x,N){for(var y=0;y<N.length;y++){var A=N[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,N,y){return N&&k(x.prototype,N),y&&k(x,y),x}}(),v=c(0),w=m(v),S=c(7),g=m(S);function m(k){return k&&k.__esModule?k:{default:k}}function p(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function C(k,x){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:k}function E(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(k,x):k.__proto__=x)}var O=function(k){E(x,k),d(x,null,[{key:"value",value:function(){}}]);function x(N,y){p(this,x);var A=C(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N));return A.selection=y,A.textNode=document.createTextNode(x.CONTENTS),A.domNode.appendChild(A.textNode),A._length=0,A}return d(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,A){if(this._length!==0)return h(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,y,A);for(var q=this,R=0;q!=null&&q.statics.scope!==w.default.Scope.BLOCK_BLOT;)R+=q.offset(q.parent),q=q.parent;q!=null&&(this._length=x.CONTENTS.length,q.optimize(),q.formatAt(R,x.CONTENTS.length,y,A),this._length=0)}},{key:"index",value:function(y,A){return y===this.textNode?0:h(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,A)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){h(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,A=this.selection.getNativeRange(),q=void 0,R=void 0,z=void 0;if(A!=null&&A.start.node===y&&A.end.node===y){var U=[y,A.start.offset,A.end.offset];q=U[0],R=U[1],z=U[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var F=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof g.default?(q=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=x.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(w.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var I=[R,z].map(function(B){return Math.max(0,Math.min(q.data.length,B-1))}),P=b(I,2);return R=P[0],z=P[1],{startNode:q,startOffset:R,endNode:q,endOffset:z}}}}},{key:"update",value:function(y,A){var q=this;if(y.some(function(z){return z.type==="characterData"&&z.target===q.textNode})){var R=this.restore();R&&(A.range=R)}}},{key:"value",value:function(){return""}}]),x}(w.default.Embed);O.blotName="cursor",O.className="ql-cursor",O.tagName="span",O.CONTENTS="\uFEFF",a.default=O},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(0),h=w(b),d=c(4),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(){return S(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(h.default.Container);p.allowedChildren=[v.default,d.BlockEmbed,p],a.default=p},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var b=function(){function O(k,x){for(var N=0;N<x.length;N++){var y=x[N];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}return function(k,x,N){return x&&O(k.prototype,x),N&&O(k,N),k}}(),h=function O(k,x,N){k===null&&(k=Function.prototype);var y=Object.getOwnPropertyDescriptor(k,x);if(y===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:O(A,x,N)}else{if("value"in y)return y.value;var q=y.get;return q===void 0?void 0:q.call(N)}},d=c(0),v=w(d);function w(O){return O&&O.__esModule?O:{default:O}}function S(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function g(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function m(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var p=function(O){m(k,O);function k(){return S(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return b(k,[{key:"value",value:function(N){var y=h(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"value",this).call(this,N);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(A){return("00"+parseInt(A).toString(16)).slice(-2)}).join("")):y}}]),k}(v.default.Attributor.Style),C=new v.default.Attributor.Class("color","ql-color",{scope:v.default.Scope.INLINE}),E=new p("color","color",{scope:v.default.Scope.INLINE});a.ColorAttributor=p,a.ColorClass=C,a.ColorStyle=E},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var b=function(){function E(O,k){for(var x=0;x<k.length;x++){var N=k[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,k,x){return k&&E(O.prototype,k),x&&E(O,x),O}}(),h=function E(O,k,x){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,k);if(N===void 0){var y=Object.getPrototypeOf(O);return y===null?void 0:E(y,k,x)}else{if("value"in N)return N.value;var A=N.get;return A===void 0?void 0:A.call(x)}},d=c(6),v=w(d);function w(E){return E&&E.__esModule?E:{default:E}}function S(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function g(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function m(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var p=function(E){m(O,E);function O(){return S(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return b(O,[{key:"format",value:function(x,N){if(x!==this.statics.blotName||!N)return h(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,x,N);N=this.constructor.sanitize(N),this.domNode.setAttribute("href",N)}}],[{key:"create",value:function(x){var N=h(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,x);return x=this.sanitize(x),N.setAttribute("href",x),N.setAttribute("rel","noopener noreferrer"),N.setAttribute("target","_blank"),N}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return C(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),O}(v.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function C(E,O){var k=document.createElement("a");k.href=E;var x=k.href.slice(0,k.href.indexOf(":"));return O.indexOf(x)>-1}a.default=p,a.sanitize=C},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h=function(){function O(k,x){for(var N=0;N<x.length;N++){var y=x[N];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}return function(k,x,N){return x&&O(k.prototype,x),N&&O(k,N),k}}(),d=c(23),v=g(d),w=c(107),S=g(w);function g(O){return O&&O.__esModule?O:{default:O}}function m(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}var p=0;function C(O,k){O.setAttribute(k,O.getAttribute(k)!=="true")}var E=function(){function O(k){var x=this;m(this,O),this.select=k,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(N){switch(N.keyCode){case v.default.keys.ENTER:x.togglePicker();break;case v.default.keys.ESCAPE:x.escape(),N.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return h(O,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),C(this.label,"aria-expanded"),C(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var N=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),x.hasAttribute("value")&&y.setAttribute("data-value",x.getAttribute("value")),x.textContent&&y.setAttribute("data-label",x.textContent),y.addEventListener("click",function(){N.selectItem(y,!0)}),y.addEventListener("keydown",function(A){switch(A.keyCode){case v.default.keys.ENTER:N.selectItem(y,!0),A.preventDefault();break;case v.default.keys.ESCAPE:N.escape(),A.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=S.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,N=document.createElement("span");N.classList.add("ql-picker-options"),N.setAttribute("aria-hidden","true"),N.tabIndex="-1",N.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",N.id),this.options=N,[].slice.call(this.select.options).forEach(function(y){var A=x.buildItem(y);N.appendChild(A),y.selected===!0&&x.selectItem(A)}),this.container.appendChild(N)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(N){x.container.setAttribute(N.name,N.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(x!==y&&(y!=null&&y.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),N))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":b(Event))==="object"){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var N=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(N)}else this.selectItem(null);var y=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),O}();a.default=E},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(0),h=V(b),d=c(5),v=V(d),w=c(4),S=V(w),g=c(16),m=V(g),p=c(25),C=V(p),E=c(24),O=V(E),k=c(35),x=V(k),N=c(6),y=V(N),A=c(22),q=V(A),R=c(7),z=V(R),U=c(55),F=V(U),I=c(42),P=V(I),B=c(23),j=V(B);function V(oe){return oe&&oe.__esModule?oe:{default:oe}}v.default.register({"blots/block":S.default,"blots/block/embed":w.BlockEmbed,"blots/break":m.default,"blots/container":C.default,"blots/cursor":O.default,"blots/embed":x.default,"blots/inline":y.default,"blots/scroll":q.default,"blots/text":z.default,"modules/clipboard":F.default,"modules/history":P.default,"modules/keyboard":j.default}),h.default.register(S.default,m.default,O.default,y.default,q.default,z.default),a.default=v.default},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(1),h=function(){function d(v){this.domNode=v,this.domNode[b.DATA_KEY]={blot:this}}return Object.defineProperty(d.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),d.create=function(v){if(this.tagName==null)throw new b.ParchmentError("Blot definition missing tagName");var w;return Array.isArray(this.tagName)?(typeof v=="string"&&(v=v.toUpperCase(),parseInt(v).toString()===v&&(v=parseInt(v))),typeof v=="number"?w=document.createElement(this.tagName[v-1]):this.tagName.indexOf(v)>-1?w=document.createElement(v):w=document.createElement(this.tagName[0])):w=document.createElement(this.tagName),this.className&&w.classList.add(this.className),w},d.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},d.prototype.clone=function(){var v=this.domNode.cloneNode(!1);return b.create(v)},d.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[b.DATA_KEY]},d.prototype.deleteAt=function(v,w){var S=this.isolate(v,w);S.remove()},d.prototype.formatAt=function(v,w,S,g){var m=this.isolate(v,w);if(b.query(S,b.Scope.BLOT)!=null&&g)m.wrap(S,g);else if(b.query(S,b.Scope.ATTRIBUTE)!=null){var p=b.create(this.statics.scope);m.wrap(p),p.format(S,g)}},d.prototype.insertAt=function(v,w,S){var g=S==null?b.create("text",w):b.create(w,S),m=this.split(v);this.parent.insertBefore(g,m)},d.prototype.insertInto=function(v,w){w===void 0&&(w=null),this.parent!=null&&this.parent.children.remove(this);var S=null;v.children.insertBefore(this,w),w!=null&&(S=w.domNode),(this.domNode.parentNode!=v.domNode||this.domNode.nextSibling!=S)&&v.domNode.insertBefore(this.domNode,S),this.parent=v,this.attach()},d.prototype.isolate=function(v,w){var S=this.split(v);return S.split(w),S},d.prototype.length=function(){return 1},d.prototype.offset=function(v){return v===void 0&&(v=this.parent),this.parent==null||this==v?0:this.parent.children.offset(this)+this.parent.offset(v)},d.prototype.optimize=function(v){this.domNode[b.DATA_KEY]!=null&&delete this.domNode[b.DATA_KEY].mutations},d.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},d.prototype.replace=function(v){v.parent!=null&&(v.parent.insertBefore(this,v.next),v.remove())},d.prototype.replaceWith=function(v,w){var S=typeof v=="string"?b.create(v,w):v;return S.replace(this),S},d.prototype.split=function(v,w){return v===0?this:this.next},d.prototype.update=function(v,w){},d.prototype.wrap=function(v,w){var S=typeof v=="string"?b.create(v,w):v;return this.parent!=null&&this.parent.insertBefore(S,this.next),S.appendChild(this),S},d.blotName="abstract",d}();a.default=h},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(12),h=c(32),d=c(33),v=c(1),w=function(){function S(g){this.attributes={},this.domNode=g,this.build()}return S.prototype.attribute=function(g,m){m?g.add(this.domNode,m)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},S.prototype.build=function(){var g=this;this.attributes={};var m=b.default.keys(this.domNode),p=h.default.keys(this.domNode),C=d.default.keys(this.domNode);m.concat(p).concat(C).forEach(function(E){var O=v.query(E,v.Scope.ATTRIBUTE);O instanceof b.default&&(g.attributes[O.attrName]=O)})},S.prototype.copy=function(g){var m=this;Object.keys(this.attributes).forEach(function(p){var C=m.attributes[p].value(m.domNode);g.format(p,C)})},S.prototype.move=function(g){var m=this;this.copy(g),Object.keys(this.attributes).forEach(function(p){m.attributes[p].remove(m.domNode)}),this.attributes={}},S.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(m,p){return m[p]=g.attributes[p].value(g.domNode),m},{})},S}();a.default=w},function(o,a,c){var b=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,g){S.__proto__=g}||function(S,g){for(var m in g)g.hasOwnProperty(m)&&(S[m]=g[m])};return function(S,g){w(S,g);function m(){this.constructor=S}S.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(12);function d(w,S){var g=w.getAttribute("class")||"";return g.split(/\s+/).filter(function(m){return m.indexOf(S+"-")===0})}var v=function(w){b(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return S.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},S.prototype.add=function(g,m){return this.canAdd(g,m)?(this.remove(g),g.classList.add(this.keyName+"-"+m),!0):!1},S.prototype.remove=function(g){var m=d(g,this.keyName);m.forEach(function(p){g.classList.remove(p)}),g.classList.length===0&&g.removeAttribute("class")},S.prototype.value=function(g){var m=d(g,this.keyName)[0]||"",p=m.slice(this.keyName.length+1);return this.canAdd(g,p)?p:""},S}(h.default);a.default=v},function(o,a,c){var b=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,g){S.__proto__=g}||function(S,g){for(var m in g)g.hasOwnProperty(m)&&(S[m]=g[m])};return function(S,g){w(S,g);function m(){this.constructor=S}S.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(12);function d(w){var S=w.split("-"),g=S.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return S[0]+g}var v=function(w){b(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return S.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(m){var p=m.split(":");return p[0].trim()})},S.prototype.add=function(g,m){return this.canAdd(g,m)?(g.style[d(this.keyName)]=m,!0):!1},S.prototype.remove=function(g){g.style[d(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},S.prototype.value=function(g){var m=g.style[d(this.keyName)];return this.canAdd(g,m)?m:""},S}(h.default);a.default=v},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function v(w,S){for(var g=0;g<S.length;g++){var m=S[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,S,g){return S&&v(w.prototype,S),g&&v(w,g),w}}();function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(w,S){h(this,v),this.quill=w,this.options=S,this.modules={}}return b(v,[{key:"init",value:function(){var S=this;Object.keys(this.options.modules).forEach(function(g){S.modules[g]==null&&S.addModule(g)})}},{key:"addModule",value:function(S){var g=this.quill.constructor.import("modules/"+S);return this.modules[S]=new g(this.quill,this.options.modules[S]||{}),this.modules[S]}}]),v}();d.DEFAULTS={modules:{}},d.themes={default:d},a.default=d},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function k(x,N){for(var y=0;y<N.length;y++){var A=N[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,N,y){return N&&k(x.prototype,N),y&&k(x,y),x}}(),h=function k(x,N,y){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,N);if(A===void 0){var q=Object.getPrototypeOf(x);return q===null?void 0:k(q,N,y)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(y)}},d=c(0),v=g(d),w=c(7),S=g(w);function g(k){return k&&k.__esModule?k:{default:k}}function m(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function p(k,x){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:k}function C(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(k,x):k.__proto__=x)}var E="\uFEFF",O=function(k){C(x,k);function x(N){m(this,x);var y=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(A){y.contentNode.appendChild(A)}),y.leftGuard=document.createTextNode(E),y.rightGuard=document.createTextNode(E),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return b(x,[{key:"index",value:function(y,A){return y===this.leftGuard?0:y===this.rightGuard?1:h(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,y,A)}},{key:"restore",value:function(y){var A=void 0,q=void 0,R=y.data.split(E).join("");if(y===this.leftGuard)if(this.prev instanceof S.default){var z=this.prev.length();this.prev.insertAt(z,R),A={startNode:this.prev.domNode,startOffset:z+R.length}}else q=document.createTextNode(R),this.parent.insertBefore(v.default.create(q),this),A={startNode:q,startOffset:R.length};else y===this.rightGuard&&(this.next instanceof S.default?(this.next.insertAt(0,R),A={startNode:this.next.domNode,startOffset:R.length}):(q=document.createTextNode(R),this.parent.insertBefore(v.default.create(q),this.next),A={startNode:q,startOffset:R.length}));return y.data=E,A}},{key:"update",value:function(y,A){var q=this;y.forEach(function(R){if(R.type==="characterData"&&(R.target===q.leftGuard||R.target===q.rightGuard)){var z=q.restore(R.target);z&&(A.range=z)}})}}]),x}(v.default.Embed);a.default=O},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var b=c(0),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}var v={scope:h.default.Scope.BLOCK,whitelist:["right","center","justify"]},w=new h.default.Attributor.Attribute("align","align",v),S=new h.default.Attributor.Class("align","ql-align",v),g=new h.default.Attributor.Style("align","text-align",v);a.AlignAttribute=w,a.AlignClass=S,a.AlignStyle=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var b=c(0),h=v(b),d=c(26);function v(g){return g&&g.__esModule?g:{default:g}}var w=new h.default.Attributor.Class("background","ql-bg",{scope:h.default.Scope.INLINE}),S=new d.ColorAttributor("background","background-color",{scope:h.default.Scope.INLINE});a.BackgroundClass=w,a.BackgroundStyle=S},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var b=c(0),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}var v={scope:h.default.Scope.BLOCK,whitelist:["rtl"]},w=new h.default.Attributor.Attribute("direction","dir",v),S=new h.default.Attributor.Class("direction","ql-direction",v),g=new h.default.Attributor.Style("direction","direction",v);a.DirectionAttribute=w,a.DirectionClass=S,a.DirectionStyle=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var b=function(){function k(x,N){for(var y=0;y<N.length;y++){var A=N[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,N,y){return N&&k(x.prototype,N),y&&k(x,y),x}}(),h=function k(x,N,y){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,N);if(A===void 0){var q=Object.getPrototypeOf(x);return q===null?void 0:k(q,N,y)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(y)}},d=c(0),v=w(d);function w(k){return k&&k.__esModule?k:{default:k}}function S(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function g(k,x){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:k}function m(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(k,x):k.__proto__=x)}var p={scope:v.default.Scope.INLINE,whitelist:["serif","monospace"]},C=new v.default.Attributor.Class("font","ql-font",p),E=function(k){m(x,k);function x(){return S(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return b(x,[{key:"value",value:function(y){return h(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),x}(v.default.Attributor.Style),O=new E("font","font-family",p);a.FontStyle=O,a.FontClass=C},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var b=c(0),h=d(b);function d(S){return S&&S.__esModule?S:{default:S}}var v=new h.default.Attributor.Class("size","ql-size",{scope:h.default.Scope.INLINE,whitelist:["small","large","huge"]}),w=new h.default.Attributor.Style("size","font-size",{scope:h.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=v,a.SizeStyle=w},function(o,a,c){o.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{"1":c(92),"2":c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var b=function(){function N(y,A){for(var q=0;q<A.length;q++){var R=A[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(y,R.key,R)}}return function(y,A,q){return A&&N(y.prototype,A),q&&N(y,q),y}}(),h=c(0),d=m(h),v=c(5),w=m(v),S=c(9),g=m(S);function m(N){return N&&N.__esModule?N:{default:N}}function p(N,y){if(!(N instanceof y))throw new TypeError("Cannot call a class as a function")}function C(N,y){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:N}function E(N,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);N.prototype=Object.create(y&&y.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(N,y):N.__proto__=y)}var O=function(N){E(y,N);function y(A,q){p(this,y);var R=C(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A,q));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(w.default.events.EDITOR_CHANGE,function(z,U,F,I){z!==w.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||I===w.default.sources.USER?R.record(U,F):R.transform(U))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return b(y,[{key:"change",value:function(q,R){if(this.stack[q].length!==0){var z=this.stack[q].pop();this.stack[R].push(z),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(z[q],w.default.sources.USER),this.ignoreChange=!1;var U=x(z[q]);this.quill.setSelection(U)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(q,R){if(q.ops.length!==0){this.stack.redo=[];var z=this.quill.getContents().diff(R),U=Date.now();if(this.lastRecorded+this.options.delay>U&&this.stack.undo.length>0){var F=this.stack.undo.pop();z=z.compose(F.undo),q=F.redo.compose(q)}else this.lastRecorded=U;this.stack.undo.push({redo:q,undo:z}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(q){this.stack.undo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(g.default);O.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function k(N){var y=N.ops[N.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(A){return d.default.query(A,d.default.Scope.BLOCK)!=null}):!1}function x(N){var y=N.reduce(function(q,R){return q+=R.delete||0,q},0),A=N.length()-y;return k(N)&&(A-=1),A}a.default=O,a.getLastChangeIndex=x},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var b=function(){function K(X,ae){for(var ne=0;ne<ae.length;ne++){var W=ae[ne];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(X,W.key,W)}}return function(X,ae,ne){return ae&&K(X.prototype,ae),ne&&K(X,ne),X}}(),h=function K(X,ae,ne){X===null&&(X=Function.prototype);var W=Object.getOwnPropertyDescriptor(X,ae);if(W===void 0){var J=Object.getPrototypeOf(X);return J===null?void 0:K(J,ae,ne)}else{if("value"in W)return W.value;var le=W.get;return le===void 0?void 0:le.call(ne)}},d=c(3),v=U(d),w=c(2),S=U(w),g=c(8),m=U(g),p=c(23),C=U(p),E=c(34),O=U(E),k=c(59),x=U(k),N=c(60),y=U(N),A=c(28),q=U(A),R=c(61),z=U(R);function U(K){return K&&K.__esModule?K:{default:K}}function F(K,X){if(!(K instanceof X))throw new TypeError("Cannot call a class as a function")}function I(K,X){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:K}function P(K,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);K.prototype=Object.create(X&&X.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(K,X):K.__proto__=X)}var B=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],oe=["1","2","3",!1],ie=["small",!1,"large","huge"],pe=function(K){P(X,K);function X(ae,ne){F(this,X);var W=I(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ae,ne)),J=function le(se){if(!document.body.contains(ae.root))return document.body.removeEventListener("click",le);W.tooltip!=null&&!W.tooltip.root.contains(se.target)&&document.activeElement!==W.tooltip.textbox&&!W.quill.hasFocus()&&W.tooltip.hide(),W.pickers!=null&&W.pickers.forEach(function(ge){ge.container.contains(se.target)||ge.close()})};return ae.emitter.listenDOM("click",document.body,J),W}return b(X,[{key:"addModule",value:function(ne){var W=h(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"addModule",this).call(this,ne);return ne==="toolbar"&&this.extendToolbar(W),W}},{key:"buildButtons",value:function(ne,W){ne.forEach(function(J){var le=J.getAttribute("class")||"";le.split(/\s+/).forEach(function(se){if(!!se.startsWith("ql-")&&(se=se.slice("ql-".length),W[se]!=null))if(se==="direction")J.innerHTML=W[se][""]+W[se].rtl;else if(typeof W[se]=="string")J.innerHTML=W[se];else{var ge=J.value||"";ge!=null&&W[se][ge]&&(J.innerHTML=W[se][ge])}})})}},{key:"buildPickers",value:function(ne,W){var J=this;this.pickers=ne.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&H(se,B),new y.default(se,W.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var ge=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&H(se,j,ge==="background"?"#ffffff":"#000000"),new x.default(se,W[ge])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?H(se,V):se.classList.contains("ql-header")?H(se,oe):se.classList.contains("ql-size")&&H(se,ie)),new q.default(se)});var le=function(){J.pickers.forEach(function(ge){ge.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,le)}}]),X}(O.default);pe.DEFAULTS=(0,v.default)(!0,{},O.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var X=this,ae=this.container.querySelector("input.ql-image[type=file]");ae==null&&(ae=document.createElement("input"),ae.setAttribute("type","file"),ae.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ae.classList.add("ql-image"),ae.addEventListener("change",function(){if(ae.files!=null&&ae.files[0]!=null){var ne=new FileReader;ne.onload=function(W){var J=X.quill.getSelection(!0);X.quill.updateContents(new S.default().retain(J.index).delete(J.length).insert({image:W.target.result}),m.default.sources.USER),X.quill.setSelection(J.index+1,m.default.sources.SILENT),ae.value=""},ne.readAsDataURL(ae.files[0])}}),this.container.appendChild(ae)),ae.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var te=function(K){P(X,K);function X(ae,ne){F(this,X);var W=I(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,ae,ne));return W.textbox=W.root.querySelector('input[type="text"]'),W.listen(),W}return b(X,[{key:"listen",value:function(){var ne=this;this.textbox.addEventListener("keydown",function(W){C.default.match(W,"enter")?(ne.save(),W.preventDefault()):C.default.match(W,"escape")&&(ne.cancel(),W.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),W!=null?this.textbox.value=W:ne!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ne)||""),this.root.setAttribute("data-mode",ne)}},{key:"restoreFocus",value:function(){var ne=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ne}},{key:"save",value:function(){var ne=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var W=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ne,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ne,m.default.sources.USER)),this.quill.root.scrollTop=W;break}case"video":ne=Z(ne);case"formula":{if(!ne)break;var J=this.quill.getSelection(!0);if(J!=null){var le=J.index+J.length;this.quill.insertEmbed(le,this.root.getAttribute("data-mode"),ne,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(le+1," ",m.default.sources.USER),this.quill.setSelection(le+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),X}(z.default);function Z(K){var X=K.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||K.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return X?(X[1]||"https")+"://www.youtube.com/embed/"+X[2]+"?showinfo=0":(X=K.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(X[1]||"https")+"://player.vimeo.com/video/"+X[2]+"/":K}function H(K,X){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;X.forEach(function(ne){var W=document.createElement("option");ne===ae?W.setAttribute("selected","selected"):W.setAttribute("value",ne),K.appendChild(W)})}a.BaseTooltip=te,a.default=pe},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function h(){this.head=this.tail=null,this.length=0}return h.prototype.append=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];this.insertBefore(d[0],null),d.length>1&&this.append.apply(this,d.slice(1))},h.prototype.contains=function(d){for(var v,w=this.iterator();v=w();)if(v===d)return!0;return!1},h.prototype.insertBefore=function(d,v){!d||(d.next=v,v!=null?(d.prev=v.prev,v.prev!=null&&(v.prev.next=d),v.prev=d,v===this.head&&(this.head=d)):this.tail!=null?(this.tail.next=d,d.prev=this.tail,this.tail=d):(d.prev=null,this.head=this.tail=d),this.length+=1)},h.prototype.offset=function(d){for(var v=0,w=this.head;w!=null;){if(w===d)return v;v+=w.length(),w=w.next}return-1},h.prototype.remove=function(d){!this.contains(d)||(d.prev!=null&&(d.prev.next=d.next),d.next!=null&&(d.next.prev=d.prev),d===this.head&&(this.head=d.next),d===this.tail&&(this.tail=d.prev),this.length-=1)},h.prototype.iterator=function(d){return d===void 0&&(d=this.head),function(){var v=d;return d!=null&&(d=d.next),v}},h.prototype.find=function(d,v){v===void 0&&(v=!1);for(var w,S=this.iterator();w=S();){var g=w.length();if(d<g||v&&d===g&&(w.next==null||w.next.length()!==0))return[w,d];d-=g}return[null,0]},h.prototype.forEach=function(d){for(var v,w=this.iterator();v=w();)d(v)},h.prototype.forEachAt=function(d,v,w){if(!(v<=0))for(var S=this.find(d),g=S[0],m=S[1],p,C=d-m,E=this.iterator(g);(p=E())&&C<d+v;){var O=p.length();d>C?w(p,d-C,Math.min(v,C+O-d)):w(p,0,Math.min(O,d+v-C)),C+=O}},h.prototype.map=function(d){return this.reduce(function(v,w){return v.push(d(w)),v},[])},h.prototype.reduce=function(d,v){for(var w,S=this.iterator();w=S();)v=d(v,w);return v},h}();a.default=b},function(o,a,c){var b=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var C in p)p.hasOwnProperty(C)&&(m[C]=p[C])};return function(m,p){g(m,p);function C(){this.constructor=m}m.prototype=p===null?Object.create(p):(C.prototype=p.prototype,new C)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(17),d=c(1),v={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},w=100,S=function(g){b(m,g);function m(p){var C=g.call(this,p)||this;return C.scroll=C,C.observer=new MutationObserver(function(E){C.update(E)}),C.observer.observe(C.domNode,v),C.attach(),C}return m.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(p,C){this.update(),p===0&&C===this.length()?this.children.forEach(function(E){E.remove()}):g.prototype.deleteAt.call(this,p,C)},m.prototype.formatAt=function(p,C,E,O){this.update(),g.prototype.formatAt.call(this,p,C,E,O)},m.prototype.insertAt=function(p,C,E){this.update(),g.prototype.insertAt.call(this,p,C,E)},m.prototype.optimize=function(p,C){var E=this;p===void 0&&(p=[]),C===void 0&&(C={}),g.prototype.optimize.call(this,C);for(var O=[].slice.call(this.observer.takeRecords());O.length>0;)p.push(O.pop());for(var k=function(A,q){q===void 0&&(q=!0),!(A==null||A===E)&&A.domNode.parentNode!=null&&(A.domNode[d.DATA_KEY].mutations==null&&(A.domNode[d.DATA_KEY].mutations=[]),q&&k(A.parent))},x=function(A){A.domNode[d.DATA_KEY]==null||A.domNode[d.DATA_KEY].mutations==null||(A instanceof h.default&&A.children.forEach(x),A.optimize(C))},N=p,y=0;N.length>0;y+=1){if(y>=w)throw new Error("[Parchment] Maximum optimize iterations reached");for(N.forEach(function(A){var q=d.find(A.target,!0);q!=null&&(q.domNode===A.target&&(A.type==="childList"?(k(d.find(A.previousSibling,!1)),[].forEach.call(A.addedNodes,function(R){var z=d.find(R,!1);k(z,!1),z instanceof h.default&&z.children.forEach(function(U){k(U,!1)})})):A.type==="attributes"&&k(q.prev)),k(q))}),this.children.forEach(x),N=[].slice.call(this.observer.takeRecords()),O=N.slice();O.length>0;)p.push(O.pop())}},m.prototype.update=function(p,C){var E=this;C===void 0&&(C={}),p=p||this.observer.takeRecords(),p.map(function(O){var k=d.find(O.target,!0);return k==null?null:k.domNode[d.DATA_KEY].mutations==null?(k.domNode[d.DATA_KEY].mutations=[O],k):(k.domNode[d.DATA_KEY].mutations.push(O),null)}).forEach(function(O){O==null||O===E||O.domNode[d.DATA_KEY]==null||O.update(O.domNode[d.DATA_KEY].mutations||[],C)}),this.domNode[d.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[d.DATA_KEY].mutations,C),this.optimize(p,C)},m.blotName="scroll",m.defaultChild="block",m.scope=d.Scope.BLOCK_BLOT,m.tagName="DIV",m}(h.default);a.default=S},function(o,a,c){var b=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])};return function(g,m){S(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(18),d=c(1);function v(S,g){if(Object.keys(S).length!==Object.keys(g).length)return!1;for(var m in S)if(S[m]!==g[m])return!1;return!0}var w=function(S){b(g,S);function g(){return S!==null&&S.apply(this,arguments)||this}return g.formats=function(m){if(m.tagName!==g.tagName)return S.formats.call(this,m)},g.prototype.format=function(m,p){var C=this;m===this.statics.blotName&&!p?(this.children.forEach(function(E){E instanceof h.default||(E=E.wrap(g.blotName,!0)),C.attributes.copy(E)}),this.unwrap()):S.prototype.format.call(this,m,p)},g.prototype.formatAt=function(m,p,C,E){if(this.formats()[C]!=null||d.query(C,d.Scope.ATTRIBUTE)){var O=this.isolate(m,p);O.format(C,E)}else S.prototype.formatAt.call(this,m,p,C,E)},g.prototype.optimize=function(m){S.prototype.optimize.call(this,m);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var C=this.next;C instanceof g&&C.prev===this&&v(p,C.formats())&&(C.moveChildren(this),C.remove())},g.blotName="inline",g.scope=d.Scope.INLINE_BLOT,g.tagName="SPAN",g}(h.default);a.default=w},function(o,a,c){var b=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,g){S.__proto__=g}||function(S,g){for(var m in g)g.hasOwnProperty(m)&&(S[m]=g[m])};return function(S,g){w(S,g);function m(){this.constructor=S}S.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(18),d=c(1),v=function(w){b(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return S.formats=function(g){var m=d.query(S.blotName).tagName;if(g.tagName!==m)return w.formats.call(this,g)},S.prototype.format=function(g,m){d.query(g,d.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!m?this.replaceWith(S.blotName):w.prototype.format.call(this,g,m))},S.prototype.formatAt=function(g,m,p,C){d.query(p,d.Scope.BLOCK)!=null?this.format(p,C):w.prototype.formatAt.call(this,g,m,p,C)},S.prototype.insertAt=function(g,m,p){if(p==null||d.query(m,d.Scope.INLINE)!=null)w.prototype.insertAt.call(this,g,m,p);else{var C=this.split(g),E=d.create(m,p);C.parent.insertBefore(E,C)}},S.prototype.update=function(g,m){navigator.userAgent.match(/Trident/)?this.build():w.prototype.update.call(this,g,m)},S.blotName="block",S.scope=d.Scope.BLOCK_BLOT,S.tagName="P",S}(h.default);a.default=v},function(o,a,c){var b=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var g in S)S.hasOwnProperty(g)&&(w[g]=S[g])};return function(w,S){v(w,S);function g(){this.constructor=w}w.prototype=S===null?Object.create(S):(g.prototype=S.prototype,new g)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(19),d=function(v){b(w,v);function w(){return v!==null&&v.apply(this,arguments)||this}return w.formats=function(S){},w.prototype.format=function(S,g){v.prototype.formatAt.call(this,0,this.length(),S,g)},w.prototype.formatAt=function(S,g,m,p){S===0&&g===this.length()?this.format(m,p):v.prototype.formatAt.call(this,S,g,m,p)},w.prototype.formats=function(){return this.statics.formats(this.domNode)},w}(h.default);a.default=d},function(o,a,c){var b=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,g){S.__proto__=g}||function(S,g){for(var m in g)g.hasOwnProperty(m)&&(S[m]=g[m])};return function(S,g){w(S,g);function m(){this.constructor=S}S.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var h=c(19),d=c(1),v=function(w){b(S,w);function S(g){var m=w.call(this,g)||this;return m.text=m.statics.value(m.domNode),m}return S.create=function(g){return document.createTextNode(g)},S.value=function(g){var m=g.data;return m.normalize&&(m=m.normalize()),m},S.prototype.deleteAt=function(g,m){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+m)},S.prototype.index=function(g,m){return this.domNode===g?m:-1},S.prototype.insertAt=function(g,m,p){p==null?(this.text=this.text.slice(0,g)+m+this.text.slice(g),this.domNode.data=this.text):w.prototype.insertAt.call(this,g,m,p)},S.prototype.length=function(){return this.text.length},S.prototype.optimize=function(g){w.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof S&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},S.prototype.position=function(g,m){return[this.domNode,g]},S.prototype.split=function(g,m){if(m===void 0&&(m=!1),!m){if(g===0)return this;if(g===this.length())return this.next}var p=d.create(this.domNode.splitText(g));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},S.prototype.update=function(g,m){var p=this;g.some(function(C){return C.type==="characterData"&&C.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},S.prototype.value=function(){return this.text},S.blotName="text",S.scope=d.Scope.INLINE_BLOT,S}(h.default);a.default=v},function(o,a,c){var b=document.createElement("div");if(b.classList.toggle("test-class",!1),b.classList.contains("test-class")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,v){return arguments.length>1&&!this.contains(d)==!v?v:h.call(this,d)}}String.prototype.startsWith||(String.prototype.startsWith=function(d,v){return v=v||0,this.substr(v,d.length)===d}),String.prototype.endsWith||(String.prototype.endsWith=function(d,v){var w=this.toString();(typeof v!="number"||!isFinite(v)||Math.floor(v)!==v||v>w.length)&&(v=w.length),v-=d.length;var S=w.indexOf(d,v);return S!==-1&&S===v}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(v){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof v!="function")throw new TypeError("predicate must be a function");for(var w=Object(this),S=w.length>>>0,g=arguments[1],m,p=0;p<S;p++)if(m=w[p],v.call(g,m,p,w))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(o,a){var c=-1,b=1,h=0;function d(y,A,q){if(y==A)return y?[[h,y]]:[];(q<0||y.length<q)&&(q=null);var R=g(y,A),z=y.substring(0,R);y=y.substring(R),A=A.substring(R),R=m(y,A);var U=y.substring(y.length-R);y=y.substring(0,y.length-R),A=A.substring(0,A.length-R);var F=v(y,A);return z&&F.unshift([h,z]),U&&F.push([h,U]),C(F),q!=null&&(F=k(F,q)),F=x(F),F}function v(y,A){var q;if(!y)return[[b,A]];if(!A)return[[c,y]];var R=y.length>A.length?y:A,z=y.length>A.length?A:y,U=R.indexOf(z);if(U!=-1)return q=[[b,R.substring(0,U)],[h,z],[b,R.substring(U+z.length)]],y.length>A.length&&(q[0][0]=q[2][0]=c),q;if(z.length==1)return[[c,y],[b,A]];var F=p(y,A);if(F){var I=F[0],P=F[1],B=F[2],j=F[3],V=F[4],oe=d(I,B),ie=d(P,j);return oe.concat([[h,V]],ie)}return w(y,A)}function w(y,A){for(var q=y.length,R=A.length,z=Math.ceil((q+R)/2),U=z,F=2*z,I=new Array(F),P=new Array(F),B=0;B<F;B++)I[B]=-1,P[B]=-1;I[U+1]=0,P[U+1]=0;for(var j=q-R,V=j%2!=0,oe=0,ie=0,pe=0,te=0,Z=0;Z<z;Z++){for(var H=-Z+oe;H<=Z-ie;H+=2){var K=U+H,X;H==-Z||H!=Z&&I[K-1]<I[K+1]?X=I[K+1]:X=I[K-1]+1;for(var ae=X-H;X<q&&ae<R&&y.charAt(X)==A.charAt(ae);)X++,ae++;if(I[K]=X,X>q)ie+=2;else if(ae>R)oe+=2;else if(V){var ne=U+j-H;if(ne>=0&&ne<F&&P[ne]!=-1){var W=q-P[ne];if(X>=W)return S(y,A,X,ae)}}}for(var J=-Z+pe;J<=Z-te;J+=2){var ne=U+J,W;J==-Z||J!=Z&&P[ne-1]<P[ne+1]?W=P[ne+1]:W=P[ne-1]+1;for(var le=W-J;W<q&&le<R&&y.charAt(q-W-1)==A.charAt(R-le-1);)W++,le++;if(P[ne]=W,W>q)te+=2;else if(le>R)pe+=2;else if(!V){var K=U+j-J;if(K>=0&&K<F&&I[K]!=-1){var X=I[K],ae=U+X-K;if(W=q-W,X>=W)return S(y,A,X,ae)}}}}return[[c,y],[b,A]]}function S(y,A,q,R){var z=y.substring(0,q),U=A.substring(0,R),F=y.substring(q),I=A.substring(R),P=d(z,U),B=d(F,I);return P.concat(B)}function g(y,A){if(!y||!A||y.charAt(0)!=A.charAt(0))return 0;for(var q=0,R=Math.min(y.length,A.length),z=R,U=0;q<z;)y.substring(U,z)==A.substring(U,z)?(q=z,U=q):R=z,z=Math.floor((R-q)/2+q);return z}function m(y,A){if(!y||!A||y.charAt(y.length-1)!=A.charAt(A.length-1))return 0;for(var q=0,R=Math.min(y.length,A.length),z=R,U=0;q<z;)y.substring(y.length-z,y.length-U)==A.substring(A.length-z,A.length-U)?(q=z,U=q):R=z,z=Math.floor((R-q)/2+q);return z}function p(y,A){var q=y.length>A.length?y:A,R=y.length>A.length?A:y;if(q.length<4||R.length*2<q.length)return null;function z(ie,pe,te){for(var Z=ie.substring(te,te+Math.floor(ie.length/4)),H=-1,K="",X,ae,ne,W;(H=pe.indexOf(Z,H+1))!=-1;){var J=g(ie.substring(te),pe.substring(H)),le=m(ie.substring(0,te),pe.substring(0,H));K.length<le+J&&(K=pe.substring(H-le,H)+pe.substring(H,H+J),X=ie.substring(0,te-le),ae=ie.substring(te+J),ne=pe.substring(0,H-le),W=pe.substring(H+J))}return K.length*2>=ie.length?[X,ae,ne,W,K]:null}var U=z(q,R,Math.ceil(q.length/4)),F=z(q,R,Math.ceil(q.length/2)),I;if(!U&&!F)return null;F?U?I=U[4].length>F[4].length?U:F:I=F:I=U;var P,B,j,V;y.length>A.length?(P=I[0],B=I[1],j=I[2],V=I[3]):(j=I[0],V=I[1],P=I[2],B=I[3]);var oe=I[4];return[P,B,j,V,oe]}function C(y){y.push([h,""]);for(var A=0,q=0,R=0,z="",U="",F;A<y.length;)switch(y[A][0]){case b:R++,U+=y[A][1],A++;break;case c:q++,z+=y[A][1],A++;break;case h:q+R>1?(q!==0&&R!==0&&(F=g(U,z),F!==0&&(A-q-R>0&&y[A-q-R-1][0]==h?y[A-q-R-1][1]+=U.substring(0,F):(y.splice(0,0,[h,U.substring(0,F)]),A++),U=U.substring(F),z=z.substring(F)),F=m(U,z),F!==0&&(y[A][1]=U.substring(U.length-F)+y[A][1],U=U.substring(0,U.length-F),z=z.substring(0,z.length-F))),q===0?y.splice(A-R,q+R,[b,U]):R===0?y.splice(A-q,q+R,[c,z]):y.splice(A-q-R,q+R,[c,z],[b,U]),A=A-q-R+(q?1:0)+(R?1:0)+1):A!==0&&y[A-1][0]==h?(y[A-1][1]+=y[A][1],y.splice(A,1)):A++,R=0,q=0,z="",U="";break}y[y.length-1][1]===""&&y.pop();var I=!1;for(A=1;A<y.length-1;)y[A-1][0]==h&&y[A+1][0]==h&&(y[A][1].substring(y[A][1].length-y[A-1][1].length)==y[A-1][1]?(y[A][1]=y[A-1][1]+y[A][1].substring(0,y[A][1].length-y[A-1][1].length),y[A+1][1]=y[A-1][1]+y[A+1][1],y.splice(A-1,1),I=!0):y[A][1].substring(0,y[A+1][1].length)==y[A+1][1]&&(y[A-1][1]+=y[A+1][1],y[A][1]=y[A][1].substring(y[A+1][1].length)+y[A+1][1],y.splice(A+1,1),I=!0)),A++;I&&C(y)}var E=d;E.INSERT=b,E.DELETE=c,E.EQUAL=h,o.exports=E;function O(y,A){if(A===0)return[h,y];for(var q=0,R=0;R<y.length;R++){var z=y[R];if(z[0]===c||z[0]===h){var U=q+z[1].length;if(A===U)return[R+1,y];if(A<U){y=y.slice();var F=A-q,I=[z[0],z[1].slice(0,F)],P=[z[0],z[1].slice(F)];return y.splice(R,1,I,P),[R+1,y]}else q=U}}throw new Error("cursor_pos is out of bounds!")}function k(y,A){var q=O(y,A),R=q[1],z=q[0],U=R[z],F=R[z+1];if(U==null)return y;if(U[0]!==h)return y;if(F!=null&&U[1]+F[1]===F[1]+U[1])return R.splice(z,2,F,U),N(R,z,2);if(F!=null&&F[1].indexOf(U[1])===0){R.splice(z,2,[F[0],U[1]],[0,U[1]]);var I=F[1].slice(U[1].length);return I.length>0&&R.splice(z+2,0,[F[0],I]),N(R,z,3)}else return y}function x(y){for(var A=!1,q=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},R=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},z=2;z<y.length;z+=1)y[z-2][0]===h&&R(y[z-2][1])&&y[z-1][0]===c&&q(y[z-1][1])&&y[z][0]===b&&q(y[z][1])&&(A=!0,y[z-1][1]=y[z-2][1].slice(-1)+y[z-1][1],y[z][1]=y[z-2][1].slice(-1)+y[z][1],y[z-2][1]=y[z-2][1].slice(0,-1));if(!A)return y;for(var U=[],z=0;z<y.length;z+=1)y[z][1].length>0&&U.push(y[z]);return U}function N(y,A,q){for(var R=A+q-1;R>=0&&R>=A-1;R--)if(R+1<y.length){var z=y[R],U=y[R+1];z[0]===U[1]&&y.splice(R,2,[z[0],z[1]+U[1]])}return y}},function(o,a){a=o.exports=typeof Object.keys=="function"?Object.keys:c,a.shim=c;function c(b){var h=[];for(var d in b)h.push(d);return h}},function(o,a){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=o.exports=c?b:h,a.supported=b;function b(d){return Object.prototype.toString.call(d)=="[object Arguments]"}a.unsupported=h;function h(d){return d&&typeof d=="object"&&typeof d.length=="number"&&Object.prototype.hasOwnProperty.call(d,"callee")&&!Object.prototype.propertyIsEnumerable.call(d,"callee")||!1}},function(o,a){var c=Object.prototype.hasOwnProperty,b="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(b=!1));function d(w,S,g){this.fn=w,this.context=S,this.once=g||!1}function v(){this._events=new h,this._eventsCount=0}v.prototype.eventNames=function(){var S=[],g,m;if(this._eventsCount===0)return S;for(m in g=this._events)c.call(g,m)&&S.push(b?m.slice(1):m);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(g)):S},v.prototype.listeners=function(S,g){var m=b?b+S:S,p=this._events[m];if(g)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var C=0,E=p.length,O=new Array(E);C<E;C++)O[C]=p[C].fn;return O},v.prototype.emit=function(S,g,m,p,C,E){var O=b?b+S:S;if(!this._events[O])return!1;var k=this._events[O],x=arguments.length,N,y;if(k.fn){switch(k.once&&this.removeListener(S,k.fn,void 0,!0),x){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,g),!0;case 3:return k.fn.call(k.context,g,m),!0;case 4:return k.fn.call(k.context,g,m,p),!0;case 5:return k.fn.call(k.context,g,m,p,C),!0;case 6:return k.fn.call(k.context,g,m,p,C,E),!0}for(y=1,N=new Array(x-1);y<x;y++)N[y-1]=arguments[y];k.fn.apply(k.context,N)}else{var A=k.length,q;for(y=0;y<A;y++)switch(k[y].once&&this.removeListener(S,k[y].fn,void 0,!0),x){case 1:k[y].fn.call(k[y].context);break;case 2:k[y].fn.call(k[y].context,g);break;case 3:k[y].fn.call(k[y].context,g,m);break;case 4:k[y].fn.call(k[y].context,g,m,p);break;default:if(!N)for(q=1,N=new Array(x-1);q<x;q++)N[q-1]=arguments[q];k[y].fn.apply(k[y].context,N)}}return!0},v.prototype.on=function(S,g,m){var p=new d(g,m||this),C=b?b+S:S;return this._events[C]?this._events[C].fn?this._events[C]=[this._events[C],p]:this._events[C].push(p):(this._events[C]=p,this._eventsCount++),this},v.prototype.once=function(S,g,m){var p=new d(g,m||this,!0),C=b?b+S:S;return this._events[C]?this._events[C].fn?this._events[C]=[this._events[C],p]:this._events[C].push(p):(this._events[C]=p,this._eventsCount++),this},v.prototype.removeListener=function(S,g,m,p){var C=b?b+S:S;if(!this._events[C])return this;if(!g)return--this._eventsCount==0?this._events=new h:delete this._events[C],this;var E=this._events[C];if(E.fn)E.fn===g&&(!p||E.once)&&(!m||E.context===m)&&(--this._eventsCount==0?this._events=new h:delete this._events[C]);else{for(var O=0,k=[],x=E.length;O<x;O++)(E[O].fn!==g||p&&!E[O].once||m&&E[O].context!==m)&&k.push(E[O]);k.length?this._events[C]=k.length===1?k[0]:k:--this._eventsCount==0?this._events=new h:delete this._events[C]}return this},v.prototype.removeAllListeners=function(S){var g;return S?(g=b?b+S:S,this._events[g]&&(--this._eventsCount==0?this._events=new h:delete this._events[g])):(this._events=new h,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prototype.setMaxListeners=function(){return this},v.prefixed=b,v.EventEmitter=v,typeof o!="undefined"&&(o.exports=v)},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},h=function(){function fe(me,Ee){var Te=[],ye=!0,ze=!1,$e=void 0;try{for(var He=me[Symbol.iterator](),At;!(ye=(At=He.next()).done)&&(Te.push(At.value),!(Ee&&Te.length===Ee));ye=!0);}catch(yt){ze=!0,$e=yt}finally{try{!ye&&He.return&&He.return()}finally{if(ze)throw $e}}return Te}return function(me,Ee){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return fe(me,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function fe(me,Ee){for(var Te=0;Te<Ee.length;Te++){var ye=Ee[Te];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,Ee,Te){return Ee&&fe(me.prototype,Ee),Te&&fe(me,Te),me}}(),v=c(3),w=P(v),S=c(2),g=P(S),m=c(0),p=P(m),C=c(5),E=P(C),O=c(10),k=P(O),x=c(9),N=P(x),y=c(36),A=c(37),q=c(13),R=P(q),z=c(26),U=c(38),F=c(39),I=c(40);function P(fe){return fe&&fe.__esModule?fe:{default:fe}}function B(fe,me,Ee){return me in fe?Object.defineProperty(fe,me,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):fe[me]=Ee,fe}function j(fe,me){if(!(fe instanceof me))throw new TypeError("Cannot call a class as a function")}function V(fe,me){if(!fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:fe}function oe(fe,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);fe.prototype=Object.create(me&&me.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(fe,me):fe.__proto__=me)}var ie=(0,k.default)("quill:clipboard"),pe="__ql-matcher",te=[[Node.TEXT_NODE,et],[Node.TEXT_NODE,Ue],["br",we],[Node.ELEMENT_NODE,Ue],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,nt],["li",Ve],["b",le.bind(le,"bold")],["i",le.bind(le,"italic")],["style",Be]],Z=[y.AlignAttribute,U.DirectionAttribute].reduce(function(fe,me){return fe[me.keyName]=me,fe},{}),H=[y.AlignStyle,A.BackgroundStyle,z.ColorStyle,U.DirectionStyle,F.FontStyle,I.SizeStyle].reduce(function(fe,me){return fe[me.keyName]=me,fe},{}),K=function(fe){oe(me,fe);function me(Ee,Te){j(this,me);var ye=V(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,Ee,Te));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],te.concat(ye.options.matchers).forEach(function(ze){var $e=h(ze,2),He=$e[0],At=$e[1];!Te.matchVisual&&At===Ae||ye.addMatcher(He,At)}),ye}return d(me,[{key:"addMatcher",value:function(Te,ye){this.matchers.push([Te,ye])}},{key:"convert",value:function(Te){if(typeof Te=="string")return this.container.innerHTML=Te.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[R.default.blotName]){var ze=this.container.innerText;return this.container.innerHTML="",new g.default().insert(ze,B({},R.default.blotName,ye[R.default.blotName]))}var $e=this.prepareMatching(),He=h($e,2),At=He[0],yt=He[1],rt=J(this.container,At,yt);return ne(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new g.default().retain(rt.length()-1).delete(1))),ie.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Te,ye){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof Te=="string")this.quill.setContents(this.convert(Te),ye),this.quill.setSelection(0,E.default.sources.SILENT);else{var $e=this.convert(ye);this.quill.updateContents(new g.default().retain(Te).concat($e),ze),this.quill.setSelection(Te+$e.length(),E.default.sources.SILENT)}}},{key:"onPaste",value:function(Te){var ye=this;if(!(Te.defaultPrevented||!this.quill.isEnabled())){var ze=this.quill.getSelection(),$e=new g.default().retain(ze.index),He=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(E.default.sources.SILENT),setTimeout(function(){$e=$e.concat(ye.convert()).delete(ze.length),ye.quill.updateContents($e,E.default.sources.USER),ye.quill.setSelection($e.length()-ze.length,E.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=He,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Te=this,ye=[],ze=[];return this.matchers.forEach(function($e){var He=h($e,2),At=He[0],yt=He[1];switch(At){case Node.TEXT_NODE:ze.push(yt);break;case Node.ELEMENT_NODE:ye.push(yt);break;default:[].forEach.call(Te.container.querySelectorAll(At),function(rt){rt[pe]=rt[pe]||[],rt[pe].push(yt)});break}}),[ye,ze]}}]),me}(N.default);K.DEFAULTS={matchers:[],matchVisual:!0};function X(fe,me,Ee){return(typeof me=="undefined"?"undefined":b(me))==="object"?Object.keys(me).reduce(function(Te,ye){return X(Te,ye,me[ye])},fe):fe.reduce(function(Te,ye){return ye.attributes&&ye.attributes[me]?Te.push(ye):Te.insert(ye.insert,(0,w.default)({},B({},me,Ee),ye.attributes))},new g.default)}function ae(fe){if(fe.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return fe[me]||(fe[me]=window.getComputedStyle(fe))}function ne(fe,me){for(var Ee="",Te=fe.ops.length-1;Te>=0&&Ee.length<me.length;--Te){var ye=fe.ops[Te];if(typeof ye.insert!="string")break;Ee=ye.insert+Ee}return Ee.slice(-1*me.length)===me}function W(fe){if(fe.childNodes.length===0)return!1;var me=ae(fe);return["block","list-item"].indexOf(me.display)>-1}function J(fe,me,Ee){return fe.nodeType===fe.TEXT_NODE?Ee.reduce(function(Te,ye){return ye(fe,Te)},new g.default):fe.nodeType===fe.ELEMENT_NODE?[].reduce.call(fe.childNodes||[],function(Te,ye){var ze=J(ye,me,Ee);return ye.nodeType===fe.ELEMENT_NODE&&(ze=me.reduce(function($e,He){return He(ye,$e)},ze),ze=(ye[pe]||[]).reduce(function($e,He){return He(ye,$e)},ze)),Te.concat(ze)},new g.default):new g.default}function le(fe,me,Ee){return X(Ee,fe,!0)}function se(fe,me){var Ee=p.default.Attributor.Attribute.keys(fe),Te=p.default.Attributor.Class.keys(fe),ye=p.default.Attributor.Style.keys(fe),ze={};return Ee.concat(Te).concat(ye).forEach(function($e){var He=p.default.query($e,p.default.Scope.ATTRIBUTE);He!=null&&(ze[He.attrName]=He.value(fe),ze[He.attrName])||(He=Z[$e],He!=null&&(He.attrName===$e||He.keyName===$e)&&(ze[He.attrName]=He.value(fe)||void 0),He=H[$e],He!=null&&(He.attrName===$e||He.keyName===$e)&&(He=H[$e],ze[He.attrName]=He.value(fe)||void 0))}),Object.keys(ze).length>0&&(me=X(me,ze)),me}function ge(fe,me){var Ee=p.default.query(fe);if(Ee==null)return me;if(Ee.prototype instanceof p.default.Embed){var Te={},ye=Ee.value(fe);ye!=null&&(Te[Ee.blotName]=ye,me=new g.default().insert(Te,Ee.formats(fe)))}else typeof Ee.formats=="function"&&(me=X(me,Ee.blotName,Ee.formats(fe)));return me}function we(fe,me){return ne(me,`
`)||me.insert(`
`),me}function Be(){return new g.default}function Ve(fe,me){var Ee=p.default.query(fe);if(Ee==null||Ee.blotName!=="list-item"||!ne(me,`
`))return me;for(var Te=-1,ye=fe.parentNode;!ye.classList.contains("ql-clipboard");)(p.default.query(ye)||{}).blotName==="list"&&(Te+=1),ye=ye.parentNode;return Te<=0?me:me.compose(new g.default().retain(me.length()-1).retain(1,{indent:Te}))}function Ue(fe,me){return ne(me,`
`)||(W(fe)||me.length()>0&&fe.nextSibling&&W(fe.nextSibling))&&me.insert(`
`),me}function Ae(fe,me){if(W(fe)&&fe.nextElementSibling!=null&&!ne(me,`

`)){var Ee=fe.offsetHeight+parseFloat(ae(fe).marginTop)+parseFloat(ae(fe).marginBottom);fe.nextElementSibling.offsetTop>fe.offsetTop+Ee*1.5&&me.insert(`
`)}return me}function nt(fe,me){var Ee={},Te=fe.style||{};return Te.fontStyle&&ae(fe).fontStyle==="italic"&&(Ee.italic=!0),Te.fontWeight&&(ae(fe).fontWeight.startsWith("bold")||parseInt(ae(fe).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(me=X(me,Ee)),parseFloat(Te.textIndent||0)>0&&(me=new g.default().insert("	").concat(me)),me}function et(fe,me){var Ee=fe.data;if(fe.parentNode.tagName==="O:P")return me.insert(Ee.trim());if(Ee.trim().length===0&&fe.parentNode.classList.contains("ql-clipboard"))return me;if(!ae(fe.parentNode).whiteSpace.startsWith("pre")){var Te=function(ze,$e){return $e=$e.replace(/[^\u00a0]/g,""),$e.length<1&&ze?" ":$e};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,Te.bind(Te,!0)),(fe.previousSibling==null&&W(fe.parentNode)||fe.previousSibling!=null&&W(fe.previousSibling))&&(Ee=Ee.replace(/^\s+/,Te.bind(Te,!1))),(fe.nextSibling==null&&W(fe.parentNode)||fe.nextSibling!=null&&W(fe.nextSibling))&&(Ee=Ee.replace(/\s+$/,Te.bind(Te,!1)))}return me.insert(Ee)}a.default=K,a.matchAttributor=se,a.matchBlot=ge,a.matchNewline=Ue,a.matchSpacing=Ae,a.matchText=et},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function C(E,O){for(var k=0;k<O.length;k++){var x=O[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,k){return O&&C(E.prototype,O),k&&C(E,k),E}}(),h=function C(E,O,k){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:C(N,O,k)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(k)}},d=c(6),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(){return S(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return b(E,[{key:"optimize",value:function(k){h(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,k),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return h(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),E}(v.default);p.blotName="bold",p.tagName=["STRONG","B"],a.default=p},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var b=function(){function I(P,B){var j=[],V=!0,oe=!1,ie=void 0;try{for(var pe=P[Symbol.iterator](),te;!(V=(te=pe.next()).done)&&(j.push(te.value),!(B&&j.length===B));V=!0);}catch(Z){oe=!0,ie=Z}finally{try{!V&&pe.return&&pe.return()}finally{if(oe)throw ie}}return j}return function(P,B){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return I(P,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function I(P,B){for(var j=0;j<B.length;j++){var V=B[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}return function(P,B,j){return B&&I(P.prototype,B),j&&I(P,j),P}}(),d=c(2),v=k(d),w=c(0),S=k(w),g=c(5),m=k(g),p=c(10),C=k(p),E=c(9),O=k(E);function k(I){return I&&I.__esModule?I:{default:I}}function x(I,P,B){return P in I?Object.defineProperty(I,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):I[P]=B,I}function N(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function y(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function A(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var q=(0,C.default)("quill:toolbar"),R=function(I){A(P,I);function P(B,j){N(this,P);var V=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,B,j));if(Array.isArray(V.options.container)){var oe=document.createElement("div");U(oe,V.options.container),B.container.parentNode.insertBefore(oe,B.container),V.container=oe}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var ie;return ie=q.error("Container required for toolbar",V.options),y(V,ie)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(pe){V.addHandler(pe,V.options.handlers[pe])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(pe){V.attach(pe)}),V.quill.on(m.default.events.EDITOR_CHANGE,function(pe,te){pe===m.default.events.SELECTION_CHANGE&&V.update(te)}),V.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var pe=V.quill.selection.getRange(),te=b(pe,1),Z=te[0];V.update(Z)}),V}return h(P,[{key:"addHandler",value:function(j,V){this.handlers[j]=V}},{key:"attach",value:function(j){var V=this,oe=[].find.call(j.classList,function(pe){return pe.indexOf("ql-")===0});if(!!oe){if(oe=oe.slice("ql-".length),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[oe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[oe]==null){q.warn("ignoring attaching to disabled format",oe,j);return}if(S.default.query(oe)==null){q.warn("ignoring attaching to nonexistent format",oe,j);return}}var ie=j.tagName==="SELECT"?"change":"click";j.addEventListener(ie,function(pe){var te=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var Z=j.options[j.selectedIndex];Z.hasAttribute("selected")?te=!1:te=Z.value||!1}else j.classList.contains("ql-active")?te=!1:te=j.value||!j.hasAttribute("value"),pe.preventDefault();V.quill.focus();var H=V.quill.selection.getRange(),K=b(H,1),X=K[0];if(V.handlers[oe]!=null)V.handlers[oe].call(V,te);else if(S.default.query(oe).prototype instanceof S.default.Embed){if(te=prompt("Enter "+oe),!te)return;V.quill.updateContents(new v.default().retain(X.index).delete(X.length).insert(x({},oe,te)),m.default.sources.USER)}else V.quill.format(oe,te,m.default.sources.USER);V.update(X)}),this.controls.push([oe,j])}}},{key:"update",value:function(j){var V=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(oe){var ie=b(oe,2),pe=ie[0],te=ie[1];if(te.tagName==="SELECT"){var Z=void 0;if(j==null)Z=null;else if(V[pe]==null)Z=te.querySelector("option[selected]");else if(!Array.isArray(V[pe])){var H=V[pe];typeof H=="string"&&(H=H.replace(/\"/g,'\\"')),Z=te.querySelector('option[value="'+H+'"]')}Z==null?(te.value="",te.selectedIndex=-1):Z.selected=!0}else if(j==null)te.classList.remove("ql-active");else if(te.hasAttribute("value")){var K=V[pe]===te.getAttribute("value")||V[pe]!=null&&V[pe].toString()===te.getAttribute("value")||V[pe]==null&&!te.getAttribute("value");te.classList.toggle("ql-active",K)}else te.classList.toggle("ql-active",V[pe]!=null)})}}]),P}(O.default);R.DEFAULTS={};function z(I,P,B){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+P),B!=null&&(j.value=B),I.appendChild(j)}function U(I,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(B){var j=document.createElement("span");j.classList.add("ql-formats"),B.forEach(function(V){if(typeof V=="string")z(j,V);else{var oe=Object.keys(V)[0],ie=V[oe];Array.isArray(ie)?F(j,oe,ie):z(j,oe,ie)}}),I.appendChild(j)})}function F(I,P,B){var j=document.createElement("select");j.classList.add("ql-"+P),B.forEach(function(V){var oe=document.createElement("option");V!==!1?oe.setAttribute("value",V):oe.setAttribute("selected","selected"),j.appendChild(oe)}),I.appendChild(j)}R.DEFAULTS={container:null,handlers:{clean:function(){var P=this,B=this.quill.getSelection();if(B!=null)if(B.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(V){S.default.query(V,S.default.Scope.INLINE)!=null&&P.quill.format(V,!1)})}else this.quill.removeFormat(B,m.default.sources.USER)},direction:function(P){var B=this.quill.getFormat().align;P==="rtl"&&B==null?this.quill.format("align","right",m.default.sources.USER):!P&&B==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",P,m.default.sources.USER)},indent:function(P){var B=this.quill.getSelection(),j=this.quill.getFormat(B),V=parseInt(j.indent||0);if(P==="+1"||P==="-1"){var oe=P==="+1"?1:-1;j.direction==="rtl"&&(oe*=-1),this.quill.format("indent",V+oe,m.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,m.default.sources.USER)},list:function(P){var B=this.quill.getSelection(),j=this.quill.getFormat(B);P==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",P,m.default.sources.USER)}}},a.default=R,a.addControls=U},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function C(E,O){for(var k=0;k<O.length;k++){var x=O[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,k){return O&&C(E.prototype,O),k&&C(E,k),E}}(),h=function C(E,O,k){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:C(N,O,k)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(k)}},d=c(28),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(O,k){S(this,E);var x=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O));return x.label.innerHTML=k,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(N){N.classList.add("ql-primary")}),x}return b(E,[{key:"buildItem",value:function(k){var x=h(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"buildItem",this).call(this,k);return x.style.backgroundColor=k.getAttribute("value")||"",x}},{key:"selectItem",value:function(k,x){h(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,k,x);var N=this.label.querySelector(".ql-color-label"),y=k&&k.getAttribute("data-value")||"";N&&(N.tagName==="line"?N.style.stroke=y:N.style.fill=y)}}]),E}(v.default);a.default=p},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function C(E,O){for(var k=0;k<O.length;k++){var x=O[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,k){return O&&C(E.prototype,O),k&&C(E,k),E}}(),h=function C(E,O,k){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:C(N,O,k)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(k)}},d=c(28),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(O,k){S(this,E);var x=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(N){N.innerHTML=k[N.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return b(E,[{key:"selectItem",value:function(k,x){h(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,k,x),k=k||this.defaultItem,this.label.innerHTML=k.innerHTML}}]),E}(v.default);a.default=p},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function v(w,S){for(var g=0;g<S.length;g++){var m=S[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,S,g){return S&&v(w.prototype,S),g&&v(w,g),w}}();function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(w,S){var g=this;h(this,v),this.quill=w,this.boundsContainer=S||document.body,this.root=w.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return b(v,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(S){var g=S.left+S.width/2-this.root.offsetWidth/2,m=S.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),C=this.root.getBoundingClientRect(),E=0;if(C.right>p.right&&(E=p.right-C.right,this.root.style.left=g+E+"px"),C.left<p.left&&(E=p.left-C.left,this.root.style.left=g+E+"px"),C.bottom>p.bottom){var O=C.bottom-C.top,k=S.bottom-S.top+O;this.root.style.top=m-k+"px",this.root.classList.add("ql-flip")}return E}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),v}();a.default=d},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function F(I,P){var B=[],j=!0,V=!1,oe=void 0;try{for(var ie=I[Symbol.iterator](),pe;!(j=(pe=ie.next()).done)&&(B.push(pe.value),!(P&&B.length===P));j=!0);}catch(te){V=!0,oe=te}finally{try{!j&&ie.return&&ie.return()}finally{if(V)throw oe}}return B}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return F(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function F(I,P,B){I===null&&(I=Function.prototype);var j=Object.getOwnPropertyDescriptor(I,P);if(j===void 0){var V=Object.getPrototypeOf(I);return V===null?void 0:F(V,P,B)}else{if("value"in j)return j.value;var oe=j.get;return oe===void 0?void 0:oe.call(B)}},d=function(){function F(I,P){for(var B=0;B<P.length;B++){var j=P[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,P,B){return P&&F(I.prototype,P),B&&F(I,B),I}}(),v=c(3),w=N(v),S=c(8),g=N(S),m=c(43),p=N(m),C=c(27),E=N(C),O=c(15),k=c(41),x=N(k);function N(F){return F&&F.__esModule?F:{default:F}}function y(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function A(F,I){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:F}function q(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);F.prototype=Object.create(I&&I.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(F,I):F.__proto__=I)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],z=function(F){q(I,F);function I(P,B){y(this,I),B.modules.toolbar!=null&&B.modules.toolbar.container==null&&(B.modules.toolbar.container=R);var j=A(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,B));return j.quill.container.classList.add("ql-snow"),j}return d(I,[{key:"extendToolbar",value:function(B){B.container.classList.add("ql-snow"),this.buildButtons([].slice.call(B.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(B.container.querySelectorAll("select")),x.default),this.tooltip=new U(this.quill,this.options.bounds),B.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,V){B.handlers.link.call(B,!V.format.link)})}}]),I}(p.default);z.DEFAULTS=(0,w.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var P=this.quill.getSelection();if(P==null||P.length==0)return;var B=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(B)&&B.indexOf("mailto:")!==0&&(B="mailto:"+B);var j=this.quill.theme.tooltip;j.edit("link",B)}else this.quill.format("link",!1)}}}}});var U=function(F){q(I,F);function I(P,B){y(this,I);var j=A(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,B));return j.preview=j.root.querySelector("a.ql-preview"),j}return d(I,[{key:"listen",value:function(){var B=this;h(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){B.root.classList.contains("ql-editing")?B.save():B.edit("link",B.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(B.linkRange!=null){var V=B.linkRange;B.restoreFocus(),B.quill.formatText(V,"link",!1,g.default.sources.USER),delete B.linkRange}j.preventDefault(),B.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(j,V,oe){if(j!=null){if(j.length===0&&oe===g.default.sources.USER){var ie=B.quill.scroll.descendant(E.default,j.index),pe=b(ie,2),te=pe[0],Z=pe[1];if(te!=null){B.linkRange=new O.Range(j.index-Z,te.length());var H=E.default.formats(te.domNode);B.preview.textContent=H,B.preview.setAttribute("href",H),B.show(),B.position(B.quill.getBounds(B.linkRange));return}}else delete B.linkRange;B.hide()}})}},{key:"show",value:function(){h(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(m.BaseTooltip);U.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=z},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(29),h=ye(b),d=c(36),v=c(38),w=c(64),S=c(65),g=ye(S),m=c(66),p=ye(m),C=c(67),E=ye(C),O=c(37),k=c(26),x=c(39),N=c(40),y=c(56),A=ye(y),q=c(68),R=ye(q),z=c(27),U=ye(z),F=c(69),I=ye(F),P=c(70),B=ye(P),j=c(71),V=ye(j),oe=c(72),ie=ye(oe),pe=c(73),te=ye(pe),Z=c(13),H=ye(Z),K=c(74),X=ye(K),ae=c(75),ne=ye(ae),W=c(57),J=ye(W),le=c(41),se=ye(le),ge=c(28),we=ye(ge),Be=c(59),Ve=ye(Be),Ue=c(60),Ae=ye(Ue),nt=c(61),et=ye(nt),fe=c(108),me=ye(fe),Ee=c(62),Te=ye(Ee);function ye(ze){return ze&&ze.__esModule?ze:{default:ze}}h.default.register({"attributors/attribute/direction":v.DirectionAttribute,"attributors/class/align":d.AlignClass,"attributors/class/background":O.BackgroundClass,"attributors/class/color":k.ColorClass,"attributors/class/direction":v.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":N.SizeClass,"attributors/style/align":d.AlignStyle,"attributors/style/background":O.BackgroundStyle,"attributors/style/color":k.ColorStyle,"attributors/style/direction":v.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":N.SizeStyle},!0),h.default.register({"formats/align":d.AlignClass,"formats/direction":v.DirectionClass,"formats/indent":w.IndentClass,"formats/background":O.BackgroundStyle,"formats/color":k.ColorStyle,"formats/font":x.FontClass,"formats/size":N.SizeClass,"formats/blockquote":g.default,"formats/code-block":H.default,"formats/header":p.default,"formats/list":E.default,"formats/bold":A.default,"formats/code":Z.Code,"formats/italic":R.default,"formats/link":U.default,"formats/script":I.default,"formats/strike":B.default,"formats/underline":V.default,"formats/image":ie.default,"formats/video":te.default,"formats/list/item":C.ListItem,"modules/formula":X.default,"modules/syntax":ne.default,"modules/toolbar":J.default,"themes/bubble":me.default,"themes/snow":Te.default,"ui/icons":se.default,"ui/picker":we.default,"ui/icon-picker":Ae.default,"ui/color-picker":Ve.default,"ui/tooltip":et.default},!0),a.default=h.default},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var b=function(){function E(O,k){for(var x=0;x<k.length;x++){var N=k[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,k,x){return k&&E(O.prototype,k),x&&E(O,x),O}}(),h=function E(O,k,x){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,k);if(N===void 0){var y=Object.getPrototypeOf(O);return y===null?void 0:E(y,k,x)}else{if("value"in N)return N.value;var A=N.get;return A===void 0?void 0:A.call(x)}},d=c(0),v=w(d);function w(E){return E&&E.__esModule?E:{default:E}}function S(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function g(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function m(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var p=function(E){m(O,E);function O(){return S(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return b(O,[{key:"add",value:function(x,N){if(N==="+1"||N==="-1"){var y=this.value(x)||0;N=N==="+1"?y+1:y-1}return N===0?(this.remove(x),!0):h(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"add",this).call(this,x,N)}},{key:"canAdd",value:function(x,N){return h(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,x,N)||h(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,x,parseInt(N))}},{key:"value",value:function(x){return parseInt(h(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,x))||void 0}}]),O}(v.default.Attributor.Class),C=new p("indent","ql-indent",{scope:v.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=C},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(4),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function S(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){S(p,m);function p(){return v(this,p),w(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(h.default);g.blotName="blockquote",g.tagName="blockquote",a.default=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function p(C,E){for(var O=0;O<E.length;O++){var k=E[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,E,O){return E&&p(C.prototype,E),O&&p(C,O),C}}(),h=c(4),d=v(h);function v(p){return p&&p.__esModule?p:{default:p}}function w(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function S(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:p}function g(p,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}var m=function(p){g(C,p);function C(){return w(this,C),S(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return b(C,null,[{key:"formats",value:function(O){return this.tagName.indexOf(O.tagName)+1}}]),C}(d.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],a.default=m},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var b=function(){function y(A,q){for(var R=0;R<q.length;R++){var z=q[R];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(A,z.key,z)}}return function(A,q,R){return q&&y(A.prototype,q),R&&y(A,R),A}}(),h=function y(A,q,R){A===null&&(A=Function.prototype);var z=Object.getOwnPropertyDescriptor(A,q);if(z===void 0){var U=Object.getPrototypeOf(A);return U===null?void 0:y(U,q,R)}else{if("value"in z)return z.value;var F=z.get;return F===void 0?void 0:F.call(R)}},d=c(0),v=p(d),w=c(4),S=p(w),g=c(25),m=p(g);function p(y){return y&&y.__esModule?y:{default:y}}function C(y,A,q){return A in y?Object.defineProperty(y,A,{value:q,enumerable:!0,configurable:!0,writable:!0}):y[A]=q,y}function E(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function O(y,A){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:y}function k(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(y,A):y.__proto__=A)}var x=function(y){k(A,y);function A(){return E(this,A),O(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return b(A,[{key:"format",value:function(R,z){R===N.blotName&&!z?this.replaceWith(v.default.create(this.statics.scope)):h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,R,z)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,z){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,z),this):(this.parent.unwrap(),h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,R,z))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:h(A.__proto__||Object.getPrototypeOf(A),"formats",this).call(this,R)}}]),A}(S.default);x.blotName="list-item",x.tagName="LI";var N=function(y){k(A,y),b(A,null,[{key:"create",value:function(R){var z=R==="ordered"?"OL":"UL",U=h(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,z);return(R==="checked"||R==="unchecked")&&U.setAttribute("data-checked",R==="checked"),U}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function A(q){E(this,A);var R=O(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,q)),z=function(F){if(F.target.parentNode===q){var I=R.statics.formats(q),P=v.default.find(F.target);I==="checked"?P.format("list","unchecked"):I==="unchecked"&&P.format("list","checked")}};return q.addEventListener("touchstart",z),q.addEventListener("mousedown",z),R}return b(A,[{key:"format",value:function(R,z){this.children.length>0&&this.children.tail.format(R,z)}},{key:"formats",value:function(){return C({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,z){if(R instanceof x)h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,z);else{var U=z==null?this.length():z.offset(this),F=this.split(U);F.parent.insertBefore(R,F)}}},{key:"optimize",value:function(R){h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R);var z=this.next;z!=null&&z.prev===this&&z.statics.blotName===this.statics.blotName&&z.domNode.tagName===this.domNode.tagName&&z.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(z.moveChildren(this),z.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var z=v.default.create(this.statics.defaultChild);R.moveChildren(z),this.appendChild(z)}h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,R)}}]),A}(m.default);N.blotName="list",N.scope=v.default.Scope.BLOCK_BLOT,N.tagName=["OL","UL"],N.defaultChild="list-item",N.allowedChildren=[x],a.ListItem=x,a.default=N},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(56),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function S(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){S(p,m);function p(){return v(this,p),w(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(h.default);g.blotName="italic",g.tagName=["EM","I"],a.default=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function C(E,O){for(var k=0;k<O.length;k++){var x=O[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,k){return O&&C(E.prototype,O),k&&C(E,k),E}}(),h=function C(E,O,k){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:C(N,O,k)}else{if("value"in x)return x.value;var y=x.get;return y===void 0?void 0:y.call(k)}},d=c(6),v=w(d);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function m(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var p=function(C){m(E,C);function E(){return S(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return b(E,null,[{key:"create",value:function(k){return k==="super"?document.createElement("sup"):k==="sub"?document.createElement("sub"):h(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,k)}},{key:"formats",value:function(k){if(k.tagName==="SUB")return"sub";if(k.tagName==="SUP")return"super"}}]),E}(v.default);p.blotName="script",p.tagName=["SUB","SUP"],a.default=p},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(6),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function S(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){S(p,m);function p(){return v(this,p),w(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(h.default);g.blotName="strike",g.tagName="S",a.default=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=c(6),h=d(b);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function S(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){S(p,m);function p(){return v(this,p),w(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(h.default);g.blotName="underline",g.tagName="U",a.default=g},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function O(k,x){for(var N=0;N<x.length;N++){var y=x[N];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}return function(k,x,N){return x&&O(k.prototype,x),N&&O(k,N),k}}(),h=function O(k,x,N){k===null&&(k=Function.prototype);var y=Object.getOwnPropertyDescriptor(k,x);if(y===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:O(A,x,N)}else{if("value"in y)return y.value;var q=y.get;return q===void 0?void 0:q.call(N)}},d=c(0),v=S(d),w=c(27);function S(O){return O&&O.__esModule?O:{default:O}}function g(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function m(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function p(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var C=["alt","height","width"],E=function(O){p(k,O);function k(){return g(this,k),m(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return b(k,[{key:"format",value:function(N,y){C.indexOf(N)>-1?y?this.domNode.setAttribute(N,y):this.domNode.removeAttribute(N):h(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,N,y)}}],[{key:"create",value:function(N){var y=h(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,N);return typeof N=="string"&&y.setAttribute("src",this.sanitize(N)),y}},{key:"formats",value:function(N){return C.reduce(function(y,A){return N.hasAttribute(A)&&(y[A]=N.getAttribute(A)),y},{})}},{key:"match",value:function(N){return/\.(jpe?g|gif|png)$/.test(N)||/^data:image\/.+;base64/.test(N)}},{key:"sanitize",value:function(N){return(0,w.sanitize)(N,["http","https","data"])?N:"//:0"}},{key:"value",value:function(N){return N.getAttribute("src")}}]),k}(v.default.Embed);E.blotName="image",E.tagName="IMG",a.default=E},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){function O(k,x){for(var N=0;N<x.length;N++){var y=x[N];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,y.key,y)}}return function(k,x,N){return x&&O(k.prototype,x),N&&O(k,N),k}}(),h=function O(k,x,N){k===null&&(k=Function.prototype);var y=Object.getOwnPropertyDescriptor(k,x);if(y===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:O(A,x,N)}else{if("value"in y)return y.value;var q=y.get;return q===void 0?void 0:q.call(N)}},d=c(4),v=c(27),w=S(v);function S(O){return O&&O.__esModule?O:{default:O}}function g(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function m(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function p(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var C=["height","width"],E=function(O){p(k,O);function k(){return g(this,k),m(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return b(k,[{key:"format",value:function(N,y){C.indexOf(N)>-1?y?this.domNode.setAttribute(N,y):this.domNode.removeAttribute(N):h(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,N,y)}}],[{key:"create",value:function(N){var y=h(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,N);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(N)),y}},{key:"formats",value:function(N){return C.reduce(function(y,A){return N.hasAttribute(A)&&(y[A]=N.getAttribute(A)),y},{})}},{key:"sanitize",value:function(N){return w.default.sanitize(N)}},{key:"value",value:function(N){return N.getAttribute("src")}}]),k}(d.BlockEmbed);E.blotName="video",E.className="ql-video",E.tagName="IFRAME",a.default=E},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var b=function(){function N(y,A){for(var q=0;q<A.length;q++){var R=A[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(y,R.key,R)}}return function(y,A,q){return A&&N(y.prototype,A),q&&N(y,q),y}}(),h=function N(y,A,q){y===null&&(y=Function.prototype);var R=Object.getOwnPropertyDescriptor(y,A);if(R===void 0){var z=Object.getPrototypeOf(y);return z===null?void 0:N(z,A,q)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(q)}},d=c(35),v=p(d),w=c(5),S=p(w),g=c(9),m=p(g);function p(N){return N&&N.__esModule?N:{default:N}}function C(N,y){if(!(N instanceof y))throw new TypeError("Cannot call a class as a function")}function E(N,y){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:N}function O(N,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);N.prototype=Object.create(y&&y.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(N,y):N.__proto__=y)}var k=function(N){O(y,N);function y(){return C(this,y),E(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return b(y,null,[{key:"create",value:function(q){var R=h(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,q);return typeof q=="string"&&(window.katex.render(q,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",q)),R}},{key:"value",value:function(q){return q.getAttribute("data-value")}}]),y}(v.default);k.blotName="formula",k.className="ql-formula",k.tagName="SPAN";var x=function(N){O(y,N),b(y,null,[{key:"register",value:function(){S.default.register(k,!0)}}]);function y(){C(this,y);var A=E(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return A}return y}(m.default);a.FormulaBlot=k,a.default=x},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var b=function(){function q(R,z){for(var U=0;U<z.length;U++){var F=z[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,z,U){return z&&q(R.prototype,z),U&&q(R,U),R}}(),h=function q(R,z,U){R===null&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,z);if(F===void 0){var I=Object.getPrototypeOf(R);return I===null?void 0:q(I,z,U)}else{if("value"in F)return F.value;var P=F.get;return P===void 0?void 0:P.call(U)}},d=c(0),v=E(d),w=c(5),S=E(w),g=c(9),m=E(g),p=c(13),C=E(p);function E(q){return q&&q.__esModule?q:{default:q}}function O(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function k(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:q}function x(q,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var N=function(q){x(R,q);function R(){return O(this,R),k(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return b(R,[{key:"replaceWith",value:function(U){this.domNode.textContent=this.domNode.textContent,this.attach(),h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,U)}},{key:"highlight",value:function(U){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=U(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),R}(C.default);N.className="ql-syntax";var y=new v.default.Attributor.Class("token","hljs",{scope:v.default.Scope.INLINE}),A=function(q){x(R,q),b(R,null,[{key:"register",value:function(){S.default.register(y,!0),S.default.register(N,!0)}}]);function R(z,U){O(this,R);var F=k(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,z,U));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return F.quill.on(S.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){F.highlight(),I=null},F.options.interval)}),F.highlight(),F}return b(R,[{key:"highlight",value:function(){var U=this;if(!this.quill.selection.composing){this.quill.update(S.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(N).forEach(function(I){I.highlight(U.options.highlight)}),this.quill.update(S.default.sources.SILENT),F!=null&&this.quill.setSelection(F,S.default.sources.SILENT)}}}]),R}(m.default);A.DEFAULTS={highlight:function(){return window.hljs==null?null:function(q){var R=window.hljs.highlightAuto(q);return R.value}}(),interval:1e3},a.CodeBlock=N,a.CodeToken=y,a.default=A},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(o,a){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(o,a){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(o,a){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(o,a){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(o,a){o.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(o,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var b=function R(z,U,F){z===null&&(z=Function.prototype);var I=Object.getOwnPropertyDescriptor(z,U);if(I===void 0){var P=Object.getPrototypeOf(z);return P===null?void 0:R(P,U,F)}else{if("value"in I)return I.value;var B=I.get;return B===void 0?void 0:B.call(F)}},h=function(){function R(z,U){for(var F=0;F<U.length;F++){var I=U[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(z,I.key,I)}}return function(z,U,F){return U&&R(z.prototype,U),F&&R(z,F),z}}(),d=c(3),v=O(d),w=c(8),S=O(w),g=c(43),m=O(g),p=c(15),C=c(41),E=O(C);function O(R){return R&&R.__esModule?R:{default:R}}function k(R,z){if(!(R instanceof z))throw new TypeError("Cannot call a class as a function")}function x(R,z){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:R}function N(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);R.prototype=Object.create(z&&z.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(R,z):R.__proto__=z)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(R){N(z,R);function z(U,F){k(this,z),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=y);var I=x(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,U,F));return I.quill.container.classList.add("ql-bubble"),I}return h(z,[{key:"extendToolbar",value:function(F){this.tooltip=new q(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),E.default)}}]),z}(m.default);A.DEFAULTS=(0,v.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(z){z?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var q=function(R){N(z,R);function z(U,F){k(this,z);var I=x(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,U,F));return I.quill.on(S.default.events.EDITOR_CHANGE,function(P,B,j,V){if(P===S.default.events.SELECTION_CHANGE)if(B!=null&&B.length>0&&V===S.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var oe=I.quill.getLines(B.index,B.length);if(oe.length===1)I.position(I.quill.getBounds(B));else{var ie=oe[oe.length-1],pe=I.quill.getIndex(ie),te=Math.min(ie.length()-1,B.index+B.length-pe),Z=I.quill.getBounds(new p.Range(pe,te));I.position(Z)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return h(z,[{key:"listen",value:function(){var F=this;b(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(S.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var I=F.quill.getSelection();I!=null&&F.position(F.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var I=b(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"position",this).call(this,F),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",I===0)return I;P.style.marginLeft=-1*I-P.offsetWidth/2+"px"}}]),z}(g.BaseTooltip);q.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=q,a.default=A},function(o,a,c){o.exports=c(63)}]).default})})(la);var of=Qu(la.exports);const lf={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert content here ...",readOnly:!1},af={name:"quill-editor",props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:()=>({})}},emits:["ready","change","input","blur","focus","update:value"],setup(u,s){const o={editorOption:{},quill:null};let a="";i.watch(()=>u.value,d=>{o.quill&&(d&&d!==a?(a=d,o.quill.pasteHTML(d)):d||o.quill.setText(""))}),i.watch(()=>u.content,d=>{o.quill&&(d&&d!==a?(a=d,o.quill.pasteHTML(d)):d||o.quill.setText(""))}),i.watch(()=>u.disabled,d=>{o.quill&&o.quill.enable(!d)}),i.watch(()=>u.options.placeholder,d=>{o.quill&&(o.quill.root.dataset.placeholder=d)});const c=i.ref(null),b=(d,v)=>{for(const w in v)!d[w]||w!=="modules"?d[w]=v[w]:b(d[w],v[w]);return d},h=()=>{c.value&&(o.editorOption=b(lf,u.options),o.quill=new of(c.value,o.editorOption),u.value&&o.quill.pasteHTML(u.value),o.quill.on("selection-change",d=>{d?s.emit("focus",o.quill):s.emit("blur",o.quill)}),o.quill.on("text-change",()=>{u.disabled&&o.quill.enable(!1);let d=c.value.children[0].innerHTML;const v=o.quill,w=o.quill.getText();d==="<p><br></p>"&&(d=""),a=d,s.emit("update:value",a),s.emit("change",{html:d,text:w,quill:v})}),s.emit("ready",o.quill))};return i.onBeforeUnmount(()=>{const d=c.value.previousSibling;d&&d.className.indexOf("ql-toolbar")>-1&&d.parentNode.removeChild(d)}),i.onMounted(()=>{h()}),i.onUnmounted(()=>{o.quill=null}),{editor:c}}},sf={ref:"editor"};function uf(u,s,o,a,c,b){return i.openBlock(),i.createElementBlock("section",sf,null,512)}var aa=he(af,[["render",uf]]);let gr=[];function ff(){return window.tinymce}const cf=(u,s)=>{const o=document.getElementById(u),a=s||function(){};if(!o){const h=document.createElement("script");h.src=u,h.id=u,document.body.appendChild(h),gr.push(a),("onload"in h?c:b)(h)}o&&a&&(ff()?a(null,o):gr.push(a));function c(h){h.onload=function(){this.onerror=this.onload=null;for(const d of gr)d(null,h);gr=null},h.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+u),h)}}function b(h){h.onreadystatechange=function(){if(!(this.readyState!=="complete"&&this.readyState!=="loaded")){this.onreadystatechange=null;for(const d of gr)d(null,h);gr=null}}}};var ox="",ix="";const df="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",hf=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],pf=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],mf={name:"tinymce-editor",components:{},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+((Math.random()*1e3).toFixed(0)+"")}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"},readOnly:{type:Boolean,default:!1}},setup(u,{emit:s}){let o=i.reactive({hasChange:!1,hasInit:!1,tinymceId:u.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}});const a=()=>{window.tinymce.init({selector:`#${o.tinymceId}`,content_style:"p {margin: 0px; border:0px ; padding: 4px;}",language:o.languageTypeList.zh,height:u.height,body_class:"panel-body ",object_resizing:!1,readonly:u.readOnly,statusbar:!u.readOnly,toolbar:u.readOnly?!1:u.toolbar.length>0?u.toolbar:pf,menubar:u.readOnly?!1:u.menubar,plugins:u.readOnly?!1:hf,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,plugin_preview_width:"500",plugin_preview_height:"600",advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:g=>{u.value&&g.setContent(u.value),o.hasInit=!0,g.on("NodeChange Change KeyUp SetContent",()=>{o.hasChange=!0,s("input",g.getContent())})},setup(g){g.on("FullscreenStateChanged",m=>{o.fullscreen=m.state})},file_picker_types:"file image media",convert_urls:!1})},c=()=>{cf(df,g=>{if(g){Q.ElMessage.error(g.message);return}a()})},b=g=>{window.tinymce.get(o.tinymceId).setContent(g)},h=()=>window.tinymce.get(o.tinymceId).getContent(),d=()=>{const g=window.tinymce.get(o.tinymceId);o.fullscreen&&g.execCommand("mceFullScreen"),g&&g.destroy()},v=i.computed(()=>{const g=u.width;return/^[\d]+(\.[\d]+)?$/.test(g)?`${g}px`:g});i.watch(()=>u.value,()=>{!o.hasChange&&o.hasInit&&i.nextTick(()=>{window.tinymce.get(o.tinymceId).setContent(u.value||"")})},{immediate:!0}),i.onMounted(()=>{c()}),i.onBeforeUnmount(()=>{d()});let{tinymceId:w,fullscreen:S}=i.toRefs(o);return{tinymceId:w,fullscreen:S,containerWidth:v,setContent:b,getContent:h}}},gf=["id"];function vf(u,s,o,a,c,b){return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass([{fullscreen:a.fullscreen},"tinymce-container"]),style:i.normalizeStyle({width:a.containerWidth})},[i.createElementVNode("textarea",{id:a.tinymceId,class:"tinymce-textarea"},null,8,gf)],6)}var sa=he(mf,[["render",vf],["__scopeId","data-v-25e56352"]]);/*!
 * Signature Pad v4.0.0 | https://github.com/szimek/signature_pad
 * (c) 2021 Szymon Nowak | Released under the MIT license
 */class zo{constructor(s,o,a,c){if(isNaN(s)||isNaN(o))throw new Error(`Point is invalid: (${s}, ${o})`);this.x=+s,this.y=+o,this.pressure=a||0,this.time=c||Date.now()}distanceTo(s){return Math.sqrt(Math.pow(this.x-s.x,2)+Math.pow(this.y-s.y,2))}equals(s){return this.x===s.x&&this.y===s.y&&this.pressure===s.pressure&&this.time===s.time}velocityFrom(s){return this.time!==s.time?this.distanceTo(s)/(this.time-s.time):0}}class Hi{constructor(s,o,a,c,b,h){this.startPoint=s,this.control2=o,this.control1=a,this.endPoint=c,this.startWidth=b,this.endWidth=h}static fromPoints(s,o){const a=this.calculateControlPoints(s[0],s[1],s[2]).c2,c=this.calculateControlPoints(s[1],s[2],s[3]).c1;return new Hi(s[1],a,c,s[2],o.start,o.end)}static calculateControlPoints(s,o,a){const c=s.x-o.x,b=s.y-o.y,h=o.x-a.x,d=o.y-a.y,v={x:(s.x+o.x)/2,y:(s.y+o.y)/2},w={x:(o.x+a.x)/2,y:(o.y+a.y)/2},S=Math.sqrt(c*c+b*b),g=Math.sqrt(h*h+d*d),m=v.x-w.x,p=v.y-w.y,C=g/(S+g),E={x:w.x+m*C,y:w.y+p*C},O=o.x-E.x,k=o.y-E.y;return{c1:new zo(v.x+O,v.y+k),c2:new zo(w.x+O,w.y+k)}}length(){const s=10;let o=0,a,c;for(let b=0;b<=s;b+=1){const h=b/s,d=this.point(h,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),v=this.point(h,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(b>0){const w=d-a,S=v-c;o+=Math.sqrt(w*w+S*S)}a=d,c=v}return o}point(s,o,a,c,b){return o*(1-s)*(1-s)*(1-s)+3*a*(1-s)*(1-s)*s+3*c*(1-s)*s*s+b*s*s*s}}function yf(u,s=250){let o=0,a=null,c,b,h;const d=()=>{o=Date.now(),a=null,c=u.apply(b,h),a||(b=null,h=[])};return function(...w){const S=Date.now(),g=s-(S-o);return b=this,h=w,g<=0||g>s?(a&&(clearTimeout(a),a=null),o=S,c=u.apply(b,h),a||(b=null,h=[])):a||(a=window.setTimeout(d,g)),c}}class Ho extends EventTarget{constructor(s,o={}){super();this.canvas=s,this.options=o,this._handleMouseDown=a=>{a.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(a))},this._handleMouseMove=a=>{this._drawningStroke&&this._strokeMoveUpdate(a)},this._handleMouseUp=a=>{a.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(a))},this._handleTouchStart=a=>{if(a.preventDefault(),a.targetTouches.length===1){const c=a.changedTouches[0];this._strokeBegin(c)}},this._handleTouchMove=a=>{a.preventDefault();const c=a.targetTouches[0];this._strokeMoveUpdate(c)},this._handleTouchEnd=a=>{if(a.target===this.canvas){a.preventDefault();const b=a.changedTouches[0];this._strokeEnd(b)}},this._handlePointerStart=a=>{this._drawningStroke=!0,a.preventDefault(),this._strokeBegin(a)},this._handlePointerMove=a=>{this._drawningStroke&&(a.preventDefault(),this._strokeMoveUpdate(a))},this._handlePointerEnd=a=>{this._drawningStroke=!1,a.target===this.canvas&&(a.preventDefault(),this._strokeEnd(a))},this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.dotSize=o.dotSize||0,this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?yf(Ho.prototype._strokeUpdate,this.throttle):Ho.prototype._strokeUpdate,this._ctx=s.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:s,canvas:o}=this;s.fillStyle=this.backgroundColor,s.clearRect(0,0,o.width,o.height),s.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(s,o={}){return new Promise((a,c)=>{const b=new Image,h=o.ratio||window.devicePixelRatio||1,d=o.width||this.canvas.width/h,v=o.height||this.canvas.height/h,w=o.xOffset||0,S=o.yOffset||0;this._reset(),b.onload=()=>{this._ctx.drawImage(b,w,S,d,v),a()},b.onerror=g=>{c(g)},b.crossOrigin="anonymous",b.src=s,this._isEmpty=!1})}toDataURL(s="image/png",o){switch(s){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(s,o)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(s,{clear:o=!0}={}){o&&this.clear(),this._fromData(s,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=o?s:this._data.concat(s)}toData(){return this._data}_strokeBegin(s){this.dispatchEvent(new CustomEvent("beginStroke",{detail:s}));const o={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(o),this._reset(),this._strokeUpdate(s)}_strokeUpdate(s){if(this._data.length===0){this._strokeBegin(s);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:s}));const o=s.clientX,a=s.clientY,c=s.pressure!==void 0?s.pressure:s.force!==void 0?s.force:0,b=this._createPoint(o,a,c),h=this._data[this._data.length-1],d=h.points,v=d.length>0&&d[d.length-1],w=v?b.distanceTo(v)<=this.minDistance:!1,{penColor:S,dotSize:g,minWidth:m,maxWidth:p}=h;if(!v||!(v&&w)){const C=this._addPoint(b);v?C&&this._drawCurve(C,{penColor:S,dotSize:g,minWidth:m,maxWidth:p}):this._drawDot(b,{penColor:S,dotSize:g,minWidth:m,maxWidth:p}),d.push({time:b.time,x:b.x,y:b.y,pressure:b.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:s}))}_strokeEnd(s){this._strokeUpdate(s),this.dispatchEvent(new CustomEvent("endStroke",{detail:s}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(s,o,a){const c=this.canvas.getBoundingClientRect();return new zo(s-c.left,o-c.top,a,new Date().getTime())}_addPoint(s){const{_lastPoints:o}=this;if(o.push(s),o.length>2){o.length===3&&o.unshift(o[0]);const a=this._calculateCurveWidths(o[1],o[2]),c=Hi.fromPoints(o,a);return o.shift(),c}return null}_calculateCurveWidths(s,o){const a=this.velocityFilterWeight*o.velocityFrom(s)+(1-this.velocityFilterWeight)*this._lastVelocity,c=this._strokeWidth(a),b={end:c,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=c,b}_strokeWidth(s){return Math.max(this.maxWidth/(s+1),this.minWidth)}_drawCurveSegment(s,o,a){const c=this._ctx;c.moveTo(s,o),c.arc(s,o,a,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(s,o){const a=this._ctx,c=s.endWidth-s.startWidth,b=Math.ceil(s.length())*2;a.beginPath(),a.fillStyle=o.penColor;for(let h=0;h<b;h+=1){const d=h/b,v=d*d,w=v*d,S=1-d,g=S*S,m=g*S;let p=m*s.startPoint.x;p+=3*g*d*s.control1.x,p+=3*S*v*s.control2.x,p+=w*s.endPoint.x;let C=m*s.startPoint.y;C+=3*g*d*s.control1.y,C+=3*S*v*s.control2.y,C+=w*s.endPoint.y;const E=Math.min(s.startWidth+w*c,o.maxWidth);this._drawCurveSegment(p,C,E)}a.closePath(),a.fill()}_drawDot(s,o){const a=this._ctx,c=o.dotSize>0?o.dotSize:(o.minWidth+o.maxWidth)/2;a.beginPath(),this._drawCurveSegment(s.x,s.y,c),a.closePath(),a.fillStyle=o.penColor,a.fill()}_fromData(s,o,a){for(const c of s){const{penColor:b,dotSize:h,minWidth:d,maxWidth:v,points:w}=c;if(w.length>1)for(let S=0;S<w.length;S+=1){const g=w[S],m=new zo(g.x,g.y,g.pressure,g.time);this.penColor=b,S===0&&this._reset();const p=this._addPoint(m);p&&o(p,{penColor:b,dotSize:h,minWidth:d,maxWidth:v})}else this._reset(),a(w[0],{penColor:b,dotSize:h,minWidth:d,maxWidth:v})}}_toSVG(){const s=this._data,o=Math.max(window.devicePixelRatio||1,1),a=0,c=0,b=this.canvas.width/o,h=this.canvas.height/o,d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("width",this.canvas.width.toString()),d.setAttribute("height",this.canvas.height.toString()),this._fromData(s,(p,{penColor:C})=>{const E=document.createElement("path");if(!isNaN(p.control1.x)&&!isNaN(p.control1.y)&&!isNaN(p.control2.x)&&!isNaN(p.control2.y)){const O=`M ${p.startPoint.x.toFixed(3)},${p.startPoint.y.toFixed(3)} C ${p.control1.x.toFixed(3)},${p.control1.y.toFixed(3)} ${p.control2.x.toFixed(3)},${p.control2.y.toFixed(3)} ${p.endPoint.x.toFixed(3)},${p.endPoint.y.toFixed(3)}`;E.setAttribute("d",O),E.setAttribute("stroke-width",(p.endWidth*2.25).toFixed(3)),E.setAttribute("stroke",C),E.setAttribute("fill","none"),E.setAttribute("stroke-linecap","round"),d.appendChild(E)}},(p,{penColor:C,dotSize:E,minWidth:O,maxWidth:k})=>{const x=document.createElement("circle"),N=E>0?E:(O+k)/2;x.setAttribute("r",N.toString()),x.setAttribute("cx",p.x.toString()),x.setAttribute("cy",p.y.toString()),x.setAttribute("fill",C),d.appendChild(x)});const v="data:image/svg+xml;base64,",w=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${a} ${c} ${this.canvas.width} ${this.canvas.height}" width="${b}" height="${h}">`;let S=d.innerHTML;if(S===void 0){const p=document.createElement("dummy"),C=d.childNodes;p.innerHTML="";for(let E=0;E<C.length;E+=1)p.appendChild(C[E].cloneNode(!0));S=p.innerHTML}const g="</svg>",m=w+S+g;return v+btoa(m)}}const Wi=["image/png","image/jpeg","image/svg+xml"],_f=u=>Wi.includes(u),ua=u=>JSON.parse(JSON.stringify(u)),fa={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0},bf={dotSize:(.5+2.5)/2,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7,onBegin:()=>{},onEnd:()=>{}},ca=i.defineComponent({name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},images:{type:Array,default:()=>[]}},data:()=>({signaturePad:{},cacheImages:[],signatureData:fa,onResizeHandler:null}),computed:{propsImagesAndCustomImages(){const u=ua(this.images),s=ua(this.cacheImages);return[...u,...s]}},watch:{options:function(u){Object.keys(u).forEach(s=>{this.signaturePad[s]&&(this.signaturePad[s]=u[s])})}},mounted(){const{options:u}=this,s=this.$refs.signaturePadCanvas,o=new Ho(s,Tt(Tt({},bf),u));this.signaturePad=o,u.resizeHandler&&(this.resizeCanvas=u.resizeHandler.bind(this)),this.onResizeHandler=this.resizeCanvas.bind(this),window.addEventListener("resize",this.onResizeHandler,!1),this.resizeCanvas(),u.beginStroke&&o.addEventListener("beginStroke",u.beginStroke.bind(this)),u.endStroke&&o.addEventListener("endStroke",u.endStroke.bind(this))},beforeUnmount(){this.onResizeHandler&&window.removeEventListener("resize",this.onResizeHandler,!1)},methods:{resizeCanvas(){const u=this.$refs.signaturePadCanvas,s=this.signaturePad.toData(),o=Math.max(window.devicePixelRatio||1,1);u.width=u.offsetWidth*o,u.height=u.offsetHeight*o,u.getContext("2d").scale(o,o),this.signaturePad.clear(),this.signatureData=fa,this.signaturePad.fromData(s)},saveSignature(u=Wi[0],s){const{signaturePad:o}=this,a={isEmpty:!1,data:void 0};if(!_f(u)){const c=Wi.join(", ");throw new Error(`The Image type is incorrect! We are support ${c} types.`)}return o.isEmpty()?er(Tt({},a),{isEmpty:!0}):(this.signatureData=o.toDataURL(u,s),er(Tt({},a),{data:this.signatureData}))},undoSignature(){const{signaturePad:u}=this,s=u.toData();if(s)return u.fromData(s.slice(0,-1))},fromDataURL(u,s={},o){return this.signaturePad.fromDataURL(u,s,o)},fromData(u){return this.signaturePad.fromData(u)},toData(){return this.signaturePad.toData()},lockSignaturePad(){return this.signaturePad.off()},openSignaturePad(){return this.signaturePad.on()},isEmpty(){return this.signaturePad.isEmpty()},getPropImagesAndCacheImages(){return this.propsImagesAndCustomImages},clearCacheImages(){return this.cacheImages=[],this.cacheImages},clearSignature(){return this.signaturePad.clear()}},render(){const{width:u,height:s,customStyle:o}=this;return i.h("div",{style:Tt({width:u,height:s},o)},[i.h("canvas",{style:{width:u,height:s},ref:"signaturePadCanvas"})])}});function Ft(u){if(!u)return u;var s=[Number,String,Boolean],o;if(s.forEach(function(c){u instanceof c&&(o=c(u))}),typeof o=="undefined")if(Object.prototype.toString.call(u)==="[object Array]")o=[],u.forEach(function(c,b,h){o[b]=Ft(c)});else if(typeof u=="object")if(u.nodeType&&typeof u.cloneNode=="function")o=u.cloneNode(!0);else if(u.prototype)o=u;else if(u instanceof Date)o=new Date(u);else{o={};for(var a in u)o[a]=Ft(u[a])}else o=u;return o}function Ui(u){return/\{\{((?:.|\n)+?)\}\}/g.test(u)}function da(u){const s=/\{\{((?:.|\n)+?)\}\}/g;return s.test(u)?(s.lastIndex=0,s.exec(u)[1]):u}function wf(u){var s;for(s in u)return!1;return!0}function xf(u){return!["object","function"].includes(typeof u)||u===null}function kf(u,s){return Object.hasOwnProperty.call(u,s)}function Wo(u,s){var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[],c;if(s=s||o.length,u)for(c=0;c<u;c++)a[c]=o[0|Math.random()*s];else{var b;for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",c=0;c<36;c++)a[c]||(b=0|Math.random()*16,a[c]=o[c==19?b&3|8:b])}return a.join("")}function Sf(u){return{all:u=u||new Map,on:function(s,o){var a=u.get(s);a?a.push(o):u.set(s,[o])},off:function(s,o){var a=u.get(s);a&&(o?a.splice(a.indexOf(o)>>>0,1):u.set(s,[]))},emit:function(s,o){var a=u.get(s);a&&a.slice().map(function(c){c(o)}),(a=u.get("*"))&&a.slice().map(function(c){c(s,o)})}}}const Ef={name:"objectRender",components:{FormRenderItem:i.defineAsyncComponent(()=>Promise.resolve().then(function(){return Nd}))},props:{path:String,modelValue:Object,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u,{emit:s}){return{update:(a,c)=>{s("update:modelValue",Object.assign({},u.modelValue,{[a]:c}))}}}},Cf={class:"form-item-list"};function Of(u,s,o,a,c,b){const h=i.resolveComponent("form-render-item");return i.openBlock(),i.createElementBlock("div",Cf,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.items,d=>(i.openBlock(),i.createBlock(h,{key:d.uuid,"model-value":o.modelValue[d.options.key],"onUpdate:modelValue":v=>a.update(d.options.key,v),component:d.component,items:d.items,options:d.options,path:d.options.key?o.path+"."+d.options.key:o.path,style:i.normalizeStyle({"padding-left":o.options.gutter/2+"px","padding-right":o.options.gutter/2+"px"})},null,8,["model-value","onUpdate:modelValue","component","items","options","path","style"]))),128))])}var $i=he(Ef,[["render",Of]]),Tf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$i});const Nf={name:"cardRender",components:{ElCard:Q.ElCard,objectRender:$i},props:{path:String,modelValue:Object,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(){}},Af={class:"card-header"};function Lf(u,s,o,a,c,b){const h=i.resolveComponent("object-render"),d=i.resolveComponent("el-card");return i.openBlock(),i.createBlock(d,{class:"form-card",shadow:o.options.shadow,"body-style":{padding:o.options.padding}},{header:i.withCtx(()=>[i.createElementVNode("div",Af,[i.createElementVNode("span",null,i.toDisplayString(o.options.label),1)])]),default:i.withCtx(()=>[i.createVNode(h,{items:o.items,options:o.options,path:o.path,"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v))},null,8,["items","options","path","model-value"])]),_:1},8,["shadow","body-style"])}var Bf=he(Nf,[["render",Lf]]),Df=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bf});const If={name:"cascaderRender",components:{ElFormItem:Q.ElFormItem,ElCascader:Q.ElCascader},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(){}};function Mf(u,s,o,a,c,b){const h=i.resolveComponent("el-cascader"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),options:o.options.options.items,disabled:o.options.disabled,clearable:o.options.clearable,props:{expandTrigger:o.options.expandTrigger}},null,8,["model-value","options","disabled","clearable","props"]))]),_:1},8,["prop","label","rules"])}var Vf=he(If,[["render",Mf]]),Rf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vf});const Pf={name:"checkboxRender",components:{ElFormItem:Q.ElFormItem,ElCheckboxGroup:Q.ElCheckboxGroup,ElCheckbox:Q.ElCheckbox},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(){}};function Ff(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox"),d=i.resolveComponent("el-checkbox-group"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=w=>u.$emit("update:modelValue",w)),disabled:o.options.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(w.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value","disabled"])]),_:1},8,["prop","label","rules"])}var jf=he(Pf,[["render",Ff]]),qf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jf});const zf={name:"colorPickerRender",components:{ElFormItem:Q.ElFormItem,ElColorPicker:Q.ElColorPicker},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function Hf(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),disabled:o.options.disabled,"show-alpha":o.options.showAlpha},null,8,["model-value","disabled","show-alpha"])]),_:1},8,["prop","label","rules"])}var Wf=he(zf,[["render",Hf]]),Uf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wf});const $f={name:"datePickerRender",components:{ElFormItem:Q.ElFormItem,ElDatePicker:Q.ElDatePicker},props:{path:String,modelValue:Date,options:{type:Object,default(){return{}}}},setup(){}};function Kf(u,s,o,a,c,b){const h=i.resolveComponent("el-date-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"])]),_:1},8,["prop","label","rules"])}var Gf=he($f,[["render",Kf]]),Yf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gf});const Xf={name:"dateRangePickerRender",components:{ElFormItem:Q.ElFormItem,ElDatePicker:Q.ElDatePicker},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(){}};function Zf(u,s,o,a,c,b){const h=i.resolveComponent("el-date-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{type:"daterange","model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"])]),_:1},8,["prop","label","rules"])}var Jf=he(Xf,[["render",Zf]]),Qf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jf});const ec={name:"inputRender",components:{ElFormItem:Q.ElFormItem,ElInput:Q.ElInput},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function tc(u,s,o,a,c,b){const h=i.resolveComponent("el-input"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{type:"text","model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,"show-password":o.options.showPassword,"prefix-icon":o.options.prefixIcon,"suffix-icon":o.options.suffixIcon,maxlength:o.options.maxlength,"show-word-limit":o.options.showWordLimit},null,8,["model-value","placeholder","clearable","disabled","show-password","prefix-icon","suffix-icon","maxlength","show-word-limit"])]),_:1},8,["prop","label","rules"])}var nc=he(ec,[["render",tc]]),rc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nc});const oc={name:"multiSelectRender",components:{ElFormItem:Q.ElFormItem,ElSelect:Q.ElSelect,ElOption:Q.ElOption},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(){}};function ic(u,s,o,a,c,b){const h=i.resolveComponent("el-option"),d=i.resolveComponent("el-select"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=w=>u.$emit("update:modelValue",w)),multiple:!0,"collapse-tags":o.options.collapseTags,"multiple-limit":o.options.multipleLimit,clearable:o.options.clearable,disabled:o.options.disabled,filterable:o.options.filterable,placeholder:o.options.placeholder,"no-data-text":o.options.noDataText,"no-match-text":o.options.noMatchText},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","collapse-tags","multiple-limit","clearable","disabled","filterable","placeholder","no-data-text","no-match-text"])]),_:1},8,["prop","label","rules"])}var lc=he(oc,[["render",ic]]),ac=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lc});const sc={name:"numberRender",components:{ElFormItem:Q.ElFormItem,ElInputNumber:Q.ElInputNumber},props:{path:String,modelValue:Number,options:{type:Object,default(){return{}}}},setup(){}};function uc(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),min:o.options.min,max:o.options.max,disabled:o.options.disabled},null,8,["model-value","min","max","disabled"])]),_:1},8,["prop","label","rules"])}var fc=he(sc,[["render",uc]]),cc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fc});const dc={name:"quillEditorRender",components:{ElFormItem:Q.ElFormItem,QuillEditor:aa},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function hc(u,s,o,a,c,b){const h=i.resolveComponent("quill-editor"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{value:o.modelValue,onChange:s[0]||(s[0]=v=>u.$emit("update:modelValue",v.html)),disabled:o.options.disabled,options:{placeholder:o.options.placeholder,readOnly:!1},style:i.normalizeStyle({height:o.options.height})},null,8,["value","disabled","options","style"])]),_:1},8,["prop","label","rules"])}var pc=he(dc,[["render",hc]]),mc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pc});const gc={name:"radioRender",components:{ElFormItem:Q.ElFormItem,ElRadioGroup:Q.ElRadioGroup,ElRadio:Q.ElRadio},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function vc(u,s,o,a,c,b){const h=i.resolveComponent("el-radio"),d=i.resolveComponent("el-radio-group"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=w=>u.$emit("update:modelValue",w)),disabled:o.options.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(w.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value","disabled"])]),_:1},8,["prop","label","rules"])}var yc=he(gc,[["render",vc]]),_c=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yc});const bc={name:"rateRender",components:{ElFormItem:Q.ElFormItem,ElRate:Q.ElRate},props:{path:String,modelValue:Number,options:{type:Object,default(){return{}}}},setup(){}};function wc(u,s,o,a,c,b){const h=i.resolveComponent("el-rate"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{class:"form-rate","model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),disabled:o.options.disabled,"allow-half":o.options.allowHalf,max:o.options.max},null,8,["model-value","disabled","allow-half","max"])]),_:1},8,["prop","label","rules"])}var xc=he(bc,[["render",wc]]),kc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xc});const Sc={name:"selectRender",components:{ElFormItem:Q.ElFormItem,ElSelect:Q.ElSelect,ElOption:Q.ElOption},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function Ec(u,s,o,a,c,b){const h=i.resolveComponent("el-option"),d=i.resolveComponent("el-select"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=w=>u.$emit("update:modelValue",w)),clearable:o.options.clearable,disabled:o.options.disabled,filterable:o.options.filterable,placeholder:o.options.placeholder,"no-data-text":o.options.noDataText,"no-match-text":o.options.noMatchText},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","clearable","disabled","filterable","placeholder","no-data-text","no-match-text"])]),_:1},8,["prop","label","rules"])}var Cc=he(Sc,[["render",Ec]]),Oc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cc});const Tc={name:"signatureRender",components:{Signature:ca,ElButton:Q.ElButton},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(u,{emit:s}){const o=i.ref(null),a=()=>{const{data:h}=o.value.saveSignature();s("update:modelValue",h)},c=()=>{o.value.undoSignature(),a()},b=()=>{u.modelValue?o.value.fromDataURL(u.modelValue):o.value.clearSignature()};return i.watch(()=>u.modelValue,b),i.onMounted(b),{signatureRef:o,endStroke:a,undo:c}}},Nc={class:"btn-submit"},Ac=i.createTextVNode("\u64A4\u9500");function Lc(u,s,o,a,c,b){const h=i.resolveComponent("Signature"),d=i.resolveComponent("el-button"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{ref:"signatureRef",disabled:o.options.disabled,width:o.options.width,height:o.options.height,options:{penColor:o.options.penColor,backgroundColor:o.options.backgroundColor,endStroke:a.endStroke}},null,8,["disabled","width","height","options"]),i.createElementVNode("div",Nc,[i.createVNode(d,{type:"primary",size:"small",onClick:a.undo},{default:i.withCtx(()=>[Ac]),_:1},8,["onClick"])])]),_:1},8,["prop","label","rules"])}var Bc=he(Tc,[["render",Lc]]),Dc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bc});const Ic={name:"sliderRender",components:{ElFormItem:Q.ElFormItem,ElSlider:Q.ElSlider},props:{path:String,modelValue:Number,options:{type:Object,default(){return{}}}},setup(){}};function Mc(u,s,o,a,c,b){const h=i.resolveComponent("el-slider"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),disabled:o.options.disabled,min:o.options.min,max:o.options.max,step:o.options.step,"show-stops":o.options.showStops,"show-input":o.options.showInput,"show-tooltip":o.options.showToolTip},null,8,["model-value","disabled","min","max","step","show-stops","show-input","show-tooltip"])]),_:1},8,["prop","label","rules"])}var Vc=he(Ic,[["render",Mc]]),Rc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vc});const Pc={name:"switchRender",components:{ElFormItem:Q.ElFormItem,ElSwitch:Q.ElSwitch},props:{path:String,modelValue:Boolean,options:{type:Object,default(){return{}}}},setup(){}};function Fc(u,s,o,a,c,b){const h=i.resolveComponent("el-switch"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),disabled:o.options.disabled,"active-text":o.options.activeText,"inactive-text":o.options.inactiveText,"active-color":o.options.activeColor,"inactive-color":o.options.inactiveColor},null,8,["model-value","disabled","active-text","inactive-text","active-color","inactive-color"])]),_:1},8,["prop","label","rules"])}var jc=he(Pc,[["render",Fc]]),qc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jc});const zc={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Hc=[i.createElementVNode("path",{d:"M896 448v64H512v384h-64V512H64v-64h384V64h64v384h384z"},null,-1)];function Wc(u,s){return i.openBlock(),i.createElementBlock("svg",zc,Hc)}const Uc={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},$c=[i.createElementVNode("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"},null,-1)];function Kc(u,s){return i.openBlock(),i.createElementBlock("svg",Uc,$c)}const Gc={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Yc=[i.createElementVNode("path",{d:"M608 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM416 768c-17.696 0-32-14.304-32-32V384c0-17.696 14.304-32 32-32s32 14.304 32 32v352c0 17.696-14.304 32-32 32zM928 224H768v-64c0-52.928-42.72-96-95.264-96H352c-52.928 0-96 43.072-96 96v64H96c-17.696 0-32 14.304-32 32s14.304 32 32 32h832c17.696 0 32-14.304 32-32s-14.304-32-32-32zm-608-64c0-17.632 14.368-32 32-32h320.736C690.272 128 704 142.048 704 160v64H320v-64z"},null,-1),i.createElementVNode("path",{d:"M736.128 960H288.064c-52.928 0-96-43.072-96-96V383.52c0-17.664 14.336-32 32-32s32 14.336 32 32V864c0 17.664 14.368 32 32 32h448.064c17.664 0 32-14.336 32-32V384.832c0-17.664 14.304-32 32-32s32 14.336 32 32V864c0 52.928-43.072 96-96 96z"},null,-1)];function Yr(u,s){return i.openBlock(),i.createElementBlock("svg",Gc,Yc)}var fx="";const Xc={name:"tableRender",components:{ElFormItem:Q.ElFormItem,ElButton:Q.ElButton,ElTable:Q.ElTable,ElTableColumn:Q.ElTableColumn,ElDialog:Q.ElDialog,ElIcon:Q.ElIcon,PlusIcon:Wc,EditIcon:Kc,DeleteIcon:Yr,FormRender:i.defineAsyncComponent(()=>Promise.resolve().then(function(){return Md}))},props:{path:String,modelValue:Array,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u,{emit:s}){const o=i.inject("state"),a=i.reactive({items:[]}),c=i.ref(null),b=i.reactive({title:"",isShow:!1,index:-1}),h=()=>{b.title="\u6DFB\u52A0",b.isShow=!0,b.index=-1,i.nextTick(()=>{setTimeout(()=>{c.value&&c.value.init(Object.assign({},o.formDesign,{items:u.items}))},20)})},d=(g,m)=>{b.title="\u7F16\u8F91",b.isShow=!0,b.index=g,i.nextTick(()=>{setTimeout(()=>{c.value&&c.value.init(Object.assign({},o.formDesign,{items:u.items}),m)},20)})},v=g=>{a.items.splice(g,1),s("update:modelValue",a.items)},w=g=>{b.index>-1?a.items.splice(b.index,1,g):a.items.push(g),b.isShow=!1,s("update:modelValue",a.items)},S=()=>{a.items=Ft(u.modelValue)};return i.onMounted(S),i.watch(()=>u.modelValue,S),{data:a,formRender:c,formDialog:b,add:h,edit:d,remove:v,save:w}}},Zc={class:"tools"},Jc=i.createTextVNode(" \u6DFB\u52A0 ");function Qc(u,s,o,a,c,b){const h=i.resolveComponent("PlusIcon"),d=i.resolveComponent("el-icon"),v=i.resolveComponent("el-button"),w=i.resolveComponent("el-table-column"),S=i.resolveComponent("EditIcon"),g=i.resolveComponent("DeleteIcon"),m=i.resolveComponent("el-table"),p=i.resolveComponent("el-form-item"),C=i.resolveComponent("form-render"),E=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(p,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createElementVNode("div",Zc,[i.createVNode(v,{class:"add-btn",type:"primary",onClick:a.add},{default:i.withCtx(()=>[i.createVNode(d,null,{default:i.withCtx(()=>[i.createVNode(h)]),_:1}),Jc]),_:1},8,["onClick"])]),i.createVNode(m,{class:"edit-table",data:a.data.items,style:{width:"100%"},border:""},{default:i.withCtx(()=>[i.createVNode(w,{type:"index",width:"80",label:"\u5E8F\u53F7",align:"center"}),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.items,(O,k)=>(i.openBlock(),i.createBlock(w,{key:k,prop:O.options.key,label:O.options.label},null,8,["prop","label"]))),128)),i.createVNode(w,{label:"\u64CD\u4F5C",align:"center",width:"120","class-name":"small-padding"},{default:i.withCtx(O=>[i.createVNode(v,{type:"primary",circle:"",onClick:k=>a.edit(O.$index,O.row)},{default:i.withCtx(()=>[i.createVNode(d,null,{default:i.withCtx(()=>[i.createVNode(S)]),_:1})]),_:2},1032,["onClick"]),i.createVNode(v,{type:"danger",circle:"",onClick:k=>a.remove(O.$index)},{default:i.withCtx(()=>[i.createVNode(d,null,{default:i.withCtx(()=>[i.createVNode(g)]),_:1})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["prop","label","rules"]),i.createVNode(E,{title:a.formDialog.title,modelValue:a.formDialog.isShow,"onUpdate:modelValue":s[0]||(s[0]=O=>a.formDialog.isShow=O),"close-on-click-modal":!1,width:"750px"},{default:i.withCtx(()=>[i.createVNode(C,{ref:"formRender",onSubmit:a.save},null,8,["onSubmit"])]),_:1},8,["title","modelValue"])],64)}var ed=he(Xc,[["render",Qc],["__scopeId","data-v-a681817c"]]),td=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ed});const nd={name:"tabsRender",components:{ElFormItem:Q.ElFormItem,ElTabs:Q.ElTabs,ElTabPane:Q.ElTabPane,objectRender:$i},props:{path:String,modelValue:Object,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u,{emit:s}){const o=i.ref(""),a=i.inject("emitter"),c=(b,h)=>{s("update:modelValue",Object.assign({},u.modelValue,{[b]:h}))};return i.onMounted(()=>{o.value=u.items.length?u.items[0].options.key:"",a.on("validateError",b=>{for(let h=0;h<u.items.length;h++){const d=u.items[h];if(b.indexOf(u.path+"."+d.options.key)>-1)return o.value=d.options.key}})}),{tabsValue:o,update:c}}};function rd(u,s,o,a,c,b){const h=i.resolveComponent("object-render"),d=i.resolveComponent("el-tab-pane"),v=i.resolveComponent("el-tabs");return i.openBlock(),i.createBlock(v,{modelValue:a.tabsValue,"onUpdate:modelValue":s[0]||(s[0]=w=>a.tabsValue=w),type:o.options.tabType,"tab-position":o.options.tabPosition},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.items,w=>(i.openBlock(),i.createBlock(d,{key:w.name,label:w.options.label,name:w.options.key},{default:i.withCtx(()=>[i.createVNode(h,{items:w.items,options:w.options,path:o.path+"."+w.options.key,"model-value":o.modelValue[w.options.key],"onUpdate:modelValue":S=>a.update(w.options.key,S)},null,8,["items","options","path","model-value","onUpdate:modelValue"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue","type","tab-position"])}var od=he(nd,[["render",rd]]),id=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:od});const ld={name:"textareaRender",components:{ElFormItem:Q.ElFormItem,ElInput:Q.ElInput},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(){}};function ad(u,s,o,a,c,b){const h=i.resolveComponent("el-input"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{type:"textarea","model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,rows:o.options.rows,disabled:o.options.disabled,maxlength:o.options.maxlength,"show-word-limit":o.options.showWordLimit},null,8,["model-value","placeholder","rows","disabled","maxlength","show-word-limit"])]),_:1},8,["prop","label","rules"])}var sd=he(ld,[["render",ad]]),ud=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sd});const fd={name:"timePickerRender",components:{ElFormItem:Q.ElFormItem,ElTimePicker:Q.ElTimePicker},props:{path:String,modelValue:Date,options:{type:Object,default(){return{}}}},setup(){}};function cd(u,s,o,a,c,b){const h=i.resolveComponent("el-time-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"])]),_:1},8,["prop","label","rules"])}var dd=he(fd,[["render",cd]]),hd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dd});const pd={name:"timeRangePickerRender",components:{ElFormItem:Q.ElFormItem,ElTimePicker:Q.ElTimePicker},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(){}};function md(u,s,o,a,c,b){const h=i.resolveComponent("el-time-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{"is-range":"","model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"])]),_:1},8,["prop","label","rules"])}var gd=he(pd,[["render",md]]),vd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gd});const yd={name:"tinymceEditorRender",components:{ElFormItem:Q.ElFormItem,TinymceEditor:sa},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(u){}};function _d(u,s,o,a,c,b){const h=i.resolveComponent("tinymce-editor"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{ref:"tinymceRef",value:o.modelValue,onInput:s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),disabled:o.options.disabled,readOnly:!1,height:o.options.height},null,8,["value","disabled","height"])]),_:1},8,["prop","label","rules"])}var bd=he(yd,[["render",_d]]),wd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bd});const xd={name:"uploadRender",components:{ElFormItem:Q.ElFormItem,ElUpload:Q.ElUpload,ElButton:Q.ElButton},props:{path:String,modelValue:Array,options:{type:Object,default(){return{}}}},setup(u,{emit:s}){const o=i.reactive({fileList:[]}),a=v=>{const w=u.options.uploadSize,S=parseFloat(w),m={KB:1024,MB:1024*1024,GB:1024*1024*1024}[w.substr(w.length-2)],p=v.size/m<S;return p||Q.ElMessage.error(`\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 ${w}!`),p},c=(v,w)=>{const S=[];w.forEach(g=>{S.push(Tt({name:g.name},g.response))}),s("update:modelValue",S)},b=(v,w)=>Q.ElMessageBox.confirm(`\u786E\u5B9A\u79FB\u9664 ${v.name}\uFF1F`),h=()=>{Q.ElMessage.error("\u4E0A\u4F20\u5931\u8D25!")},d=()=>{o.fileList=Ft(u.modelValue)};return i.onMounted(d),i.watch(()=>u.modelValue,d),{data:o,beforeUpload:a,handleChange:c,beforeRemove:b,handleError:h}}},kd={class:"el-upload__tip"};function Sd(u,s,o,a,c,b){const h=i.resolveComponent("el-button"),d=i.resolveComponent("el-upload"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(d,{action:o.options.uploadUrl,name:o.options.uploadName,multiple:o.options.multiple,data:o.options.uploadData,headers:o.options.uploadHeaders,"show-file-list":o.options.showFileList,limit:o.options.limit,"file-list":a.data.fileList,disabled:o.options.disabled,"before-upload":a.beforeUpload,"on-success":a.handleChange,"on-remove":a.handleChange,"before-remove":a.beforeRemove,"on-error":a.handleError},i.createSlots({default:i.withCtx(()=>[i.createVNode(h,{size:"small",type:"primary"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(o.options.buttonText),1)]),_:1})]),_:2},[o.options.showToolTip?{name:"tip",fn:i.withCtx(()=>[i.createElementVNode("div",kd,i.toDisplayString(o.options.tip),1)])}:void 0]),1032,["action","name","multiple","data","headers","show-file-list","limit","file-list","disabled","before-upload","on-success","on-remove","before-remove","on-error"])]),_:1},8,["prop","label","rules"])}var Ed=he(xd,[["render",Sd]]),Cd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ed});const ha={};Object.values({"./components/card-render.vue":Df,"./components/cascader-render.vue":Rf,"./components/checkbox-render.vue":qf,"./components/color-picker-render.vue":Uf,"./components/date-picker-render.vue":Yf,"./components/date-range-picker-render.vue":Qf,"./components/input-render.vue":rc,"./components/multi-select-render.vue":ac,"./components/number-render.vue":cc,"./components/object-render.vue":Tf,"./components/quill-editor-render.vue":mc,"./components/radio-render.vue":_c,"./components/rate-render.vue":kc,"./components/select-render.vue":Oc,"./components/signature-render.vue":Dc,"./components/slider-render.vue":Rc,"./components/switch-render.vue":qc,"./components/table-render.vue":td,"./components/tabs-render.vue":id,"./components/textarea-render.vue":ud,"./components/time-picker-render.vue":hd,"./components/time-range-picker-render.vue":vd,"./components/tinymce-editor-render.vue":wd,"./components/upload-render.vue":Cd}).forEach(({default:u})=>ha[u.name]=u);const Od={name:"formRenderItem",components:Tt({},ha),props:{path:{type:String,default:""},component:String,modelValue:[String,Number,Boolean,Date,Object,Array],items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(){}};function Td(u,s,o,a,c,b){return o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("div",{key:0,class:"form-item",style:i.normalizeStyle({width:o.options.width})},[(i.openBlock(),i.createBlock(i.resolveDynamicComponent(o.component+"-render"),{items:o.items,options:o.options,"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=h=>u.$emit("update:modelValue",h)),path:o.path},null,8,["items","options","model-value","path"]))],4))}var Ki=he(Od,[["render",Td]]),Nd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ki});const Ad={name:"formRender",components:{ElForm:Q.ElForm,FormRenderItem:Ki,ElButton:Q.ElButton},props:{},setup(u,{emit:s}){const o=i.ref(null),a=i.reactive({uuid:"",items:[],options:{}}),c=i.reactive({root:{}}),b=Sf(),h=(S,g,m={})=>{S.forEach(p=>{const C=p.options.key;g[C]=m[C]||p.options.defaultValue;for(let E in p.options)if(Ui(p.options[E])){const O=new Function("root","options",`try {
                return ${da(p.options[E])}
              } catch(e) {
                console.log(e)
              }`);p.options[E]=i.computed({get(){return O(c.root,p.options)}})}p.items&&h(p.items,g[C],m[C])})},d=(S,g)=>{a.component=S.component,a.uuid=S.uuid,a.items=S.items,a.options=S.options,a.options.key="root",a.options.defaultValue={},h([a],c,{root:g}),o.value&&o.value.clearValidate()},v=()=>{o.value.validate((S,g)=>{S?s("submit",i.toRaw(c.root)):b.emit("validateError",Object.keys(g)[0])})},w=()=>{o.value.resetFields()};return i.provide("emitter",b),{formRef:o,formDesign:a,formData:c,init:d,submit:v,reset:w}}},Ld={class:"btn-submit"},Bd=i.createTextVNode("\u63D0\u4EA4"),Dd=i.createTextVNode("\u91CD\u7F6E");function Id(u,s,o,a,c,b){const h=i.resolveComponent("form-render-item"),d=i.resolveComponent("el-button"),v=i.resolveComponent("el-form");return i.openBlock(),i.createBlock(v,{class:"form-render",ref:"formRef","label-width":a.formDesign.options.labelWidth,"label-position":a.formDesign.options.labelPosition,"hide-required-asterisk":a.formDesign.options.hideRequiredAsterisk,"status-icon":a.formDesign.options.statusIcon,inline:a.formDesign.options.inline,size:a.formDesign.options.size,model:a.formData},{default:i.withCtx(()=>[i.createVNode(h,{class:"root",modelValue:a.formData.root,"onUpdate:modelValue":s[0]||(s[0]=w=>a.formData.root=w),component:a.formDesign.component,items:a.formDesign.items,options:a.formDesign.options,path:"root"},null,8,["modelValue","component","items","options"]),i.createElementVNode("div",Ld,[i.createVNode(d,{type:"primary",onClick:a.submit},{default:i.withCtx(()=>[Bd]),_:1},8,["onClick"]),i.createVNode(d,{type:"default",onClick:a.reset},{default:i.withCtx(()=>[Dd]),_:1},8,["onClick"])])]),_:1},8,["label-width","label-position","hide-required-asterisk","status-icon","inline","size","model"])}var Uo=he(Ad,[["render",Id]]),Md=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uo});/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pa(u,s){var o=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),o.push.apply(o,a)}return o}function vn(u){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?pa(Object(o),!0).forEach(function(a){Vd(u,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)):pa(Object(o)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(o,a))})}return u}function $o(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$o=function(s){return typeof s}:$o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},$o(u)}function Vd(u,s,o){return s in u?Object.defineProperty(u,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[s]=o,u}function Nn(){return Nn=Object.assign||function(u){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(u[a]=o[a])}return u},Nn.apply(this,arguments)}function Rd(u,s){if(u==null)return{};var o={},a=Object.keys(u),c,b;for(b=0;b<a.length;b++)c=a[b],!(s.indexOf(c)>=0)&&(o[c]=u[c]);return o}function Pd(u,s){if(u==null)return{};var o=Rd(u,s),a,c;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(u);for(c=0;c<b.length;c++)a=b[c],!(s.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(u,a)||(o[a]=u[a]))}return o}var Fd="1.14.0";function An(u){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(u)}var Ln=An(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Xr=An(/Edge/i),ma=An(/firefox/i),Zr=An(/safari/i)&&!An(/chrome/i)&&!An(/android/i),ga=An(/iP(ad|od|hone)/i),jd=An(/chrome/i)&&An(/android/i),va={capture:!1,passive:!1};function Je(u,s,o){u.addEventListener(s,o,!Ln&&va)}function Ye(u,s,o){u.removeEventListener(s,o,!Ln&&va)}function Ko(u,s){if(!!s){if(s[0]===">"&&(s=s.substring(1)),u)try{if(u.matches)return u.matches(s);if(u.msMatchesSelector)return u.msMatchesSelector(s);if(u.webkitMatchesSelector)return u.webkitMatchesSelector(s)}catch(o){return!1}return!1}}function qd(u){return u.host&&u!==document&&u.host.nodeType?u.host:u.parentNode}function yn(u,s,o,a){if(u){o=o||document;do{if(s!=null&&(s[0]===">"?u.parentNode===o&&Ko(u,s):Ko(u,s))||a&&u===o)return u;if(u===o)break}while(u=qd(u))}return null}var ya=/\s+/g;function en(u,s,o){if(u&&s)if(u.classList)u.classList[o?"add":"remove"](s);else{var a=(" "+u.className+" ").replace(ya," ").replace(" "+s+" "," ");u.className=(a+(o?" "+s:"")).replace(ya," ")}}function Fe(u,s,o){var a=u&&u.style;if(a){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(u,""):u.currentStyle&&(o=u.currentStyle),s===void 0?o:o[s];!(s in a)&&s.indexOf("webkit")===-1&&(s="-webkit-"+s),a[s]=o+(typeof o=="string"?"":"px")}}function vr(u,s){var o="";if(typeof u=="string")o=u;else do{var a=Fe(u,"transform");a&&a!=="none"&&(o=a+" "+o)}while(!s&&(u=u.parentNode));var c=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return c&&new c(o)}function _a(u,s,o){if(u){var a=u.getElementsByTagName(s),c=0,b=a.length;if(o)for(;c<b;c++)o(a[c],c);return a}return[]}function _n(){var u=document.scrollingElement;return u||document.documentElement}function bt(u,s,o,a,c){if(!(!u.getBoundingClientRect&&u!==window)){var b,h,d,v,w,S,g;if(u!==window&&u.parentNode&&u!==_n()?(b=u.getBoundingClientRect(),h=b.top,d=b.left,v=b.bottom,w=b.right,S=b.height,g=b.width):(h=0,d=0,v=window.innerHeight,w=window.innerWidth,S=window.innerHeight,g=window.innerWidth),(s||o)&&u!==window&&(c=c||u.parentNode,!Ln))do if(c&&c.getBoundingClientRect&&(Fe(c,"transform")!=="none"||o&&Fe(c,"position")!=="static")){var m=c.getBoundingClientRect();h-=m.top+parseInt(Fe(c,"border-top-width")),d-=m.left+parseInt(Fe(c,"border-left-width")),v=h+b.height,w=d+b.width;break}while(c=c.parentNode);if(a&&u!==window){var p=vr(c||u),C=p&&p.a,E=p&&p.d;p&&(h/=E,d/=C,g/=C,S/=E,v=h+S,w=d+g)}return{top:h,left:d,bottom:v,right:w,width:g,height:S}}}function ba(u,s,o){for(var a=jn(u,!0),c=bt(u)[s];a;){var b=bt(a)[o],h=void 0;if(o==="top"||o==="left"?h=c>=b:h=c<=b,!h)return a;if(a===_n())break;a=jn(a,!1)}return!1}function yr(u,s,o,a){for(var c=0,b=0,h=u.children;b<h.length;){if(h[b].style.display!=="none"&&h[b]!==je.ghost&&(a||h[b]!==je.dragged)&&yn(h[b],o.draggable,u,!1)){if(c===s)return h[b];c++}b++}return null}function Gi(u,s){for(var o=u.lastElementChild;o&&(o===je.ghost||Fe(o,"display")==="none"||s&&!Ko(o,s));)o=o.previousElementSibling;return o||null}function un(u,s){var o=0;if(!u||!u.parentNode)return-1;for(;u=u.previousElementSibling;)u.nodeName.toUpperCase()!=="TEMPLATE"&&u!==je.clone&&(!s||Ko(u,s))&&o++;return o}function wa(u){var s=0,o=0,a=_n();if(u)do{var c=vr(u),b=c.a,h=c.d;s+=u.scrollLeft*b,o+=u.scrollTop*h}while(u!==a&&(u=u.parentNode));return[s,o]}function zd(u,s){for(var o in u)if(!!u.hasOwnProperty(o)){for(var a in s)if(s.hasOwnProperty(a)&&s[a]===u[o][a])return Number(o)}return-1}function jn(u,s){if(!u||!u.getBoundingClientRect)return _n();var o=u,a=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var c=Fe(o);if(o.clientWidth<o.scrollWidth&&(c.overflowX=="auto"||c.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(c.overflowY=="auto"||c.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return _n();if(a||s)return o;a=!0}}while(o=o.parentNode);return _n()}function Hd(u,s){if(u&&s)for(var o in s)s.hasOwnProperty(o)&&(u[o]=s[o]);return u}function Yi(u,s){return Math.round(u.top)===Math.round(s.top)&&Math.round(u.left)===Math.round(s.left)&&Math.round(u.height)===Math.round(s.height)&&Math.round(u.width)===Math.round(s.width)}var Jr;function xa(u,s){return function(){if(!Jr){var o=arguments,a=this;o.length===1?u.call(a,o[0]):u.apply(a,o),Jr=setTimeout(function(){Jr=void 0},s)}}}function Wd(){clearTimeout(Jr),Jr=void 0}function ka(u,s,o){u.scrollLeft+=s,u.scrollTop+=o}function Sa(u){var s=window.Polymer,o=window.jQuery||window.Zepto;return s&&s.dom?s.dom(u).cloneNode(!0):o?o(u).clone(!0)[0]:u.cloneNode(!0)}var tn="Sortable"+new Date().getTime();function Ud(){var u=[],s;return{captureAnimationState:function(){if(u=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(c){if(!(Fe(c,"display")==="none"||c===je.ghost)){u.push({target:c,rect:bt(c)});var b=vn({},u[u.length-1].rect);if(c.thisAnimationDuration){var h=vr(c,!0);h&&(b.top-=h.f,b.left-=h.e)}c.fromRect=b}})}},addAnimationState:function(a){u.push(a)},removeAnimationState:function(a){u.splice(zd(u,{target:a}),1)},animateAll:function(a){var c=this;if(!this.options.animation){clearTimeout(s),typeof a=="function"&&a();return}var b=!1,h=0;u.forEach(function(d){var v=0,w=d.target,S=w.fromRect,g=bt(w),m=w.prevFromRect,p=w.prevToRect,C=d.rect,E=vr(w,!0);E&&(g.top-=E.f,g.left-=E.e),w.toRect=g,w.thisAnimationDuration&&Yi(m,g)&&!Yi(S,g)&&(C.top-g.top)/(C.left-g.left)==(S.top-g.top)/(S.left-g.left)&&(v=Kd(C,m,p,c.options)),Yi(g,S)||(w.prevFromRect=S,w.prevToRect=g,v||(v=c.options.animation),c.animate(w,C,g,v)),v&&(b=!0,h=Math.max(h,v),clearTimeout(w.animationResetTimer),w.animationResetTimer=setTimeout(function(){w.animationTime=0,w.prevFromRect=null,w.fromRect=null,w.prevToRect=null,w.thisAnimationDuration=null},v),w.thisAnimationDuration=v)}),clearTimeout(s),b?s=setTimeout(function(){typeof a=="function"&&a()},h):typeof a=="function"&&a(),u=[]},animate:function(a,c,b,h){if(h){Fe(a,"transition",""),Fe(a,"transform","");var d=vr(this.el),v=d&&d.a,w=d&&d.d,S=(c.left-b.left)/(v||1),g=(c.top-b.top)/(w||1);a.animatingX=!!S,a.animatingY=!!g,Fe(a,"transform","translate3d("+S+"px,"+g+"px,0)"),this.forRepaintDummy=$d(a),Fe(a,"transition","transform "+h+"ms"+(this.options.easing?" "+this.options.easing:"")),Fe(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){Fe(a,"transition",""),Fe(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},h)}}}}function $d(u){return u.offsetWidth}function Kd(u,s,o,a){return Math.sqrt(Math.pow(s.top-u.top,2)+Math.pow(s.left-u.left,2))/Math.sqrt(Math.pow(s.top-o.top,2)+Math.pow(s.left-o.left,2))*a.animation}var _r=[],Xi={initializeByDefault:!0},Qr={mount:function(s){for(var o in Xi)Xi.hasOwnProperty(o)&&!(o in s)&&(s[o]=Xi[o]);_r.forEach(function(a){if(a.pluginName===s.pluginName)throw"Sortable: Cannot mount plugin ".concat(s.pluginName," more than once")}),_r.push(s)},pluginEvent:function(s,o,a){var c=this;this.eventCanceled=!1,a.cancel=function(){c.eventCanceled=!0};var b=s+"Global";_r.forEach(function(h){!o[h.pluginName]||(o[h.pluginName][b]&&o[h.pluginName][b](vn({sortable:o},a)),o.options[h.pluginName]&&o[h.pluginName][s]&&o[h.pluginName][s](vn({sortable:o},a)))})},initializePlugins:function(s,o,a,c){_r.forEach(function(d){var v=d.pluginName;if(!(!s.options[v]&&!d.initializeByDefault)){var w=new d(s,o,s.options);w.sortable=s,w.options=s.options,s[v]=w,Nn(a,w.defaults)}});for(var b in s.options)if(!!s.options.hasOwnProperty(b)){var h=this.modifyOption(s,b,s.options[b]);typeof h!="undefined"&&(s.options[b]=h)}},getEventProperties:function(s,o){var a={};return _r.forEach(function(c){typeof c.eventProperties=="function"&&Nn(a,c.eventProperties.call(o[c.pluginName],s))}),a},modifyOption:function(s,o,a){var c;return _r.forEach(function(b){!s[b.pluginName]||b.optionListeners&&typeof b.optionListeners[o]=="function"&&(c=b.optionListeners[o].call(s[b.pluginName],a))}),c}};function Gd(u){var s=u.sortable,o=u.rootEl,a=u.name,c=u.targetEl,b=u.cloneEl,h=u.toEl,d=u.fromEl,v=u.oldIndex,w=u.newIndex,S=u.oldDraggableIndex,g=u.newDraggableIndex,m=u.originalEvent,p=u.putSortable,C=u.extraEventProperties;if(s=s||o&&o[tn],!!s){var E,O=s.options,k="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Ln&&!Xr?E=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(a,!0,!0)),E.to=h||o,E.from=d||o,E.item=c||o,E.clone=b,E.oldIndex=v,E.newIndex=w,E.oldDraggableIndex=S,E.newDraggableIndex=g,E.originalEvent=m,E.pullMode=p?p.lastPutMode:void 0;var x=vn(vn({},C),Qr.getEventProperties(a,s));for(var N in x)E[N]=x[N];o&&o.dispatchEvent(E),O[k]&&O[k].call(s,E)}}var Yd=["evt"],Yt=function(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=a.evt,b=Pd(a,Yd);Qr.pluginEvent.bind(je)(s,o,vn({dragEl:Se,parentEl:ut,ghostEl:We,rootEl:it,nextEl:tr,lastDownEl:Go,cloneEl:ft,cloneHidden:qn,dragStarted:to,putSortable:Nt,activeSortable:je.active,originalEvent:c,oldIndex:br,oldDraggableIndex:eo,newIndex:nn,newDraggableIndex:zn,hideGhostForTarget:La,unhideGhostForTarget:Ba,cloneNowHidden:function(){qn=!0},cloneNowShown:function(){qn=!1},dispatchSortableEvent:function(d){jt({sortable:o,name:d,originalEvent:c})}},b))};function jt(u){Gd(vn({putSortable:Nt,cloneEl:ft,targetEl:Se,rootEl:it,oldIndex:br,oldDraggableIndex:eo,newIndex:nn,newDraggableIndex:zn},u))}var Se,ut,We,it,tr,Go,ft,qn,br,nn,eo,zn,Yo,Nt,wr=!1,Xo=!1,Zo=[],nr,cn,Zi,Ji,Ea,Ca,to,xr,no,ro=!1,Jo=!1,Qo,Mt,Qi=[],el=!1,ei=[],ti=typeof document!="undefined",ni=ga,Oa=Xr||Ln?"cssFloat":"float",Xd=ti&&!jd&&!ga&&"draggable"in document.createElement("div"),Ta=function(){if(!!ti){if(Ln)return!1;var u=document.createElement("x");return u.style.cssText="pointer-events:auto",u.style.pointerEvents==="auto"}}(),Na=function(s,o){var a=Fe(s),c=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),b=yr(s,0,o),h=yr(s,1,o),d=b&&Fe(b),v=h&&Fe(h),w=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+bt(b).width,S=v&&parseInt(v.marginLeft)+parseInt(v.marginRight)+bt(h).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(b&&d.float&&d.float!=="none"){var g=d.float==="left"?"left":"right";return h&&(v.clear==="both"||v.clear===g)?"vertical":"horizontal"}return b&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||w>=c&&a[Oa]==="none"||h&&a[Oa]==="none"&&w+S>c)?"vertical":"horizontal"},Zd=function(s,o,a){var c=a?s.left:s.top,b=a?s.right:s.bottom,h=a?s.width:s.height,d=a?o.left:o.top,v=a?o.right:o.bottom,w=a?o.width:o.height;return c===d||b===v||c+h/2===d+w/2},Jd=function(s,o){var a;return Zo.some(function(c){var b=c[tn].options.emptyInsertThreshold;if(!(!b||Gi(c))){var h=bt(c),d=s>=h.left-b&&s<=h.right+b,v=o>=h.top-b&&o<=h.bottom+b;if(d&&v)return a=c}}),a},Aa=function(s){function o(b,h){return function(d,v,w,S){var g=d.options.group.name&&v.options.group.name&&d.options.group.name===v.options.group.name;if(b==null&&(h||g))return!0;if(b==null||b===!1)return!1;if(h&&b==="clone")return b;if(typeof b=="function")return o(b(d,v,w,S),h)(d,v,w,S);var m=(h?d:v).options.group.name;return b===!0||typeof b=="string"&&b===m||b.join&&b.indexOf(m)>-1}}var a={},c=s.group;(!c||$o(c)!="object")&&(c={name:c}),a.name=c.name,a.checkPull=o(c.pull,!0),a.checkPut=o(c.put),a.revertClone=c.revertClone,s.group=a},La=function(){!Ta&&We&&Fe(We,"display","none")},Ba=function(){!Ta&&We&&Fe(We,"display","")};ti&&document.addEventListener("click",function(u){if(Xo)return u.preventDefault(),u.stopPropagation&&u.stopPropagation(),u.stopImmediatePropagation&&u.stopImmediatePropagation(),Xo=!1,!1},!0);var rr=function(s){if(Se){s=s.touches?s.touches[0]:s;var o=Jd(s.clientX,s.clientY);if(o){var a={};for(var c in s)s.hasOwnProperty(c)&&(a[c]=s[c]);a.target=a.rootEl=o,a.preventDefault=void 0,a.stopPropagation=void 0,o[tn]._onDragOver(a)}}},Qd=function(s){Se&&Se.parentNode[tn]._isOutsideThisEl(s.target)};function je(u,s){if(!(u&&u.nodeType&&u.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(u));this.el=u,this.options=s=Nn({},s),u[tn]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(u.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Na(u,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(h,d){h.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:je.supportPointer!==!1&&"PointerEvent"in window&&!Zr,emptyInsertThreshold:5};Qr.initializePlugins(this,u,o);for(var a in o)!(a in s)&&(s[a]=o[a]);Aa(s);for(var c in this)c.charAt(0)==="_"&&typeof this[c]=="function"&&(this[c]=this[c].bind(this));this.nativeDraggable=s.forceFallback?!1:Xd,this.nativeDraggable&&(this.options.touchStartThreshold=1),s.supportPointer?Je(u,"pointerdown",this._onTapStart):(Je(u,"mousedown",this._onTapStart),Je(u,"touchstart",this._onTapStart)),this.nativeDraggable&&(Je(u,"dragover",this),Je(u,"dragenter",this)),Zo.push(this.el),s.store&&s.store.get&&this.sort(s.store.get(this)||[]),Nn(this,Ud())}je.prototype={constructor:je,_isOutsideThisEl:function(s){!this.el.contains(s)&&s!==this.el&&(xr=null)},_getDirection:function(s,o){return typeof this.options.direction=="function"?this.options.direction.call(this,s,o,Se):this.options.direction},_onTapStart:function(s){if(!!s.cancelable){var o=this,a=this.el,c=this.options,b=c.preventOnFilter,h=s.type,d=s.touches&&s.touches[0]||s.pointerType&&s.pointerType==="touch"&&s,v=(d||s).target,w=s.target.shadowRoot&&(s.path&&s.path[0]||s.composedPath&&s.composedPath()[0])||v,S=c.filter;if(ah(a),!Se&&!(/mousedown|pointerdown/.test(h)&&s.button!==0||c.disabled)&&!w.isContentEditable&&!(!this.nativeDraggable&&Zr&&v&&v.tagName.toUpperCase()==="SELECT")&&(v=yn(v,c.draggable,a,!1),!(v&&v.animated)&&Go!==v)){if(br=un(v),eo=un(v,c.draggable),typeof S=="function"){if(S.call(this,s,v,this)){jt({sortable:o,rootEl:w,name:"filter",targetEl:v,toEl:a,fromEl:a}),Yt("filter",o,{evt:s}),b&&s.cancelable&&s.preventDefault();return}}else if(S&&(S=S.split(",").some(function(g){if(g=yn(w,g.trim(),a,!1),g)return jt({sortable:o,rootEl:g,name:"filter",targetEl:v,fromEl:a,toEl:a}),Yt("filter",o,{evt:s}),!0}),S)){b&&s.cancelable&&s.preventDefault();return}c.handle&&!yn(w,c.handle,a,!1)||this._prepareDragStart(s,d,v)}}},_prepareDragStart:function(s,o,a){var c=this,b=c.el,h=c.options,d=b.ownerDocument,v;if(a&&!Se&&a.parentNode===b){var w=bt(a);if(it=b,Se=a,ut=Se.parentNode,tr=Se.nextSibling,Go=a,Yo=h.group,je.dragged=Se,nr={target:Se,clientX:(o||s).clientX,clientY:(o||s).clientY},Ea=nr.clientX-w.left,Ca=nr.clientY-w.top,this._lastX=(o||s).clientX,this._lastY=(o||s).clientY,Se.style["will-change"]="all",v=function(){if(Yt("delayEnded",c,{evt:s}),je.eventCanceled){c._onDrop();return}c._disableDelayedDragEvents(),!ma&&c.nativeDraggable&&(Se.draggable=!0),c._triggerDragStart(s,o),jt({sortable:c,name:"choose",originalEvent:s}),en(Se,h.chosenClass,!0)},h.ignore.split(",").forEach(function(S){_a(Se,S.trim(),tl)}),Je(d,"dragover",rr),Je(d,"mousemove",rr),Je(d,"touchmove",rr),Je(d,"mouseup",c._onDrop),Je(d,"touchend",c._onDrop),Je(d,"touchcancel",c._onDrop),ma&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Se.draggable=!0),Yt("delayStart",this,{evt:s}),h.delay&&(!h.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Xr||Ln))){if(je.eventCanceled){this._onDrop();return}Je(d,"mouseup",c._disableDelayedDrag),Je(d,"touchend",c._disableDelayedDrag),Je(d,"touchcancel",c._disableDelayedDrag),Je(d,"mousemove",c._delayedDragTouchMoveHandler),Je(d,"touchmove",c._delayedDragTouchMoveHandler),h.supportPointer&&Je(d,"pointermove",c._delayedDragTouchMoveHandler),c._dragStartTimer=setTimeout(v,h.delay)}else v()}},_delayedDragTouchMoveHandler:function(s){var o=s.touches?s.touches[0]:s;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Se&&tl(Se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var s=this.el.ownerDocument;Ye(s,"mouseup",this._disableDelayedDrag),Ye(s,"touchend",this._disableDelayedDrag),Ye(s,"touchcancel",this._disableDelayedDrag),Ye(s,"mousemove",this._delayedDragTouchMoveHandler),Ye(s,"touchmove",this._delayedDragTouchMoveHandler),Ye(s,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(s,o){o=o||s.pointerType=="touch"&&s,!this.nativeDraggable||o?this.options.supportPointer?Je(document,"pointermove",this._onTouchMove):o?Je(document,"touchmove",this._onTouchMove):Je(document,"mousemove",this._onTouchMove):(Je(Se,"dragend",this),Je(it,"dragstart",this._onDragStart));try{document.selection?oi(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(s,o){if(wr=!1,it&&Se){Yt("dragStarted",this,{evt:o}),this.nativeDraggable&&Je(document,"dragover",Qd);var a=this.options;!s&&en(Se,a.dragClass,!1),en(Se,a.ghostClass,!0),je.active=this,s&&this._appendGhost(),jt({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(cn){this._lastX=cn.clientX,this._lastY=cn.clientY,La();for(var s=document.elementFromPoint(cn.clientX,cn.clientY),o=s;s&&s.shadowRoot&&(s=s.shadowRoot.elementFromPoint(cn.clientX,cn.clientY),s!==o);)o=s;if(Se.parentNode[tn]._isOutsideThisEl(s),o)do{if(o[tn]){var a=void 0;if(a=o[tn]._onDragOver({clientX:cn.clientX,clientY:cn.clientY,target:s,rootEl:o}),a&&!this.options.dragoverBubble)break}s=o}while(o=o.parentNode);Ba()}},_onTouchMove:function(s){if(nr){var o=this.options,a=o.fallbackTolerance,c=o.fallbackOffset,b=s.touches?s.touches[0]:s,h=We&&vr(We,!0),d=We&&h&&h.a,v=We&&h&&h.d,w=ni&&Mt&&wa(Mt),S=(b.clientX-nr.clientX+c.x)/(d||1)+(w?w[0]-Qi[0]:0)/(d||1),g=(b.clientY-nr.clientY+c.y)/(v||1)+(w?w[1]-Qi[1]:0)/(v||1);if(!je.active&&!wr){if(a&&Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))<a)return;this._onDragStart(s,!0)}if(We){h?(h.e+=S-(Zi||0),h.f+=g-(Ji||0)):h={a:1,b:0,c:0,d:1,e:S,f:g};var m="matrix(".concat(h.a,",").concat(h.b,",").concat(h.c,",").concat(h.d,",").concat(h.e,",").concat(h.f,")");Fe(We,"webkitTransform",m),Fe(We,"mozTransform",m),Fe(We,"msTransform",m),Fe(We,"transform",m),Zi=S,Ji=g,cn=b}s.cancelable&&s.preventDefault()}},_appendGhost:function(){if(!We){var s=this.options.fallbackOnBody?document.body:it,o=bt(Se,!0,ni,!0,s),a=this.options;if(ni){for(Mt=s;Fe(Mt,"position")==="static"&&Fe(Mt,"transform")==="none"&&Mt!==document;)Mt=Mt.parentNode;Mt!==document.body&&Mt!==document.documentElement?(Mt===document&&(Mt=_n()),o.top+=Mt.scrollTop,o.left+=Mt.scrollLeft):Mt=_n(),Qi=wa(Mt)}We=Se.cloneNode(!0),en(We,a.ghostClass,!1),en(We,a.fallbackClass,!0),en(We,a.dragClass,!0),Fe(We,"transition",""),Fe(We,"transform",""),Fe(We,"box-sizing","border-box"),Fe(We,"margin",0),Fe(We,"top",o.top),Fe(We,"left",o.left),Fe(We,"width",o.width),Fe(We,"height",o.height),Fe(We,"opacity","0.8"),Fe(We,"position",ni?"absolute":"fixed"),Fe(We,"zIndex","100000"),Fe(We,"pointerEvents","none"),je.ghost=We,s.appendChild(We),Fe(We,"transform-origin",Ea/parseInt(We.style.width)*100+"% "+Ca/parseInt(We.style.height)*100+"%")}},_onDragStart:function(s,o){var a=this,c=s.dataTransfer,b=a.options;if(Yt("dragStart",this,{evt:s}),je.eventCanceled){this._onDrop();return}Yt("setupClone",this),je.eventCanceled||(ft=Sa(Se),ft.draggable=!1,ft.style["will-change"]="",this._hideClone(),en(ft,this.options.chosenClass,!1),je.clone=ft),a.cloneId=oi(function(){Yt("clone",a),!je.eventCanceled&&(a.options.removeCloneOnHide||it.insertBefore(ft,Se),a._hideClone(),jt({sortable:a,name:"clone"}))}),!o&&en(Se,b.dragClass,!0),o?(Xo=!0,a._loopId=setInterval(a._emulateDragOver,50)):(Ye(document,"mouseup",a._onDrop),Ye(document,"touchend",a._onDrop),Ye(document,"touchcancel",a._onDrop),c&&(c.effectAllowed="move",b.setData&&b.setData.call(a,c,Se)),Je(document,"drop",a),Fe(Se,"transform","translateZ(0)")),wr=!0,a._dragStartId=oi(a._dragStarted.bind(a,o,s)),Je(document,"selectstart",a),to=!0,Zr&&Fe(document.body,"user-select","none")},_onDragOver:function(s){var o=this.el,a=s.target,c,b,h,d=this.options,v=d.group,w=je.active,S=Yo===v,g=d.sort,m=Nt||w,p,C=this,E=!1;if(el)return;function O(pe,te){Yt(pe,C,vn({evt:s,isOwner:S,axis:p?"vertical":"horizontal",revert:h,dragRect:c,targetRect:b,canSort:g,fromSortable:m,target:a,completed:x,onMove:function(H,K){return ri(it,o,Se,c,H,bt(H),s,K)},changed:N},te))}function k(){O("dragOverAnimationCapture"),C.captureAnimationState(),C!==m&&m.captureAnimationState()}function x(pe){return O("dragOverCompleted",{insertion:pe}),pe&&(S?w._hideClone():w._showClone(C),C!==m&&(en(Se,Nt?Nt.options.ghostClass:w.options.ghostClass,!1),en(Se,d.ghostClass,!0)),Nt!==C&&C!==je.active?Nt=C:C===je.active&&Nt&&(Nt=null),m===C&&(C._ignoreWhileAnimating=a),C.animateAll(function(){O("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(a===Se&&!Se.animated||a===o&&!a.animated)&&(xr=null),!d.dragoverBubble&&!s.rootEl&&a!==document&&(Se.parentNode[tn]._isOutsideThisEl(s.target),!pe&&rr(s)),!d.dragoverBubble&&s.stopPropagation&&s.stopPropagation(),E=!0}function N(){nn=un(Se),zn=un(Se,d.draggable),jt({sortable:C,name:"change",toEl:o,newIndex:nn,newDraggableIndex:zn,originalEvent:s})}if(s.preventDefault!==void 0&&s.cancelable&&s.preventDefault(),a=yn(a,d.draggable,o,!0),O("dragOver"),je.eventCanceled)return E;if(Se.contains(s.target)||a.animated&&a.animatingX&&a.animatingY||C._ignoreWhileAnimating===a)return x(!1);if(Xo=!1,w&&!d.disabled&&(S?g||(h=ut!==it):Nt===this||(this.lastPutMode=Yo.checkPull(this,w,Se,s))&&v.checkPut(this,w,Se,s))){if(p=this._getDirection(s,a)==="vertical",c=bt(Se),O("dragOverValid"),je.eventCanceled)return E;if(h)return ut=it,k(),this._hideClone(),O("revert"),je.eventCanceled||(tr?it.insertBefore(Se,tr):it.appendChild(Se)),x(!0);var y=Gi(o,d.draggable);if(!y||rh(s,p,this)&&!y.animated){if(y===Se)return x(!1);if(y&&o===s.target&&(a=y),a&&(b=bt(a)),ri(it,o,Se,c,a,b,s,!!a)!==!1)return k(),o.appendChild(Se),ut=o,N(),x(!0)}else if(y&&nh(s,p,this)){var A=yr(o,0,d,!0);if(A===Se)return x(!1);if(a=A,b=bt(a),ri(it,o,Se,c,a,b,s,!1)!==!1)return k(),o.insertBefore(Se,A),ut=o,N(),x(!0)}else if(a.parentNode===o){b=bt(a);var q=0,R,z=Se.parentNode!==o,U=!Zd(Se.animated&&Se.toRect||c,a.animated&&a.toRect||b,p),F=p?"top":"left",I=ba(a,"top","top")||ba(Se,"top","top"),P=I?I.scrollTop:void 0;xr!==a&&(R=b[F],ro=!1,Jo=!U&&d.invertSwap||z),q=oh(s,a,b,p,U?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,Jo,xr===a);var B;if(q!==0){var j=un(Se);do j-=q,B=ut.children[j];while(B&&(Fe(B,"display")==="none"||B===We))}if(q===0||B===a)return x(!1);xr=a,no=q;var V=a.nextElementSibling,oe=!1;oe=q===1;var ie=ri(it,o,Se,c,a,b,s,oe);if(ie!==!1)return(ie===1||ie===-1)&&(oe=ie===1),el=!0,setTimeout(th,30),k(),oe&&!V?o.appendChild(Se):a.parentNode.insertBefore(Se,oe?V:a),I&&ka(I,0,P-I.scrollTop),ut=Se.parentNode,R!==void 0&&!Jo&&(Qo=Math.abs(R-bt(a)[F])),N(),x(!0)}if(o.contains(Se))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ye(document,"mousemove",this._onTouchMove),Ye(document,"touchmove",this._onTouchMove),Ye(document,"pointermove",this._onTouchMove),Ye(document,"dragover",rr),Ye(document,"mousemove",rr),Ye(document,"touchmove",rr)},_offUpEvents:function(){var s=this.el.ownerDocument;Ye(s,"mouseup",this._onDrop),Ye(s,"touchend",this._onDrop),Ye(s,"pointerup",this._onDrop),Ye(s,"touchcancel",this._onDrop),Ye(document,"selectstart",this)},_onDrop:function(s){var o=this.el,a=this.options;if(nn=un(Se),zn=un(Se,a.draggable),Yt("drop",this,{evt:s}),ut=Se&&Se.parentNode,nn=un(Se),zn=un(Se,a.draggable),je.eventCanceled){this._nulling();return}wr=!1,Jo=!1,ro=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),nl(this.cloneId),nl(this._dragStartId),this.nativeDraggable&&(Ye(document,"drop",this),Ye(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Zr&&Fe(document.body,"user-select",""),Fe(Se,"transform",""),s&&(to&&(s.cancelable&&s.preventDefault(),!a.dropBubble&&s.stopPropagation()),We&&We.parentNode&&We.parentNode.removeChild(We),(it===ut||Nt&&Nt.lastPutMode!=="clone")&&ft&&ft.parentNode&&ft.parentNode.removeChild(ft),Se&&(this.nativeDraggable&&Ye(Se,"dragend",this),tl(Se),Se.style["will-change"]="",to&&!wr&&en(Se,Nt?Nt.options.ghostClass:this.options.ghostClass,!1),en(Se,this.options.chosenClass,!1),jt({sortable:this,name:"unchoose",toEl:ut,newIndex:null,newDraggableIndex:null,originalEvent:s}),it!==ut?(nn>=0&&(jt({rootEl:ut,name:"add",toEl:ut,fromEl:it,originalEvent:s}),jt({sortable:this,name:"remove",toEl:ut,originalEvent:s}),jt({rootEl:ut,name:"sort",toEl:ut,fromEl:it,originalEvent:s}),jt({sortable:this,name:"sort",toEl:ut,originalEvent:s})),Nt&&Nt.save()):nn!==br&&nn>=0&&(jt({sortable:this,name:"update",toEl:ut,originalEvent:s}),jt({sortable:this,name:"sort",toEl:ut,originalEvent:s})),je.active&&((nn==null||nn===-1)&&(nn=br,zn=eo),jt({sortable:this,name:"end",toEl:ut,originalEvent:s}),this.save()))),this._nulling()},_nulling:function(){Yt("nulling",this),it=Se=ut=We=tr=ft=Go=qn=nr=cn=to=nn=zn=br=eo=xr=no=Nt=Yo=je.dragged=je.ghost=je.clone=je.active=null,ei.forEach(function(s){s.checked=!0}),ei.length=Zi=Ji=0},handleEvent:function(s){switch(s.type){case"drop":case"dragend":this._onDrop(s);break;case"dragenter":case"dragover":Se&&(this._onDragOver(s),eh(s));break;case"selectstart":s.preventDefault();break}},toArray:function(){for(var s=[],o,a=this.el.children,c=0,b=a.length,h=this.options;c<b;c++)o=a[c],yn(o,h.draggable,this.el,!1)&&s.push(o.getAttribute(h.dataIdAttr)||lh(o));return s},sort:function(s,o){var a={},c=this.el;this.toArray().forEach(function(b,h){var d=c.children[h];yn(d,this.options.draggable,c,!1)&&(a[b]=d)},this),o&&this.captureAnimationState(),s.forEach(function(b){a[b]&&(c.removeChild(a[b]),c.appendChild(a[b]))}),o&&this.animateAll()},save:function(){var s=this.options.store;s&&s.set&&s.set(this)},closest:function(s,o){return yn(s,o||this.options.draggable,this.el,!1)},option:function(s,o){var a=this.options;if(o===void 0)return a[s];var c=Qr.modifyOption(this,s,o);typeof c!="undefined"?a[s]=c:a[s]=o,s==="group"&&Aa(a)},destroy:function(){Yt("destroy",this);var s=this.el;s[tn]=null,Ye(s,"mousedown",this._onTapStart),Ye(s,"touchstart",this._onTapStart),Ye(s,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ye(s,"dragover",this),Ye(s,"dragenter",this)),Array.prototype.forEach.call(s.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Zo.splice(Zo.indexOf(this.el),1),this.el=s=null},_hideClone:function(){if(!qn){if(Yt("hideClone",this),je.eventCanceled)return;Fe(ft,"display","none"),this.options.removeCloneOnHide&&ft.parentNode&&ft.parentNode.removeChild(ft),qn=!0}},_showClone:function(s){if(s.lastPutMode!=="clone"){this._hideClone();return}if(qn){if(Yt("showClone",this),je.eventCanceled)return;Se.parentNode==it&&!this.options.group.revertClone?it.insertBefore(ft,Se):tr?it.insertBefore(ft,tr):it.appendChild(ft),this.options.group.revertClone&&this.animate(Se,ft),Fe(ft,"display",""),qn=!1}}};function eh(u){u.dataTransfer&&(u.dataTransfer.dropEffect="move"),u.cancelable&&u.preventDefault()}function ri(u,s,o,a,c,b,h,d){var v,w=u[tn],S=w.options.onMove,g;return window.CustomEvent&&!Ln&&!Xr?v=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent("move",!0,!0)),v.to=s,v.from=u,v.dragged=o,v.draggedRect=a,v.related=c||s,v.relatedRect=b||bt(s),v.willInsertAfter=d,v.originalEvent=h,u.dispatchEvent(v),S&&(g=S.call(w,v,h)),g}function tl(u){u.draggable=!1}function th(){el=!1}function nh(u,s,o){var a=bt(yr(o.el,0,o.options,!0)),c=10;return s?u.clientX<a.left-c||u.clientY<a.top&&u.clientX<a.right:u.clientY<a.top-c||u.clientY<a.bottom&&u.clientX<a.left}function rh(u,s,o){var a=bt(Gi(o.el,o.options.draggable)),c=10;return s?u.clientX>a.right+c||u.clientX<=a.right&&u.clientY>a.bottom&&u.clientX>=a.left:u.clientX>a.right&&u.clientY>a.top||u.clientX<=a.right&&u.clientY>a.bottom+c}function oh(u,s,o,a,c,b,h,d){var v=a?u.clientY:u.clientX,w=a?o.height:o.width,S=a?o.top:o.left,g=a?o.bottom:o.right,m=!1;if(!h){if(d&&Qo<w*c){if(!ro&&(no===1?v>S+w*b/2:v<g-w*b/2)&&(ro=!0),ro)m=!0;else if(no===1?v<S+Qo:v>g-Qo)return-no}else if(v>S+w*(1-c)/2&&v<g-w*(1-c)/2)return ih(s)}return m=m||h,m&&(v<S+w*b/2||v>g-w*b/2)?v>S+w/2?1:-1:0}function ih(u){return un(Se)<un(u)?1:-1}function lh(u){for(var s=u.tagName+u.className+u.src+u.href+u.textContent,o=s.length,a=0;o--;)a+=s.charCodeAt(o);return a.toString(36)}function ah(u){ei.length=0;for(var s=u.getElementsByTagName("input"),o=s.length;o--;){var a=s[o];a.checked&&ei.push(a)}}function oi(u){return setTimeout(u,0)}function nl(u){return clearTimeout(u)}ti&&Je(document,"touchmove",function(u){(je.active||wr)&&u.cancelable&&u.preventDefault()}),je.utils={on:Je,off:Ye,css:Fe,find:_a,is:function(s,o){return!!yn(s,o,s,!1)},extend:Hd,throttle:xa,closest:yn,toggleClass:en,clone:Sa,index:un,nextTick:oi,cancelNextTick:nl,detectDirection:Na,getChild:yr},je.get=function(u){return u[tn]},je.mount=function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];s[0].constructor===Array&&(s=s[0]),s.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(je.utils=vn(vn({},je.utils),a.utils)),Qr.mount(a)})},je.create=function(u,s){return new je(u,s)},je.version=Fd;var vt=[],oo,rl,ol=!1,il,ll,ii,io;function sh(){function u(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this))}return u.prototype={dragStarted:function(o){var a=o.originalEvent;this.sortable.nativeDraggable?Je(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Je(document,"pointermove",this._handleFallbackAutoScroll):a.touches?Je(document,"touchmove",this._handleFallbackAutoScroll):Je(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var a=o.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):(Ye(document,"pointermove",this._handleFallbackAutoScroll),Ye(document,"touchmove",this._handleFallbackAutoScroll),Ye(document,"mousemove",this._handleFallbackAutoScroll)),Da(),li(),Wd()},nulling:function(){ii=rl=oo=ol=io=il=ll=null,vt.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,a){var c=this,b=(o.touches?o.touches[0]:o).clientX,h=(o.touches?o.touches[0]:o).clientY,d=document.elementFromPoint(b,h);if(ii=o,a||this.options.forceAutoScrollFallback||Xr||Ln||Zr){al(o,this.options,d,a);var v=jn(d,!0);ol&&(!io||b!==il||h!==ll)&&(io&&Da(),io=setInterval(function(){var w=jn(document.elementFromPoint(b,h),!0);w!==v&&(v=w,li()),al(o,c.options,w,a)},10),il=b,ll=h)}else{if(!this.options.bubbleScroll||jn(d,!0)===_n()){li();return}al(o,this.options,jn(d,!1),!1)}}},Nn(u,{pluginName:"scroll",initializeByDefault:!0})}function li(){vt.forEach(function(u){clearInterval(u.pid)}),vt=[]}function Da(){clearInterval(io)}var al=xa(function(u,s,o,a){if(!!s.scroll){var c=(u.touches?u.touches[0]:u).clientX,b=(u.touches?u.touches[0]:u).clientY,h=s.scrollSensitivity,d=s.scrollSpeed,v=_n(),w=!1,S;rl!==o&&(rl=o,li(),oo=s.scroll,S=s.scrollFn,oo===!0&&(oo=jn(o,!0)));var g=0,m=oo;do{var p=m,C=bt(p),E=C.top,O=C.bottom,k=C.left,x=C.right,N=C.width,y=C.height,A=void 0,q=void 0,R=p.scrollWidth,z=p.scrollHeight,U=Fe(p),F=p.scrollLeft,I=p.scrollTop;p===v?(A=N<R&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),q=y<z&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(A=N<R&&(U.overflowX==="auto"||U.overflowX==="scroll"),q=y<z&&(U.overflowY==="auto"||U.overflowY==="scroll"));var P=A&&(Math.abs(x-c)<=h&&F+N<R)-(Math.abs(k-c)<=h&&!!F),B=q&&(Math.abs(O-b)<=h&&I+y<z)-(Math.abs(E-b)<=h&&!!I);if(!vt[g])for(var j=0;j<=g;j++)vt[j]||(vt[j]={});(vt[g].vx!=P||vt[g].vy!=B||vt[g].el!==p)&&(vt[g].el=p,vt[g].vx=P,vt[g].vy=B,clearInterval(vt[g].pid),(P!=0||B!=0)&&(w=!0,vt[g].pid=setInterval(function(){a&&this.layer===0&&je.active._onTouchMove(ii);var V=vt[this.layer].vy?vt[this.layer].vy*d:0,oe=vt[this.layer].vx?vt[this.layer].vx*d:0;typeof S=="function"&&S.call(je.dragged.parentNode[tn],oe,V,u,ii,vt[this.layer].el)!=="continue"||ka(vt[this.layer].el,oe,V)}.bind({layer:g}),24))),g++}while(s.bubbleScroll&&m!==v&&(m=jn(m,!1)));ol=w}},30),Ia=function(s){var o=s.originalEvent,a=s.putSortable,c=s.dragEl,b=s.activeSortable,h=s.dispatchSortableEvent,d=s.hideGhostForTarget,v=s.unhideGhostForTarget;if(!!o){var w=a||b;d();var S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,g=document.elementFromPoint(S.clientX,S.clientY);v(),w&&!w.el.contains(g)&&(h("spill"),this.onSpill({dragEl:c,putSortable:a}))}};function sl(){}sl.prototype={startIndex:null,dragStart:function(s){var o=s.oldDraggableIndex;this.startIndex=o},onSpill:function(s){var o=s.dragEl,a=s.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var c=yr(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(o,c):this.sortable.el.appendChild(o),this.sortable.animateAll(),a&&a.animateAll()},drop:Ia},Nn(sl,{pluginName:"revertOnSpill"});function ul(){}ul.prototype={onSpill:function(s){var o=s.dragEl,a=s.putSortable,c=a||this.sortable;c.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),c.animateAll()},drop:Ia},Nn(ul,{pluginName:"removeOnSpill"}),je.mount(new sh),je.mount(ul,sl);function fl(u){u.parentElement!==null&&u.parentElement.removeChild(u)}function Ma(u,s,o){const a=o===0?u.children[0]:u.children[o-1].nextSibling;u.insertBefore(s,a)}function uh(){return typeof window!="undefined"?window.console:global.console}const fh=uh();function ch(u){const s=Object.create(null);return function(a){return s[a]||(s[a]=u(a))}}const dh=/-(\w)/g,hh=ch(u=>u.replace(dh,(s,o)=>o.toUpperCase())),Va=["Start","Add","Remove","Update","End"],Ra=["Choose","Unchoose","Sort","Filter","Clone"],Pa=["Move"],ph=[Pa,Va,Ra].flatMap(u=>u).map(u=>`on${u}`),cl={manage:Pa,manageAndEmit:Va,emit:Ra};function mh(u){return ph.indexOf(u)!==-1}const gh=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function vh(u){return gh.includes(u)}function yh(u){return["transition-group","TransitionGroup"].includes(u)}function Fa(u){return["id","class","role","style"].includes(u)||u.startsWith("data-")||u.startsWith("aria-")||u.startsWith("on")}function ja(u){return u.reduce((s,[o,a])=>(s[o]=a,s),{})}function _h({$attrs:u,componentData:s={}}){const o=ja(Object.entries(u).filter(([a,c])=>Fa(a)));return Tt(Tt({},o),s)}function bh({$attrs:u,callBackBuilder:s}){const o=ja(qa(u));Object.entries(s).forEach(([c,b])=>{cl[c].forEach(h=>{o[`on${h}`]=b(h)})});const a=`[data-draggable]${o.draggable||""}`;return er(Tt({},o),{draggable:a})}function qa(u){return Object.entries(u).filter(([s,o])=>!Fa(s)).map(([s,o])=>[hh(s),o]).filter(([s,o])=>!mh(s))}const za=({el:u})=>u,wh=(u,s)=>u.__draggable_context=s,Ha=u=>u.__draggable_context;class xh{constructor({nodes:{header:s,default:o,footer:a},root:c,realList:b}){this.defaultNodes=o,this.children=[...s,...o,...a],this.externalComponent=c.externalComponent,this.rootTransition=c.transition,this.tag=c.tag,this.realList=b}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(s,o){const{tag:a,children:c,_isRootComponent:b}=this;return s(a,o,b?{default:()=>c}:c)}updated(){const{defaultNodes:s,realList:o}=this;s.forEach((a,c)=>{wh(za(a),{element:o[c],index:c})})}getUnderlyingVm(s){return Ha(s)}getVmIndexFromDomIndex(s,o){const{defaultNodes:a}=this,{length:c}=a,b=o.children,h=b.item(s);if(h===null)return c;const d=Ha(h);if(d)return d.index;if(c===0)return 0;const v=za(a[0]),w=[...b].findIndex(S=>S===v);return s<w?0:c}}function kh(u,s){const o=u[s];return o?o():[]}function Sh({$slots:u,realList:s,getKey:o}){const a=s||[],[c,b]=["header","footer"].map(v=>kh(u,v)),{item:h}=u;if(!h)throw new Error("draggable element must have an item slot");const d=a.flatMap((v,w)=>h({element:v,index:w}).map(S=>(S.key=o(v),S.props=er(Tt({},S.props||{}),{"data-draggable":!0}),S)));if(d.length!==a.length)throw new Error("Item slot must have only one child");return{header:c,footer:b,default:d}}function Eh(u){const s=yh(u),o=!vh(u)&&!s;return{transition:s,externalComponent:o,tag:o?i.resolveComponent(u):s?i.TransitionGroup:u}}function Ch({$slots:u,tag:s,realList:o,getKey:a}){const c=Sh({$slots:u,realList:o,getKey:a}),b=Eh(s);return new xh({nodes:c,root:b,realList:o})}function Wa(u,s){i.nextTick(()=>this.$emit(u.toLowerCase(),s))}function Ua(u){return(s,o)=>{if(this.realList!==null)return this[`onDrag${u}`](s,o)}}function Oh(u){const s=Ua.call(this,u);return(o,a)=>{s.call(this,o,a),Wa.call(this,u,o)}}let dl=null;const Th={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:u=>u},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Nh=["update:modelValue","change",...[...cl.manageAndEmit,...cl.emit].map(u=>u.toLowerCase())],$a=i.defineComponent({name:"draggable",inheritAttrs:!1,props:Th,emits:Nh,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:u,$attrs:s,tag:o,componentData:a,realList:c,getKey:b}=this,h=Ch({$slots:u,tag:o,realList:c,getKey:b});this.componentStructure=h;const d=_h({$attrs:s,componentData:a});return h.render(i.h,d)}catch(u){return this.error=!0,i.h("pre",{style:{color:"red"}},u.stack)}},created(){this.list!==null&&this.modelValue!==null&&fh.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:u,$el:s,componentStructure:o}=this;o.updated();const a=bh({$attrs:u,callBackBuilder:{manageAndEmit:b=>Oh.call(this,b),emit:b=>Wa.bind(this,b),manage:b=>Ua.call(this,b)}}),c=s.nodeType===1?s:s.parentElement;this._sortable=new je(c,a),this.targetDomElement=c,c.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:u}=this;return u||this.modelValue},getKey(){const{itemKey:u}=this;return typeof u=="function"?u:s=>s[u]}},watch:{$attrs:{handler(u){const{_sortable:s}=this;!s||qa(u).forEach(([o,a])=>{s.option(o,a)})},deep:!0}},methods:{getUnderlyingVm(u){return this.componentStructure.getUnderlyingVm(u)||null},getUnderlyingPotencialDraggableComponent(u){return u.__draggable_component__},emitChanges(u){i.nextTick(()=>this.$emit("change",u))},alterList(u){if(this.list){u(this.list);return}const s=[...this.modelValue];u(s),this.$emit("update:modelValue",s)},spliceList(){const u=s=>s.splice(...arguments);this.alterList(u)},updatePosition(u,s){const o=a=>a.splice(s,0,a.splice(u,1)[0]);this.alterList(o)},getRelatedContextFromMoveEvent({to:u,related:s}){const o=this.getUnderlyingPotencialDraggableComponent(u);if(!o)return{component:o};const a=o.realList,c={list:a,component:o};if(u!==s&&a){const b=o.getUnderlyingVm(s)||{};return Tt(Tt({},b),c)}return c},getVmIndexFromDomIndex(u){return this.componentStructure.getVmIndexFromDomIndex(u,this.targetDomElement)},onDragStart(u){this.context=this.getUnderlyingVm(u.item),u.item._underlying_vm_=this.clone(this.context.element),dl=u.item},onDragAdd(u){const s=u.item._underlying_vm_;if(s===void 0)return;fl(u.item);const o=this.getVmIndexFromDomIndex(u.newIndex);this.spliceList(o,0,s);const a={element:s,newIndex:o};this.emitChanges({added:a})},onDragRemove(u){if(Ma(this.$el,u.item,u.oldIndex),u.pullMode==="clone"){fl(u.clone);return}const{index:s,element:o}=this.context;this.spliceList(s,1);const a={element:o,oldIndex:s};this.emitChanges({removed:a})},onDragUpdate(u){fl(u.item),Ma(u.from,u.item,u.oldIndex);const s=this.context.index,o=this.getVmIndexFromDomIndex(u.newIndex);this.updatePosition(s,o);const a={element:this.context.element,oldIndex:s,newIndex:o};this.emitChanges({moved:a})},computeFutureIndex(u,s){if(!u.element)return 0;const o=[...s.to.children].filter(h=>h.style.display!=="none"),a=o.indexOf(s.related),c=u.component.getVmIndexFromDomIndex(a);return o.indexOf(dl)!==-1||!s.willInsertAfter?c:c+1},onDragMove(u,s){const{move:o,realList:a}=this;if(!o||!a)return!0;const c=this.getRelatedContextFromMoveEvent(u),b=this.computeFutureIndex(c,u),h=er(Tt({},this.context),{futureIndex:b}),d=er(Tt({},u),{relatedContext:c,draggedContext:h});return o(d,s)},onDragEnd(){dl=null}}}),ht=[{required:!1,message:"\u5FC5\u586B\u9879",trigger:"blur"}],Ah=[{name:"\u8F93\u5165\u6846",component:"input",uuid:"",options:{label:"\u8F93\u5165\u6846",key:"",defaultValue:"",rules:ht,width:"100%",placeholder:"\u8BF7\u8F93\u5165",prefixIcon:"",suffixIcon:"",hidden:!1,clearable:!1,disabled:!1,showPassword:!1,maxlength:50,showWordLimit:!0}},{name:"\u6587\u672C\u6846",component:"textarea",uuid:"",options:{label:"\u6587\u672C\u6846",key:"",defaultValue:"",rules:ht,width:"100%",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",rows:4,hidden:!1,disabled:!1,maxlength:50,showWordLimit:!0}},{name:"\u6570\u5B57\u8F93\u5165\u6846",component:"number",uuid:"",options:{label:"\u6570\u5B57\u8F93\u5165\u6846",key:"",defaultValue:10,rules:ht,width:"100%",min:0,max:100,hidden:!1,disabled:!1}}],Lh=[{name:"\u4E0B\u62C9\u5355\u9009",component:"select",uuid:"",options:{label:"\u4E0B\u62C9\u5355\u9009",key:"",options:{remote:!1,items:[]},defaultValue:"",rules:ht,placeholder:"\u8BF7\u9009\u62E9",noDataText:"\u6682\u65E0\u6570\u636E",noMatchText:"\u65E0\u5339\u914D\u6570\u636E",width:"100%",hidden:!1,clearable:!1,disabled:!1,filterable:!1}},{name:"\u4E0B\u62C9\u591A\u9009",component:"multi-select",uuid:"",options:{label:"\u4E0B\u62C9\u591A\u9009",key:"",options:{remote:!1,items:[]},defaultValue:[],rules:ht,placeholder:"\u8BF7\u9009\u62E9",noDataText:"\u6682\u65E0\u6570\u636E",noMatchText:"\u65E0\u5339\u914D\u6570\u636E",width:"100%",hidden:!1,clearable:!1,disabled:!1,filterable:!1,collapseTags:!1,multipleLimit:0}},{name:"\u7EA7\u8054\u9009\u62E9\u5668",component:"cascader",uuid:"",options:{label:"\u7EA7\u8054\u9009\u62E9\u5668",key:"",options:{remote:!1,items:[]},defaultValue:[],rules:ht,placeholder:"\u8BF7\u9009\u62E9",width:"100%",expandTrigger:"click",hidden:!1,clearable:!1,disabled:!1,filterable:!1,collapseTags:!1,multipleLimit:0,rules:ht}},{name:"\u591A\u9009\u6846",component:"checkbox",uuid:"",options:{label:"\u591A\u9009\u6846",key:"",options:{remote:!1,items:[]},defaultValue:[],rules:ht,width:"100%",hidden:!1,disabled:!1}},{name:"\u5355\u9009\u6846",component:"radio",uuid:"",options:{label:"\u5355\u9009\u6846",key:"",options:{remote:!1,items:[]},defaultValue:"",rules:ht,width:"100%",hidden:!1,disabled:!1}},{name:"\u65F6\u95F4\u9009\u62E9\u5668",component:"time-picker",uuid:"",options:{label:"\u65F6\u95F4\u9009\u62E9\u5668",key:"",defaultValue:void 0,rules:ht,placeholder:"\u8BF7\u9009\u62E9",width:"100%",prefixIcon:"el-icon-time",format:"HH:mm:ss",hidden:!1,clearable:!1,disabled:!1}},{name:"\u65F6\u95F4\u8303\u56F4",component:"time-range-picker",uuid:"",options:{label:"\u65F6\u95F4\u8303\u56F4",key:"",defaultValue:[],rules:ht,placeholder:"\u8BF7\u9009\u62E9",width:"100%",prefixIcon:"el-icon-time",format:"HH:mm:ss",hidden:!1,clearable:!1,disabled:!1}},{name:"\u65E5\u671F\u9009\u62E9\u5668",component:"date-picker",uuid:"",options:{label:"\u65E5\u671F\u9009\u62E9\u5668",key:"",defaultValue:void 0,rules:ht,placeholder:"\u8BF7\u9009\u62E9",width:"100%",prefixIcon:"el-icon-time",format:"YYYY-MM-DD",hidden:!1,clearable:!1,disabled:!1}},{name:"\u65E5\u671F\u8303\u56F4",component:"date-range-picker",uuid:"",options:{label:"\u65E5\u671F\u8303\u56F4",key:"",defaultValue:[],rules:ht,placeholder:"\u8BF7\u9009\u62E9",width:"100%",prefixIcon:"el-icon-time",format:"YYYY-MM-DD",hidden:!1,clearable:!1,disabled:!1}},{name:"\u8BC4\u5206",component:"rate",uuid:"",options:{label:"\u8BC4\u5206",key:"",defaultValue:3,rules:ht,width:"100%",max:5,hidden:!1,disabled:!1,allowHalf:!1}},{name:"\u6ED1\u5757",component:"slider",uuid:"",options:{label:"\u6ED1\u5757",key:"",defaultValue:10,rules:ht,width:"100%",min:0,max:100,step:1,hidden:!1,disabled:!1,showStops:!1,showToolTip:!0,showInput:!1}},{name:"\u5F00\u5173",component:"switch",uuid:"",options:{label:"\u5F00\u5173",key:"",defaultValue:!1,rules:ht,width:"100%",hidden:!1,disabled:!1,activeText:"",inactiveText:"",activeColor:"#409EFF",inactiveColor:"#C0CCDA"}},{name:"\u989C\u8272\u9009\u62E9\u5668",component:"color-picker",uuid:"",options:{label:"\u989C\u8272\u9009\u62E9\u5668",key:"",defaultValue:"",rules:ht,width:"100%",hidden:!1,disabled:!1,showAlpha:!1}},{name:"\u6587\u4EF6\u4E0A\u4F20",component:"upload",uuid:"",options:{label:"\u6587\u4EF6\u4E0A\u4F20",key:"",defaultValue:[],rules:ht,width:"100%",uploadUrl:"https://jsonplaceholder.typicode.com/posts/",uploadName:"file",buttonText:"\u4E0A\u4F20\u6587\u4EF6",uploadSize:"500KB",tip:"",uploadData:{},uploadHeaders:{},limit:3,hidden:!1,disabled:!1,showToolTip:!1,showFileList:!1,multiple:!1}}],Bh=[{name:"Quill\u7F16\u8F91\u5668",component:"quill-editor",uuid:"",options:{label:"Quill\u7F16\u8F91\u5668",key:"",defaultValue:"",rules:ht,width:"100%",height:"100px",placeholder:"\u8BF7\u8F93\u5165",hidden:!1,disabled:!1}},{name:"Tinymce\u7F16\u8F91\u5668",component:"tinymce-editor",uuid:"",options:{label:"Tinymce\u7F16\u8F91\u5668",key:"",defaultValue:"",rules:ht,width:"100%",height:"100px",placeholder:"\u8BF7\u8F93\u5165",hidden:!1,disabled:!1}},{name:"\u624B\u5199\u7B7E\u540D",component:"signature",uuid:"",options:{label:"\u624B\u5199\u7B7E\u540D",key:"",defaultValue:"",rules:ht,width:"100%",height:"100px",disabled:!1,penColor:"#000000",backgroundColor:"#dddddd"}}],Ka={name:"\u5BF9\u8C61\u5E03\u5C40",component:"object",uuid:"",options:{label:"\u5BF9\u8C61\u5E03\u5C40",key:"",defaultValue:{},width:"100%",gutter:0},items:[]},Dh=[Ka,{name:"\u5361\u7247\u5E03\u5C40",component:"card",uuid:"",options:{label:"\u5361\u7247\u5E03\u5C40",key:"",defaultValue:{},width:"100%",gutter:0,shadow:"always",padding:"20px 20px 20px 20px"},items:[]},{name:"\u6807\u7B7E\u5E03\u5C40",component:"tabs",uuid:"",options:{label:"\u6807\u7B7E\u5E03\u5C40",key:"",defaultValue:{},width:"100%",tabType:"border-card",tabPosition:"top"},items:[]},{name:"\u5217\u8868",component:"table",uuid:"",options:{label:"\u5217\u8868",key:"",defaultValue:[],width:"100%"},items:[]}],Ih={name:"\u8868\u5355",component:"object",uuid:"root",options:{labelWidth:"120px",labelPosition:"right",size:"medium",gutter:0,hideRequiredAsterisk:!1,statusIcon:!1},items:[]},Mh={activeColor:"\u6253\u5F00\u65F6\u80CC\u666F\u8272",activeText:"\u6253\u5F00\u65F6\u6587\u5B57\u63CF\u8FF0",allowHalf:"\u5141\u8BB8\u534A\u9009",buttonText:"\u6309\u94AE\u6587\u5B57",clearable:"\u53EF\u6E05\u9664",collapseTags:"\u591A\u9009\u5408\u5E76\u663E\u793A",defaultValue:"\u9ED8\u8BA4\u503C",disabled:"\u7981\u7528",expandTrigger:"\u89E6\u53D1\u5B50\u83DC\u5355\u65B9\u5F0F",filterable:"\u53EF\u641C\u7D22",format:"\u663E\u793A\u683C\u5F0F",gutter:"\u884C\u5185\u95F4\u8DDD",hidden:"\u9690\u85CF",hideRequiredAsterisk:"\u9690\u85CF\u5FC5\u9009\u6807\u8BB0",inactiveColor:"\u5173\u95ED\u65F6\u80CC\u666F\u8272",inactiveText:"\u5173\u95ED\u65F6\u6587\u5B57\u63CF\u8FF0",inline:"\u662F\u5426\u884C\u5185\u8868\u5355",key:"\u5B57\u6BB5\u540D\u79F0(\u82F1\u6587)",labelPosition:"\u5BF9\u9F50\u65B9\u5F0F",labelWidth:"\u6807\u7B7E\u5BBD\u5EA6",label:"\u6807\u7B7E",limit:"\u4E2A\u6570\u9650\u5236",max:"\u6700\u5927\u503C",maxlength:"\u6700\u5927\u957F\u5EA6",min:"\u6700\u5C0F\u503C",multipleLimit:"\u591A\u9009\u4E2A\u6570\u9650\u5236",multiple:"\u5141\u8BB8\u591A\u9009",noDataText:"\u65E0\u9009\u9879\u63D0\u793A",noMatchText:"\u641C\u7D22\u65E0\u5339\u914D\u63D0\u793A",options:"\u9009\u9879",padding:"\u5185\u8FB9\u8DDD",placeholder:"\u5360\u4F4D\u6587\u672C",prefixIcon:"\u524D\u7F00\u56FE\u6807",rows:"\u6587\u672C\u57DF\u9AD8\u5EA6",rules:"\u9A8C\u8BC1",shadow:"\u9634\u5F71\u663E\u793A",showAlpha:"\u900F\u660E\u5EA6\u9009\u62E9",showFileList:"\u663E\u793A\u4E0A\u4F20\u5217\u8868",showInput:"\u663E\u793A\u8F93\u5165\u6846",showPassword:"\u5BC6\u7801\u6846",showStops:"\u663E\u793A\u95F4\u65AD\u70B9",showToolTip:"\u663E\u793A\u63D0\u793A",showWordLimit:"\u663E\u793A\u5B57\u6570\u7EDF\u8BA1",size:"\u7EC4\u4EF6\u5C3A\u5BF8",statusIcon:"\u663E\u793A\u6821\u9A8C\u53CD\u9988\u56FE\u6807",suffixIcon:"\u540E\u7F00\u56FE\u6807",tabPosition:"\u9009\u9879\u5361\u4F4D\u7F6E",tabType:"\u9009\u9879\u5361\u6837\u5F0F",tip:"\u63D0\u793A\u8BF4\u660E\u6587\u5B57",uploadData:"\u4E0A\u4F20\u989D\u5916\u53C2\u6570",uploadHeaders:"\u4E0A\u4F20\u8BF7\u6C42\u5934\u90E8",uploadName:"\u6587\u4EF6\u5B57\u6BB5\u540D",uploadSize:"\u4E0A\u4F20\u5927\u5C0F\u9650\u5236",uploadUrl:"\u4E0A\u4F20\u5730\u5740",width:"\u7EC4\u4EF6\u5BBD\u5EA6",height:"\u7EC4\u4EF6\u9AD8\u5EA6",penColor:"\u7B14\u989C\u8272",backgroundColor:"\u80CC\u666F\u989C\u8272"},Vh={components:{draggable:$a},setup(){const u=i.inject("uuids"),s=i.inject("groups"),o=i.inject("register");return o("\u8F93\u5165\u7EC4\u4EF6",Ah),o("\u9009\u62E9\u7EC4\u4EF6",Lh),o("\u590D\u6742\u7EC4\u4EF6",Bh),o("\u5E03\u5C40\u7EC4\u4EF6",Dh),{uuids:u,groups:s,clone:a=>{const c=Ft(a);return c.uuid=c.uuid||c.component.replaceAll("-","_")+"_"+Wo(8),c.options.key=c.options.key||c.uuid,c}}}},Rh={class:"form-picker"},Ph={class:"title"},Fh={class:"form-item-group"},jh={class:"form-item-drop"};function qh(u,s,o,a,c,b){const h=i.resolveComponent("draggable");return i.openBlock(),i.createElementBlock("div",Rh,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.groups,d=>(i.openBlock(),i.createElementBlock("div",{class:"form-item-section",key:d.name},[i.createElementVNode("div",Ph,i.toDisplayString(d.name),1),i.createElementVNode("div",Fh,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(d.components,v=>(i.openBlock(),i.createBlock(h,{key:v.name,class:i.normalizeClass(["form-item-group-item",{"is-disabled":a.uuids.indexOf(v.uuid)>-1}]),"model-value":[v],"item-key":"name",group:{name:"form-draggable",pull:"clone",put:!1},"ghost-class":"ghost",sort:!1,disabled:a.uuids.indexOf(v.uuid)>-1,clone:a.clone},{item:i.withCtx(({element:w})=>[i.createElementVNode("div",jh,i.toDisplayString(w.name),1)]),_:2},1032,["class","model-value","disabled","clone"]))),128))])]))),128))])}var zh=he(Vh,[["render",qh]]);const Hh={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Wh=[i.createElementVNode("path",{d:"M276.864 129.984h85.12v44.8H237.632v253.248c0 46.976-73.088 85.12-120.064 85.12 46.976 0 120.064 38.144 120.064 85.12v252.8h124.352v45.248h-85.12c-45.568-11.52-85.12-38.336-85.12-85.12V640.896a85.12 85.12 0 0 0-85.12-85.12H64v-85.248h42.56a85.12 85.12 0 0 0 85.12-85.12V215.104c0-47.04 38.144-85.12 85.184-85.12zm468.032 0a85.12 85.12 0 0 1 85.12 85.12v170.304a85.12 85.12 0 0 0 85.12 85.12h42.624v85.184H915.2a85.12 85.12 0 0 0-85.12 85.12v170.304a85.12 85.12 0 0 1-85.184 85.12h-85.12v-46.208H787.2V598.272c0-22.528 8.96-44.16 24.96-60.16s65.536-24.96 88.064-24.96c-22.528 0-72.128-8.96-88.064-24.96a85.12 85.12 0 0 1-24.96-60.16V173.12H659.648v-43.2h85.12zM500.288 640.896a32 32 0 1 1 0 64 32 32 0 0 1 0-64zm-106.24 0a32 32 0 1 1 0 64 32 32 0 0 1 0-64zm212.544 0a32 32 0 1 1 0 64 32 32 0 0 1 0-64z",fill:"#101317"},null,-1)];function Uh(u,s){return i.openBlock(),i.createElementBlock("svg",Hh,Wh)}const $h={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Kh=[i.createElementVNode("path",{d:"M512 74.667C270.933 74.667 74.667 270.933 74.667 512S270.933 949.333 512 949.333 949.333 753.067 949.333 512 753.067 74.667 512 74.667zm0 810.666C307.2 885.333 138.667 716.8 138.667 512S307.2 138.667 512 138.667 885.333 307.2 885.333 512 716.8 885.333 512 885.333z"},null,-1),i.createElementVNode("path",{d:"M708.267 465.067 473.6 330.667c-8.533-4.267-17.067-6.4-25.6-6.4-29.867 0-53.333 23.466-53.333 53.333v268.8c0 8.533 2.133 19.2 6.4 25.6 10.666 17.067 27.733 27.733 46.933 27.733 8.533 0 17.067-2.133 25.6-6.4l234.667-134.4c8.533-4.266 14.933-10.666 19.2-19.2 6.4-12.8 8.533-27.733 4.266-40.533-2.133-14.933-10.666-25.6-23.466-34.133zM458.667 627.2V396.8L661.333 512 458.667 627.2z"},null,-1)];function Gh(u,s){return i.openBlock(),i.createElementBlock("svg",$h,Kh)}const Yh={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Xh=[i.createElementVNode("path",{d:"M270.336 290.76h95.232c9.557 0 17.408 3.072 23.552 9.216s9.216 13.824 9.216 23.04-3.072 16.896-9.216 23.04-13.995 9.557-23.552 10.24H212.992c-9.557-.683-17.408-4.096-23.552-10.24s-9.216-13.653-9.216-22.528V170.952c0-9.557 3.072-17.408 9.216-23.552s13.995-9.216 23.552-9.216 17.408 3.072 23.552 9.216 9.216 13.995 9.216 23.552v51.2c58.709-52.565 125.781-85.163 201.216-97.792 75.435-12.63 149.675-3.584 222.72 27.136 72.363 32.768 129.536 81.237 171.52 145.408s63.317 135.85 64 215.04c-2.731 111.275-41.131 203.947-115.2 278.016S623.275 902.429 512 905.16c-111.275-2.731-203.947-41.131-278.016-115.2s-112.469-166.741-115.2-278.016h65.536c2.048 92.843 33.963 170.155 95.744 231.936S419.157 837.576 512 839.624c92.843-2.048 169.984-33.963 231.424-95.744s93.525-139.093 96.256-231.936c-.683-68.95-19.797-130.56-57.344-184.832s-88.064-94.38-151.552-120.32c-64.171-23.893-128.512-28.501-193.024-13.824-64.512 14.677-120.32 47.275-167.424 97.792z"},null,-1)];function Zh(u,s){return i.openBlock(),i.createElementBlock("svg",Yh,Xh)}const Jh={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Qh=[i.createElementVNode("path",{d:"M784.992 230.016V180q0-14.016 8.992-23.008T816.48 148t22.496 8.992T848.992 180v148.992q-.992 12.992-10.016 22.016t-22.016 10.016H667.968q-14.016-.992-23.008-10.016t-8.992-22.496 8.992-22.496 23.008-8.992h92.992q-78.016-82.016-183.488-99.488T372.96 232.032q-98.016 54.016-140.992 152t-16.992 208q28.992 108 113.504 173.504t196.512 67.488q136-3.008 226.016-93.504t94.016-226.496h64q-4 163.008-112.512 271.488T525.024 897.024q-163.008-4-271.488-112.512T141.024 513.024q.992-116 62.016-210.016t167.008-140.992Q477.056 116 587.552 134.528t197.504 95.488z"},null,-1)];function ep(u,s){return i.openBlock(),i.createElementBlock("svg",Jh,Qh)}const tp={components:{ElTooltip:Q.ElTooltip,ElDialog:Q.ElDialog,ElButton:Q.ElButton,ElDivider:Q.ElDivider,ElIcon:Q.ElIcon,CodeMirror:Gr,FormRender:Uo,JsonIcon:Uh,DeleteIcon:Yr,PlayIcon:Gh,RefreshLeftIcon:Zh,RefreshRightIcon:ep},setup(){const u=i.ref(null),s=i.ref(!1),o=i.reactive({title:"",isShow:!1,code:""}),a=i.reactive({title:"",isShow:!1,code:""}),c=i.inject("state"),b=i.inject("clear"),h=i.inject("revoke"),d=i.inject("forward"),v=i.inject("init");return{previewDialog:s,jsonDialog:o,resultDialog:a,clear:()=>b(),revoke:h,forward:d,preview:()=>{s.value=!0,i.nextTick(()=>{u.value&&u.value.init(Ft(c.formDesign))})},submit:p=>{a.title="\u83B7\u53D6\u6570\u636E",a.isShow=!0,i.nextTick(()=>{a.code=JSON.stringify(p,null,"	")})},editJson:()=>{o.title="\u67E5\u770BJSON",o.isShow=!0,i.nextTick(()=>{o.code=JSON.stringify(c.formDesign,null,"	")})},saveJson:()=>{try{v(JSON.parse(o.code))}catch(p){return Q.ElMessage.error("\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}o.isShow=!1},formRender:u,cached:i.computed(()=>c.cached),current:i.computed(()=>c.current)}}},np={class:"form-operator"},rp={class:"form-design-json-box"},op={class:"dialog-footer"},ip=i.createTextVNode("\u53D6\u6D88"),lp=i.createTextVNode("\u786E\u5B9A"),ap={class:"form-design-json-box"},sp={class:"dialog-footer"},up=i.createTextVNode("\u5173\u95ED");function fp(u,s,o,a,c,b){const h=i.resolveComponent("PlayIcon"),d=i.resolveComponent("el-icon"),v=i.resolveComponent("el-tooltip"),w=i.resolveComponent("JsonIcon"),S=i.resolveComponent("DeleteIcon"),g=i.resolveComponent("el-divider"),m=i.resolveComponent("RefreshLeftIcon"),p=i.resolveComponent("RefreshRightIcon"),C=i.resolveComponent("form-render"),E=i.resolveComponent("el-dialog"),O=i.resolveComponent("code-mirror"),k=i.resolveComponent("el-button");return i.openBlock(),i.createElementBlock("div",np,[i.createVNode(v,{effect:"dark",content:"\u9884\u89C8",placement:"bottom"},{default:i.withCtx(()=>[i.createVNode(d,{class:"icon",onClick:a.preview},{default:i.withCtx(()=>[i.createVNode(h)]),_:1},8,["onClick"])]),_:1}),i.createVNode(v,{effect:"dark",content:"\u7F16\u8F91JSON",placement:"bottom"},{default:i.withCtx(()=>[i.createVNode(d,{class:"icon",onClick:a.editJson},{default:i.withCtx(()=>[i.createVNode(w)]),_:1},8,["onClick"])]),_:1}),i.createVNode(v,{effect:"dark",content:"\u6E05\u7A7A",placement:"bottom"},{default:i.withCtx(()=>[i.createVNode(d,{class:"icon",onClick:a.clear},{default:i.withCtx(()=>[i.createVNode(S)]),_:1},8,["onClick"])]),_:1}),i.createVNode(g,{direction:"vertical"}),i.createVNode(v,{effect:"dark",content:"\u540E\u9000",placement:"bottom"},{default:i.withCtx(()=>[i.createVNode(d,{class:i.normalizeClass(["icon",{disabled:a.current<=0}]),onClick:a.revoke},{default:i.withCtx(()=>[i.createVNode(m)]),_:1},8,["class","onClick"])]),_:1}),i.createVNode(v,{effect:"dark",content:"\u524D\u8FDB",placement:"bottom"},{default:i.withCtx(()=>[i.createVNode(d,{class:i.normalizeClass(["icon",{disabled:a.current>=a.cached.length-1}]),onClick:a.forward},{default:i.withCtx(()=>[i.createVNode(p)]),_:1},8,["class","onClick"])]),_:1}),i.createVNode(E,{title:"\u9884\u89C8",modelValue:a.previewDialog,"onUpdate:modelValue":s[0]||(s[0]=x=>a.previewDialog=x),"destroy-on-close":"","append-to-body":"",width:"750px"},{default:i.withCtx(()=>[i.createVNode(C,{ref:"formRender",onSubmit:a.submit},null,8,["onSubmit"])]),_:1},8,["modelValue"]),i.createVNode(E,{title:a.jsonDialog.title,modelValue:a.jsonDialog.isShow,"onUpdate:modelValue":s[3]||(s[3]=x=>a.jsonDialog.isShow=x),"append-to-body":"",width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",op,[i.createVNode(k,{size:"medium",onClick:s[2]||(s[2]=x=>a.jsonDialog.isShow=!1)},{default:i.withCtx(()=>[ip]),_:1}),i.createVNode(k,{size:"medium",type:"primary",onClick:a.saveJson},{default:i.withCtx(()=>[lp]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createElementVNode("div",rp,[i.createVNode(O,{modelValue:a.jsonDialog.code,"onUpdate:modelValue":s[1]||(s[1]=x=>a.jsonDialog.code=x)},null,8,["modelValue"])])]),_:1},8,["title","modelValue"]),i.createVNode(E,{title:a.resultDialog.title,modelValue:a.resultDialog.isShow,"onUpdate:modelValue":s[6]||(s[6]=x=>a.resultDialog.isShow=x),"append-to-body":"",width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",sp,[i.createVNode(k,{size:"medium",onClick:s[5]||(s[5]=x=>a.resultDialog.isShow=!1)},{default:i.withCtx(()=>[up]),_:1})])]),default:i.withCtx(()=>[i.createElementVNode("div",ap,[i.createVNode(O,{modelValue:a.resultDialog.code,"onUpdate:modelValue":s[4]||(s[4]=x=>a.resultDialog.code=x)},null,8,["modelValue"])])]),_:1},8,["title","modelValue"])])}var cp=he(tp,[["render",fp]]);const dp={name:"objectBuilder",components:{draggable:$a,FormBuilderItem:i.defineAsyncComponent(()=>Promise.resolve().then(function(){return mg}))},props:{path:String,uuid:String,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u){const s=i.inject("setSelected"),o=i.inject("updateFormItem");return{add:a=>s(u.items[a.newIndex].uuid),dragStart:a=>s(u.items[a.oldIndex].uuid),updateItems:a=>o({uuid:u.uuid,items:a})}}};function hp(u,s,o,a,c,b){const h=i.resolveComponent("form-builder-item"),d=i.resolveComponent("draggable");return i.openBlock(),i.createBlock(d,{class:"form-item-drop-list","model-value":o.items,"onUpdate:modelValue":a.updateItems,onStart:a.dragStart,onAdd:a.add,"item-key":"uuid",animation:200,group:{name:"form-draggable"},"ghost-class":"ghost"},{item:i.withCtx(({element:v})=>[i.createVNode(h,{component:v.component,uuid:v.uuid,items:v.items,options:v.options,path:v.options.key?o.path+"."+v.options.key:o.path,style:i.normalizeStyle({"padding-left":o.options.gutter/2+"px","padding-right":o.options.gutter/2+"px"})},null,8,["component","uuid","items","options","path","style"])]),_:1},8,["model-value","onUpdate:modelValue","onStart","onAdd"])}var ai=he(dp,[["render",hp]]),pp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ai});const mp={name:"cardBuilder",components:{ElCard:Q.ElCard,objectBuilder:ai},props:{path:String,uuid:String,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(){}},gp={class:"card-header"};function vp(u,s,o,a,c,b){const h=i.resolveComponent("object-builder"),d=i.resolveComponent("el-card");return i.openBlock(),i.createBlock(d,{shadow:o.options.shadow,"body-style":{padding:o.options.padding}},{header:i.withCtx(()=>[i.createElementVNode("div",gp,[i.createElementVNode("span",null,i.toDisplayString(o.options.label),1)])]),default:i.withCtx(()=>[i.createVNode(h,{uuid:o.uuid,items:o.items,options:o.options,path:o.path},null,8,["uuid","items","options","path"])]),_:1},8,["shadow","body-style"])}var yp=he(mp,[["render",vp]]),_p=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yp});const bp={name:"cascaderBuilder",components:{ElFormItem:Q.ElFormItem,ElCascader:Q.ElCascader},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function wp(u,s,o,a,c,b){const h=i.resolveComponent("el-cascader"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,options:o.options.options.items,disabled:o.options.disabled,clearable:o.options.clearable,props:{expandTrigger:o.options.expandTrigger}},null,8,["model-value","options","disabled","clearable","props"]))]),_:1},8,["prop","label","rules"])}var xp=he(bp,[["render",wp]]),kp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xp});const Sp={name:"checkboxBuilder",components:{ElFormItem:Q.ElFormItem,ElCheckboxGroup:Q.ElCheckboxGroup,ElCheckbox:Q.ElCheckbox},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Ep(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox"),d=i.resolveComponent("el-checkbox-group"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(d,{key:0,"model-value":o.options.defaultValue,disabled:o.options.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(w.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value","disabled"]))]),_:1},8,["prop","label","rules"])}var Cp=he(Sp,[["render",Ep]]),Op=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cp});const Tp={name:"colorPickerBuilder",components:{ElFormItem:Q.ElFormItem,ElColorPicker:Q.ElColorPicker},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Np(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,disabled:o.options.disabled,"show-alpha":o.options.showAlpha},null,8,["model-value","disabled","show-alpha"]))]),_:1},8,["prop","label","rules"])}var Ap=he(Tp,[["render",Np]]),Lp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ap});const Bp={name:"datePickerBuilder",components:{ElFormItem:Q.ElFormItem,ElDatePicker:Q.ElDatePicker},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Dp(u,s,o,a,c,b){const h=i.resolveComponent("el-date-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"]))]),_:1},8,["prop","label","rules"])}var Ip=he(Bp,[["render",Dp]]),Mp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ip});const Vp={name:"dateRangePickerBuilder",components:{ElFormItem:Q.ElFormItem,ElDatePicker:Q.ElDatePicker},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Rp(u,s,o,a,c,b){const h=i.resolveComponent("el-date-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,type:"daterange","model-value":o.options.defaultValue,placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"]))]),_:1},8,["prop","label","rules"])}var Pp=he(Vp,[["render",Rp]]),Fp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pp});const jp={name:"inputBuilder",components:{ElFormItem:Q.ElFormItem,ElInput:Q.ElInput},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function qp(u,s,o,a,c,b){const h=i.resolveComponent("el-input"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,type:"text","model-value":o.options.defaultValue,placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,"show-password":o.options.showPassword,"prefix-icon":o.options.prefixIcon,"suffix-icon":o.options.suffixIcon,maxlength:o.options.maxlength,"show-word-limit":o.options.showWordLimit},null,8,["model-value","placeholder","clearable","disabled","show-password","prefix-icon","suffix-icon","maxlength","show-word-limit"]))]),_:1},8,["prop","label","rules"])}var zp=he(jp,[["render",qp]]),Hp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zp});const Wp={name:"multiSelectBuilder",components:{ElFormItem:Q.ElFormItem,ElSelect:Q.ElSelect,ElOption:Q.ElOption},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Up(u,s,o,a,c,b){const h=i.resolveComponent("el-option"),d=i.resolveComponent("el-select"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(d,{key:0,"model-value":o.options.defaultValue,multiple:!0,"collapse-tags":o.options.collapseTags,"multiple-limit":o.options.multipleLimit,clearable:o.options.clearable,disabled:o.options.disabled,filterable:o.options.filterable,placeholder:o.options.placeholder,"no-data-text":o.options.noDataText,"no-match-text":o.options.noMatchText},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","collapse-tags","multiple-limit","clearable","disabled","filterable","placeholder","no-data-text","no-match-text"]))]),_:1},8,["prop","label","rules"])}var $p=he(Wp,[["render",Up]]),Kp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$p});const Gp={name:"numberBuilder",components:{ElFormItem:Q.ElFormItem,ElInputNumber:Q.ElInputNumber},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Yp(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,min:o.options.min,max:o.options.max,disabled:o.options.disabled},null,8,["model-value","min","max","disabled"]))]),_:1},8,["prop","label"])}var Xp=he(Gp,[["render",Yp]]),Zp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xp});const Jp={name:"quillEditorBuilder",components:{ElFormItem:Q.ElFormItem,QuillEditor:aa},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Qp(u,s,o,a,c,b){const h=i.resolveComponent("quill-editor"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,disabled:o.options.disabled,options:{placeholder:o.options.placeholder},style:i.normalizeStyle({height:o.options.height})},null,8,["disabled","options","style"]))]),_:1},8,["prop","label","rules"])}var em=he(Jp,[["render",Qp]]),tm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:em});const nm={name:"radioBuilder",components:{ElFormItem:Q.ElFormItem,ElRadioGroup:Q.ElRadioGroup,ElRadio:Q.ElRadio},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function rm(u,s,o,a,c,b){const h=i.resolveComponent("el-radio"),d=i.resolveComponent("el-radio-group"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(d,{key:0,"model-value":o.options.defaultValue,disabled:o.options.disabled},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.value},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(w.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value","disabled"]))]),_:1},8,["prop","label","rules"])}var om=he(nm,[["render",rm]]),im=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:om});const lm={name:"rateBuilder",components:{ElFormItem:Q.ElFormItem,ElRate:Q.ElRate},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function am(u,s,o,a,c,b){const h=i.resolveComponent("el-rate"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,class:"form-rate","model-value":o.options.defaultValue,disabled:o.options.disabled,"allow-half":o.options.allowHalf,max:o.options.max},null,8,["model-value","disabled","allow-half","max"]))]),_:1},8,["prop","label","rules"])}var sm=he(lm,[["render",am]]),um=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sm});const fm={name:"selectBuilder",components:{ElFormItem:Q.ElFormItem,ElSelect:Q.ElSelect,ElOption:Q.ElOption},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function cm(u,s,o,a,c,b){const h=i.resolveComponent("el-option"),d=i.resolveComponent("el-select"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(d,{key:0,"model-value":o.options.defaultValue,clearable:o.options.clearable,disabled:o.options.disabled,filterable:o.options.filterable,placeholder:o.options.placeholder,"no-data-text":o.options.noDataText,"no-match-text":o.options.noMatchText},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.options.options.items,w=>(i.openBlock(),i.createBlock(h,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","clearable","disabled","filterable","placeholder","no-data-text","no-match-text"]))]),_:1},8,["prop","label","rules"])}var dm=he(fm,[["render",cm]]),hm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dm});const pm={name:"signatureBuilder",components:{Signature:ca},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(u){const s=i.ref(null);return i.watch(()=>u.options.defaultValue,o=>{o?s.value.fromDataURL(o):s.value.clearSignature()}),{signatureRef:s}}};function mm(u,s,o,a,c,b){const h=i.resolveComponent("Signature"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{ref:"signatureRef",disabled:o.options.disabled,width:o.options.width,height:o.options.height,options:{penColor:o.options.penColor,backgroundColor:o.options.backgroundColor}},null,8,["disabled","width","height","options"])]),_:1},8,["prop","label","rules"])}var gm=he(pm,[["render",mm]]),vm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gm});const ym={name:"sliderBuilder",components:{ElFormItem:Q.ElFormItem,ElSlider:Q.ElSlider},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function _m(u,s,o,a,c,b){const h=i.resolveComponent("el-slider"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,disabled:o.options.disabled,min:o.options.min,max:o.options.max,step:o.options.step,"show-stops":o.options.showStops,"show-input":o.options.showInput,"show-tooltip":o.options.showToolTip},null,8,["model-value","disabled","min","max","step","show-stops","show-input","show-tooltip"]))]),_:1},8,["prop","label","rules"])}var bm=he(ym,[["render",_m]]),wm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bm});const xm={name:"switchBuilder",components:{ElFormItem:Q.ElFormItem,ElSwitch:Q.ElSwitch},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function km(u,s,o,a,c,b){const h=i.resolveComponent("el-switch"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,disabled:o.options.disabled,"active-text":o.options.activeText,"inactive-text":o.options.inactiveText,"active-color":o.options.activeColor,"inactive-color":o.options.inactiveColor},null,8,["model-value","disabled","active-text","inactive-text","active-color","inactive-color"]))]),_:1},8,["prop","label","rules"])}var Sm=he(xm,[["render",km]]),Em=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sm});const Cm={name:"tableBuilder",components:{ElFormItem:Q.ElFormItem,objectBuilder:ai},props:{path:String,uuid:String,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(){}};function Om(u,s,o,a,c,b){const h=i.resolveComponent("object-builder"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[i.createVNode(h,{uuid:o.uuid,items:o.items,options:o.options,path:o.path},null,8,["uuid","items","options","path"])]),_:1},8,["prop","label","rules"])}var Tm=he(Cm,[["render",Om]]),Nm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tm});const Am={name:"tabsBuilder",components:{ElForm:Q.ElForm,ElFormItem:Q.ElFormItem,ElTabs:Q.ElTabs,ElTabPane:Q.ElTabPane,ElDialog:Q.ElDialog,ElInput:Q.ElInput,ElButton:Q.ElButton,objectBuilder:ai},props:{path:String,uuid:String,items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u){const s=i.inject("updateFormItem"),o=i.inject("updateFormOption"),a=i.ref(""),c=i.reactive({title:"",isShow:!1}),b=i.ref(null),h=i.reactive({label:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0",trigger:"change"}],key:[{required:!0,message:"\u8BF7\u8F93\u5165ID",trigger:"change"}]}),d=i.reactive({uuid:"",label:"",key:""});return{tabsValue:a,tabDialog:c,formRef:b,rules:h,tabForm:d,addTab:()=>{d.uuid="",d.label="\u6807\u7B7E"+(u.items.length+1),d.key="tab_"+Wo(8),c.isShow=!0,c.title="\u6DFB\u52A0",i.nextTick(()=>{b.value&&b.value.clearValidate()})},editTab:()=>{const m=u.items.find(p=>p.uuid===a.value);m&&(d.uuid=m.uuid,d.label=m.options.label,d.key=m.options.key,c.isShow=!0,c.title="\u7F16\u8F91",i.nextTick(()=>{b.value&&b.value.clearValidate()}))},removeTab:()=>{const m=u.items.findIndex(C=>C.uuid===a.value),p=u.items[m+1]||u.items[m-1];s({uuid:u.uuid,items:u.items.filter(C=>C.uuid!==a.value)}),p&&(a.value=p.uuid)},saveTab:()=>{b.value.validate(m=>{if(m){if(d.uuid)u.items.find(C=>C.uuid===a.value)&&(o({uuid:d.uuid,key:"label",value:d.label}),o({uuid:d.uuid,key:"key",value:d.key}));else{const p=Ft(Ka);p.uuid=p.component.replaceAll("-","_")+"_"+Wo(8),p.options.label=d.label,p.options.key=d.key,a.value=p.uuid,s({uuid:u.uuid,items:[...u.items,p]})}c.isShow=!1}})}}}},Lm={style:{"margin-bottom":"20px"}},Bm=i.createTextVNode(" \u6DFB\u52A0 "),Dm=i.createTextVNode(" \u4FEE\u6539 "),Im=i.createTextVNode(" \u5220\u9664 "),Mm={class:"dialog-footer"},Vm=i.createTextVNode("\u53D6 \u6D88"),Rm=i.createTextVNode("\u786E \u5B9A");function Pm(u,s,o,a,c,b){const h=i.resolveComponent("el-button"),d=i.resolveComponent("object-builder"),v=i.resolveComponent("el-tab-pane"),w=i.resolveComponent("el-tabs"),S=i.resolveComponent("el-input"),g=i.resolveComponent("el-form-item"),m=i.resolveComponent("el-form"),p=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createElementVNode("div",Lm,[i.createVNode(h,{type:"primary",size:"small",onClick:a.addTab},{default:i.withCtx(()=>[Bm]),_:1},8,["onClick"]),i.createVNode(h,{type:"primary",size:"small",onClick:a.editTab},{default:i.withCtx(()=>[Dm]),_:1},8,["onClick"]),i.createVNode(h,{type:"danger",size:"small",disabled:o.items.length<=0,onClick:a.removeTab},{default:i.withCtx(()=>[Im]),_:1},8,["disabled","onClick"])]),i.createVNode(w,{modelValue:a.tabsValue,"onUpdate:modelValue":s[0]||(s[0]=C=>a.tabsValue=C),type:o.options.tabType,"tab-position":o.options.tabPosition},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o.items,C=>(i.openBlock(),i.createBlock(v,{key:C.name,label:C.options.label,name:C.uuid},{default:i.withCtx(()=>[i.createVNode(d,{uuid:C.uuid,items:C.items,options:C.options,path:o.path+"."+C.options.key},null,8,["uuid","items","options","path"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue","type","tab-position"]),i.createVNode(p,{title:a.tabDialog.title,modelValue:a.tabDialog.isShow,"onUpdate:modelValue":s[4]||(s[4]=C=>a.tabDialog.isShow=C),width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",Mm,[i.createVNode(h,{onClick:s[3]||(s[3]=C=>a.tabDialog.isShow=!1)},{default:i.withCtx(()=>[Vm]),_:1}),i.createVNode(h,{type:"primary",onClick:a.saveTab},{default:i.withCtx(()=>[Rm]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createVNode(m,{ref:"formRef",model:a.tabForm,rules:a.rules,"label-position":"left","label-width":"150px",style:{width:"400px","margin-left":"50px"}},{default:i.withCtx(()=>[i.createVNode(g,{label:"\u6807\u7B7E\u540D\u79F0",prop:"label"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.tabForm.label,"onUpdate:modelValue":s[1]||(s[1]=C=>a.tabForm.label=C),type:"text"},null,8,["modelValue"])]),_:1}),i.createVNode(g,{label:"ID (\u5B57\u6BB5\u540D\u79F0/\u82F1\u6587)",prop:"key",style:{"margin-top":"22px"}},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.tabForm.key,"onUpdate:modelValue":s[2]||(s[2]=C=>a.tabForm.key=C),type:"text"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])],64)}var Fm=he(Am,[["render",Pm]]),jm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fm});const qm={name:"textareaBuilder",components:{ElFormItem:Q.ElFormItem,ElInput:Q.ElInput},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function zm(u,s,o,a,c,b){const h=i.resolveComponent("el-input"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,type:"textarea","model-value":o.options.defaultValue,rows:o.options.rows,placeholder:o.options.placeholder,disabled:o.options.disabled,maxlength:o.options.maxlength,"show-word-limit":o.options.showWordLimit},null,8,["model-value","rows","placeholder","disabled","maxlength","show-word-limit"]))]),_:1},8,["prop","label","rules"])}var Hm=he(qm,[["render",zm]]),Wm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hm});const Um={name:"timePickerBuilder",components:{ElFormItem:Q.ElFormItem,ElTimePicker:Q.ElTimePicker},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function $m(u,s,o,a,c,b){const h=i.resolveComponent("el-time-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.options.defaultValue,placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"]))]),_:1},8,["prop","label","rules"])}var Km=he(Um,[["render",$m]]),Gm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Km});const Ym={name:"timeRangePickerBuilder",components:{ElFormItem:Q.ElFormItem,ElTimePicker:Q.ElTimePicker},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}};function Xm(u,s,o,a,c,b){const h=i.resolveComponent("el-time-picker"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,"is-range":"","model-value":o.options.defaultValue,placeholder:o.options.placeholder,clearable:o.options.clearable,disabled:o.options.disabled,format:o.options.format,"prefix-icon":o.options.prefixIcon},null,8,["model-value","placeholder","clearable","disabled","format","prefix-icon"]))]),_:1},8,["prop","label","rules"])}var Zm=he(Ym,[["render",Xm]]),Jm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zm});const Qm={name:"tinymceEditorBuilder",components:{ElFormItem:Q.ElFormItem,TinymceEditor:sa},props:{path:String,modelValue:String,options:{type:Object,default(){return{}}}},setup(u){const s=i.ref(null);return i.watch(()=>u.options.defaultValue,o=>{s.value.setContent(o)}),{tinymceRef:s}}};function eg(u,s,o,a,c,b){const h=i.resolveComponent("tinymce-editor"),d=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(d,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(h,{key:0,ref:"tinymceRef",disabled:o.options.disabled,height:o.options.height},null,8,["disabled","height"]))]),_:1},8,["prop","label","rules"])}var tg=he(Qm,[["render",eg]]),ng=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tg});const rg={name:"uploadBuilder",components:{ElFormItem:Q.ElFormItem,ElUpload:Q.ElUpload,ElButton:Q.ElButton},props:{path:String,uuid:String,options:{type:Object,default(){return{}}}},setup(){}},og={class:"el-upload__tip"};function ig(u,s,o,a,c,b){const h=i.resolveComponent("el-button"),d=i.resolveComponent("el-upload"),v=i.resolveComponent("el-form-item");return i.openBlock(),i.createBlock(v,{prop:o.path,label:o.options.label,rules:o.options.rules},{default:i.withCtx(()=>[o.options.hidden?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock(d,{key:0,action:o.options.uploadUrl,name:o.options.uploadName,multiple:o.options.multiple,"show-file-list":o.options.showFileList,limit:o.options.limit,"file-list":o.options.defaultValue,disabled:o.options.disabled},i.createSlots({default:i.withCtx(()=>[i.createVNode(h,{size:"small",type:"primary"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(o.options.buttonText),1)]),_:1})]),_:2},[o.options.showToolTip?{name:"tip",fn:i.withCtx(()=>[i.createElementVNode("div",og,i.toDisplayString(o.options.tip),1)])}:void 0]),1032,["action","name","multiple","show-file-list","limit","file-list","disabled"]))]),_:1},8,["prop","label","rules"])}var lg=he(rg,[["render",ig]]),ag=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lg});const sg={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},ug=[i.createElementVNode("path",{d:"M682.667 42.667H85.333v682.666h85.334V128h512V42.667zM256 213.333l4.523 768H896v-768H256zM810.667 896H341.333V298.667h469.334V896z"},null,-1)];function fg(u,s){return i.openBlock(),i.createElementBlock("svg",sg,ug)}const Ga={};Object.values({"./components/card-builder.vue":_p,"./components/cascade-builder.vue":kp,"./components/checkbox-builder.vue":Op,"./components/color-picker-builder.vue":Lp,"./components/date-picker-builder.vue":Mp,"./components/date-range-picker-builder.vue":Fp,"./components/input-builder.vue":Hp,"./components/multi-select-builder.vue":Kp,"./components/number-builder.vue":Zp,"./components/object-builder.vue":pp,"./components/quill-editor-builder.vue":tm,"./components/radio-builder.vue":im,"./components/rate-builder.vue":um,"./components/select-builder.vue":hm,"./components/signature-builder.vue":vm,"./components/slider-builder.vue":wm,"./components/switch-builder.vue":Em,"./components/table-builder.vue":Nm,"./components/tabs-builder.vue":jm,"./components/textarea-builder.vue":Wm,"./components/time-picker-builder.vue":Gm,"./components/time-range-picker-builder.vue":Jm,"./components/tinymce-editor-builder.vue":ng,"./components/upload-builder.vue":ag}).forEach(({default:u})=>Ga[u.name]=u);const cg={name:"formBuilderItem",components:er(Tt({},Ga),{ElIcon:Q.ElIcon,DeleteIcon:Yr,CopyIcon:fg}),props:{path:String,component:String,uuid:String,defaultValue:[String,Number,Boolean,Date,Object,Array],items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},setup(u){const s=i.inject("state"),o=i.inject("setSelected"),a=i.inject("copyFormItem"),c=i.inject("removeFormItem");return{select:()=>o(u.uuid),copy:()=>a(u.uuid),remove:()=>c(u.uuid),isSelected:i.computed(()=>s.selected.uuid===u.uuid)}}},dg={class:"operator"},hg={class:"info"};function pg(u,s,o,a,c,b){const h=i.resolveComponent("CopyIcon"),d=i.resolveComponent("el-icon"),v=i.resolveComponent("DeleteIcon");return i.openBlock(),i.createElementBlock("div",{class:"form-item",style:i.normalizeStyle({width:o.options.width})},[i.createElementVNode("div",{class:i.normalizeClass(["form-item-box",{"is-selected":a.isSelected}]),onClick:s[2]||(s[2]=i.withModifiers((...w)=>a.select&&a.select(...w),["stop"]))},[i.createElementVNode("div",dg,[i.createElementVNode("div",{class:"copy",onClick:s[0]||(s[0]=i.withModifiers((...w)=>a.copy&&a.copy(...w),["stop"]))},[i.createVNode(d,null,{default:i.withCtx(()=>[i.createVNode(h)]),_:1})]),i.createElementVNode("div",{class:"remove",onClick:s[1]||(s[1]=i.withModifiers((...w)=>a.remove&&a.remove(...w),["stop"]))},[i.createVNode(d,null,{default:i.withCtx(()=>[i.createVNode(v)]),_:1})])]),i.createElementVNode("div",hg,i.toDisplayString(o.options.key),1),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(o.component+"-builder"),{uuid:o.uuid,items:o.items,options:o.options,path:o.path},null,8,["uuid","items","options","path"]))],2)],4)}var Ya=he(cg,[["render",pg]]),mg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ya});const gg={name:"formBuilder",components:{ElEmpty:Q.ElEmpty,ElForm:Q.ElForm,FormBuilderItem:Ya},props:{},setup(){const u=i.inject("state");return{formDesign:i.computed(()=>u.formDesign)}}};function vg(u,s,o,a,c,b){const h=i.resolveComponent("el-empty"),d=i.resolveComponent("form-builder-item"),v=i.resolveComponent("el-form");return i.openBlock(),i.createElementBlock(i.Fragment,null,[a.formDesign.items.length===0?(i.openBlock(),i.createBlock(h,{key:0,class:"empty",description:"\u4ECE\u5DE6\u4FA7\u9009\u62E9\u63A7\u4EF6\u6DFB\u52A0"})):i.createCommentVNode("",!0),i.createVNode(v,{class:"form-builder","label-width":a.formDesign.options.labelWidth,"label-position":a.formDesign.options.labelPosition,"hide-required-asterisk":a.formDesign.options.hideRequiredAsterisk,"status-icon":a.formDesign.options.statusIcon,inline:a.formDesign.options.inline,size:a.formDesign.options.size},{default:i.withCtx(()=>[i.createVNode(d,{class:"root",component:a.formDesign.component,uuid:a.formDesign.uuid,items:a.formDesign.items,options:a.formDesign.options,path:"root"},null,8,["component","uuid","items","options"])]),_:1},8,["label-width","label-position","hide-required-asterisk","status-icon","inline","size"])],64)}var yg=he(gg,[["render",vg]]);const _g={name:"activeColorOption",components:{ElColorPicker:Q.ElColorPicker},props:{modelValue:String},setup(){}};function bg(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var wg=he(_g,[["render",bg]]),xg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wg});const kg={name:"activeTextOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Sg(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Eg=he(kg,[["render",Sg]]),Cg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eg});const Og={name:"allowHalfOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Tg(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Ng=he(Og,[["render",Tg]]),Ag=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ng});const Lg={name:"backgroundColorOption",components:{ElColorPicker:Q.ElColorPicker},props:{modelValue:String},setup(){}};function Bg(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Dg=he(Lg,[["render",Bg]]),Ig=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dg});const Mg={name:"buttonTextOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Vg(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Rg=he(Mg,[["render",Vg]]),Pg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rg});const Fg={name:"clearableOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function jg(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var qg=he(Fg,[["render",jg]]),zg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qg});const Hg={name:"collapseTagsOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Wg(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Ug=he(Hg,[["render",Wg]]),$g=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ug});const Kg={name:"defaultValueOption",components:{FormRenderItem:Ki},props:{modelValue:[String,Number,Boolean,Date,Object,Array]},setup(){const u=i.inject("state");return{component:i.computed(()=>u.selected.component),items:i.computed(()=>u.selected.items),options:i.computed(()=>Object.assign({},u.selected.options,{label:"",clearable:!0,disabled:!1}))}}};function Gg(u,s,o,a,c,b){const h=i.resolveComponent("form-render-item");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d)),component:a.component,items:a.items,options:a.options},null,8,["model-value","component","items","options"])}var Yg=he(Kg,[["render",Gg]]),Xg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yg});const Zg={name:"disabledOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Jg(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Qg=he(Zg,[["render",Jg]]),ev=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qg});const tv={name:"expandTriggerOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},nv=i.createTextVNode("\u70B9\u51FB"),rv=i.createTextVNode("\u60AC\u6D6E");function ov(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"click"},{default:i.withCtx(()=>[nv]),_:1}),i.createVNode(h,{label:"hover"},{default:i.withCtx(()=>[rv]),_:1})]),_:1},8,["model-value"])}var iv=he(tv,[["render",ov]]),lv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iv});const av={name:"filterableOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function sv(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var uv=he(av,[["render",sv]]),fv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uv});const cv={name:"formatOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function dv(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var hv=he(cv,[["render",dv]]),pv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hv});const mv={name:"gutterOption",components:{ElSlider:Q.ElSlider},props:{modelValue:Number},setup(){}};function gv(u,s,o,a,c,b){const h=i.resolveComponent("el-slider");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>o.modelValue=d),onChange:s[1]||(s[1]=d=>u.$emit("update:modelValue",d)),min:0,max:300},null,8,["model-value"])}var vv=he(mv,[["render",gv]]),yv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vv});const _v={name:"heightOption",components:{ElSlider:Q.ElSlider},props:{modelValue:String},setup(){}};function bv(u,s,o,a,c,b){const h=i.resolveComponent("el-slider");return i.openBlock(),i.createBlock(h,{"model-value":parseInt(o.modelValue),"onUpdate:modelValue":s[0]||(s[0]=d=>o.modelValue=d+"px"),onChange:s[1]||(s[1]=d=>u.$emit("update:modelValue",d+"px")),min:0,max:1e3,"format-tooltip":d=>d+"px"},null,8,["model-value","format-tooltip"])}var wv=he(_v,[["render",bv]]),xv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wv});const kv={name:"hiddenOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Sv(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Ev=he(kv,[["render",Sv]]),Cv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ev});const Ov={name:"hideRequiredAsteriskOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Tv(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Nv=he(Ov,[["render",Tv]]),Av=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nv});const Lv={name:"inactiveColorOption",components:{ElColorPicker:Q.ElColorPicker},props:{modelValue:String},setup(){}};function Bv(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Dv=he(Lv,[["render",Bv]]),Iv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dv});const Mv={name:"inactiveTextOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Vv(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Rv=he(Mv,[["render",Vv]]),Pv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rv});const Fv={name:"inlineOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function jv(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var qv=he(Fv,[["render",jv]]),zv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qv});const Hv={name:"keyOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Wv(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Uv=he(Hv,[["render",Wv]]),$v=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uv});const Kv={name:"labelPositionOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},Gv=i.createTextVNode("\u5DE6"),Yv=i.createTextVNode("\u53F3"),Xv=i.createTextVNode("\u9876\u90E8");function Zv(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"left"},{default:i.withCtx(()=>[Gv]),_:1}),i.createVNode(h,{label:"right"},{default:i.withCtx(()=>[Yv]),_:1}),i.createVNode(h,{label:"top"},{default:i.withCtx(()=>[Xv]),_:1})]),_:1},8,["model-value"])}var Jv=he(Kv,[["render",Zv]]),Qv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jv});const ey={name:"labelWidthOption",components:{ElSlider:Q.ElSlider},props:{modelValue:String},setup(){}};function ty(u,s,o,a,c,b){const h=i.resolveComponent("el-slider");return i.openBlock(),i.createBlock(h,{"model-value":parseInt(o.modelValue),"onUpdate:modelValue":s[0]||(s[0]=d=>o.modelValue=d+"px"),onChange:s[1]||(s[1]=d=>u.$emit("update:modelValue",d+"px")),min:0,max:300,"format-tooltip":d=>d+"px"},null,8,["model-value","format-tooltip"])}var ny=he(ey,[["render",ty]]),ry=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ny});const oy={name:"labelOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function iy(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var ly=he(oy,[["render",iy]]),ay=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ly});const sy={name:"limitOption",components:{ElInputNumber:Q.ElInputNumber},props:{modelValue:Number},setup(){}};function uy(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d)),size:"small"},null,8,["model-value"])}var fy=he(sy,[["render",uy]]),cy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fy});const dy={name:"maxOption",components:{ElInputNumber:Q.ElInputNumber},props:{modelValue:Number},setup(){}};function hy(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d)),size:"small"},null,8,["model-value"])}var py=he(dy,[["render",hy]]),my=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:py});const gy={name:"maxlengthOption",components:{ElInputNumber:Q.ElInputNumber},props:{modelValue:Number},setup(){}};function vy(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d||void 0)),size:"small"},null,8,["model-value"])}var yy=he(gy,[["render",vy]]),_y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yy});const by={name:"minOption",components:{ElInputNumber:Q.ElInputNumber},props:{modelValue:Number},setup(){}};function wy(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d)),size:"small"},null,8,["model-value"])}var xy=he(by,[["render",wy]]),ky=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xy});const Sy={name:"multipleLimitOption",components:{ElInputNumber:Q.ElInputNumber},props:{modelValue:Number},setup(){}};function Ey(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d)),size:"small"},null,8,["model-value"])}var Cy=he(Sy,[["render",Ey]]),Oy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cy});const Ty={name:"multipleOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Ny(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Ay=he(Ty,[["render",Ny]]),Ly=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ay});const By={name:"noDataTextOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Dy(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Iy=he(By,[["render",Dy]]),My=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iy});const Vy={name:"noMatchTextOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Ry(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Py=he(Vy,[["render",Ry]]),Fy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Py});const jy={name:"optionsOption",components:{ElRow:Q.ElRow,ElCol:Q.ElCol,ElButton:Q.ElButton,ElDialog:Q.ElDialog,ElInput:Q.ElInput,ElIcon:Q.ElIcon,DeleteIcon:Yr,CodeMirror:Gr},props:{modelValue:Object},setup(u,{emit:s}){const o=i.reactive({remote:!1,items:[]}),a=i.ref(""),c=i.ref(!1),b=()=>{o.remote=u.modelValue.remote,o.items=Ft(u.modelValue.items)};i.onMounted(b),i.watch(()=>u.modelValue,b);const h=()=>{s("update:modelValue",{remote:o.remote,items:o.items})};return{data:o,code:a,codeDialog:c,update:(m,p,C)=>{o.items[m][p]=C,h()},emitChange:h,addOption:()=>{const m=String(o.items.length+1);o.items.push({label:"\u9009\u9879"+m,value:m}),h()},removeOption:m=>{o.items.splice(m,1),h()},editOptions:()=>{c.value=!0,i.nextTick(()=>{a.value=JSON.stringify(o.items,null,"	")})},setOptions:()=>{try{o.items=JSON.parse(a.value)}catch(m){return Q.ElMessage.error("\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}c.value=!1,h()}}}},qy=i.createTextVNode("\u589E\u52A0\u9009\u9879"),zy=i.createTextVNode("\u7F16\u8F91\u9009\u9879"),Hy={class:"form-design-json-box"},Wy={class:"dialog-footer"},Uy=i.createTextVNode("\u53D6 \u6D88"),$y=i.createTextVNode("\u786E\u5B9A");function Ky(u,s,o,a,c,b){const h=i.resolveComponent("el-input"),d=i.resolveComponent("el-col"),v=i.resolveComponent("DeleteIcon"),w=i.resolveComponent("el-icon"),S=i.resolveComponent("el-row"),g=i.resolveComponent("el-button"),m=i.resolveComponent("code-mirror"),p=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock("div",null,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.data.items,(C,E)=>(i.openBlock(),i.createBlock(S,{class:"option-row",key:E,gutter:5},{default:i.withCtx(()=>[i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":C.label,onInput:O=>a.update(E,"label",O),placeholder:"\u540D\u79F0"},null,8,["model-value","onInput"])]),_:2},1024),i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(h,{"model-value":C.value,onInput:O=>a.update(E,"value",O),placeholder:"\u503C"},null,8,["model-value","onInput"])]),_:2},1024),i.createVNode(d,{span:2,class:"btn-del"},{default:i.withCtx(()=>[i.createVNode(w,{class:"el-icon-delete",onClick:O=>a.removeOption(E)},{default:i.withCtx(()=>[i.createVNode(v)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),i.createVNode(g,{type:"text",onClick:a.addOption},{default:i.withCtx(()=>[qy]),_:1},8,["onClick"]),i.createVNode(g,{type:"text",onClick:a.editOptions},{default:i.withCtx(()=>[zy]),_:1},8,["onClick"]),i.createVNode(p,{title:"\u7F16\u8F91\u9009\u9879",modelValue:a.codeDialog,"onUpdate:modelValue":s[2]||(s[2]=C=>a.codeDialog=C),width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",Wy,[i.createVNode(g,{onClick:s[1]||(s[1]=C=>a.codeDialog=!1)},{default:i.withCtx(()=>[Uy]),_:1}),i.createVNode(g,{type:"primary",onClick:a.setOptions},{default:i.withCtx(()=>[$y]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createElementVNode("div",Hy,[i.createVNode(m,{modelValue:a.code,"onUpdate:modelValue":s[0]||(s[0]=C=>a.code=C)},null,8,["modelValue"])])]),_:1},8,["modelValue"])])}var Gy=he(jy,[["render",Ky]]),Yy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gy});const Xy={name:"paddingOption",components:{ElRow:Q.ElRow,ElCol:Q.ElCol,ElInputNumber:Q.ElInputNumber},props:{modelValue:String},setup(u,{emit:s}){const o=i.reactive({top:0,right:0,down:0,left:0}),a=()=>{s("update:modelValue",`${o.top||0}px ${o.right||0}px ${o.down||0}px ${o.left||0}px`)},c=()=>{const[b,h,d,v]=u.modelValue.split(" ");o.top=parseFloat(b),o.right=parseFloat(h),o.down=parseFloat(d),o.left=parseFloat(v)};return i.onMounted(c),i.watch(()=>u.modelValue,c),{data:o,emitChange:a}}},Zy=i.createTextVNode(" \u4E0A\uFF1A"),Jy=i.createTextVNode(" \u53F3\uFF1A"),Qy=i.createTextVNode(" \u4E0B\uFF1A"),e_=i.createTextVNode(" \u5DE6\uFF1A");function t_(u,s,o,a,c,b){const h=i.resolveComponent("el-input-number"),d=i.resolveComponent("el-col"),v=i.resolveComponent("el-row");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(v,{class:"option-row"},{default:i.withCtx(()=>[i.createVNode(d,{span:24},{default:i.withCtx(()=>[Zy,i.createVNode(h,{modelValue:a.data.top,"onUpdate:modelValue":s[0]||(s[0]=w=>a.data.top=w),onInput:a.emitChange,size:"small"},null,8,["modelValue","onInput"])]),_:1})]),_:1}),i.createVNode(v,{class:"option-row"},{default:i.withCtx(()=>[i.createVNode(d,{span:24},{default:i.withCtx(()=>[Jy,i.createVNode(h,{modelValue:a.data.right,"onUpdate:modelValue":s[1]||(s[1]=w=>a.data.right=w),onInput:a.emitChange,size:"small"},null,8,["modelValue","onInput"])]),_:1})]),_:1}),i.createVNode(v,{class:"option-row"},{default:i.withCtx(()=>[i.createVNode(d,{span:24},{default:i.withCtx(()=>[Qy,i.createVNode(h,{modelValue:a.data.down,"onUpdate:modelValue":s[2]||(s[2]=w=>a.data.down=w),onInput:a.emitChange,size:"small"},null,8,["modelValue","onInput"])]),_:1})]),_:1}),i.createVNode(v,{class:"option-row"},{default:i.withCtx(()=>[i.createVNode(d,{span:24},{default:i.withCtx(()=>[e_,i.createVNode(h,{modelValue:a.data.left,"onUpdate:modelValue":s[3]||(s[3]=w=>a.data.left=w),onInput:a.emitChange,size:"small"},null,8,["modelValue","onInput"])]),_:1})]),_:1})],64)}var n_=he(Xy,[["render",t_]]),r_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n_});const o_={name:"penColorOption",components:{ElColorPicker:Q.ElColorPicker},props:{modelValue:String},setup(){}};function i_(u,s,o,a,c,b){const h=i.resolveComponent("el-color-picker");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,onChange:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var l_=he(o_,[["render",i_]]),a_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l_});const s_={name:"placeholderOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function u_(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var f_=he(s_,[["render",u_]]),c_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f_});const d_={name:"prefixIconOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function h_(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var p_=he(d_,[["render",h_]]),m_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p_});const g_={name:"rowsOption",components:{ElSlider:Q.ElSlider},props:{modelValue:Number},setup(){}};function v_(u,s,o,a,c,b){const h=i.resolveComponent("el-slider");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>o.modelValue=d),onChange:s[1]||(s[1]=d=>u.$emit("update:modelValue",d)),min:2,max:10},null,8,["model-value"])}var y_=he(g_,[["render",v_]]),__=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y_});const b_={name:"rulesOption",components:{ElRow:Q.ElRow,ElCol:Q.ElCol,ElCheckbox:Q.ElCheckbox,ElInput:Q.ElInput,ElButton:Q.ElButton,ElDialog:Q.ElDialog,ElIcon:Q.ElIcon,DeleteIcon:Yr,CodeMirror:Gr},props:{modelValue:Array},setup(u,{emit:s}){const o=i.reactive({required:{required:!1,message:"\u5FC5\u586B\u9879",trigger:"blur"},patterns:[]}),a=i.ref(""),c=i.ref(!1),b=()=>{s("update:modelValue",[o.required,...o.patterns])},h=(m,p,C)=>{o.patterns[m][p]=C,b()},d=()=>{o.patterns.push({pattern:"",message:"",trigger:"blur"}),b()},v=m=>{o.patterns.splice(m,1),b()},w=()=>{c.value=!0,i.nextTick(()=>{a.value=JSON.stringify(o.patterns,null,"	")})},S=()=>{try{o.patterns=JSON.parse(a.value)}catch(m){return Q.ElMessage.error("\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}c.value=!1,b()},g=()=>{o.required=Ft(u.modelValue[0]),o.patterns=Ft(u.modelValue.slice(1))};return i.onMounted(g),i.watch(()=>u.modelValue,g),{data:o,code:a,codeDialog:c,update:h,emitChange:b,addRule:d,removeRule:v,editRules:w,setRules:S}}},w_=i.createTextVNode(" \u5FC5\u586B "),x_=i.createTextVNode("\u589E\u52A0\u9A8C\u8BC1"),k_=i.createTextVNode("\u7F16\u8F91\u9A8C\u8BC1"),S_={class:"form-design-json-box"},E_={class:"dialog-footer"},C_=i.createTextVNode("\u53D6 \u6D88"),O_=i.createTextVNode("\u786E\u5B9A");function T_(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox"),d=i.resolveComponent("el-col"),v=i.resolveComponent("el-input"),w=i.resolveComponent("el-row"),S=i.resolveComponent("DeleteIcon"),g=i.resolveComponent("el-icon"),m=i.resolveComponent("el-button"),p=i.resolveComponent("code-mirror"),C=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock("div",null,[i.createVNode(w,{class:"option-row",gutter:5},{default:i.withCtx(()=>[i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(h,{modelValue:a.data.required.required,"onUpdate:modelValue":s[0]||(s[0]=E=>a.data.required.required=E),onChange:a.emitChange},{default:i.withCtx(()=>[w_]),_:1},8,["modelValue","onChange"])]),_:1}),i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(v,{modelValue:a.data.required.message,"onUpdate:modelValue":s[1]||(s[1]=E=>a.data.required.message=E),onInput:a.emitChange,placeholder:"\u63D0\u793A\u4FE1\u606F"},null,8,["modelValue","onInput"])]),_:1}),i.createVNode(d,{span:2})]),_:1}),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.data.patterns,(E,O)=>(i.openBlock(),i.createBlock(w,{class:"option-row",key:O,gutter:5},{default:i.withCtx(()=>[i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(v,{"model-value":E.pattern,onInput:k=>a.update(O,"pattern",k),placeholder:"\u6B63\u5219\u8868\u8FBE\u5F0F"},null,8,["model-value","onInput"])]),_:2},1024),i.createVNode(d,{span:11},{default:i.withCtx(()=>[i.createVNode(v,{"model-value":E.message,onInput:k=>a.update(O,"message",k),placeholder:"\u63D0\u793A\u4FE1\u606F"},null,8,["model-value","onInput"])]),_:2},1024),i.createVNode(d,{span:2,class:"btn-del"},{default:i.withCtx(()=>[i.createVNode(g,{class:"el-icon-delete",onClick:k=>a.removeRule(O)},{default:i.withCtx(()=>[i.createVNode(S)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),i.createVNode(m,{type:"text",onClick:a.addRule},{default:i.withCtx(()=>[x_]),_:1},8,["onClick"]),i.createVNode(m,{type:"text",onClick:a.editRules},{default:i.withCtx(()=>[k_]),_:1},8,["onClick"]),i.createVNode(C,{title:"\u7F16\u8F91\u9A8C\u8BC1",modelValue:a.codeDialog,"onUpdate:modelValue":s[4]||(s[4]=E=>a.codeDialog=E),width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",E_,[i.createVNode(m,{onClick:s[3]||(s[3]=E=>a.codeDialog=!1)},{default:i.withCtx(()=>[C_]),_:1}),i.createVNode(m,{type:"primary",onClick:a.setRules},{default:i.withCtx(()=>[O_]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createElementVNode("div",S_,[i.createVNode(p,{modelValue:a.code,"onUpdate:modelValue":s[2]||(s[2]=E=>a.code=E)},null,8,["modelValue"])])]),_:1},8,["modelValue"])])}var N_=he(b_,[["render",T_]]),A_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N_});const L_={name:"shadowOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},B_=i.createTextVNode("\u603B\u662F"),D_=i.createTextVNode("\u60AC\u6D6E"),I_=i.createTextVNode("\u4ECE\u4E0D");function M_(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"always"},{default:i.withCtx(()=>[B_]),_:1}),i.createVNode(h,{label:"hover"},{default:i.withCtx(()=>[D_]),_:1}),i.createVNode(h,{label:"never"},{default:i.withCtx(()=>[I_]),_:1})]),_:1},8,["model-value"])}var V_=he(L_,[["render",M_]]),R_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V_});const P_={name:"showAlphaOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function F_(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var j_=he(P_,[["render",F_]]),q_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j_});const z_={name:"showFileListOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function H_(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var W_=he(z_,[["render",H_]]),U_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W_});const $_={name:"showInputOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function K_(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var G_=he($_,[["render",K_]]),Y_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G_});const X_={name:"showPasswordOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function Z_(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var J_=he(X_,[["render",Z_]]),Q_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J_});const eb={name:"showStopsOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function tb(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var nb=he(eb,[["render",tb]]),rb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nb});const ob={name:"showToolTipOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function ib(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var lb=he(ob,[["render",ib]]),ab=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lb});const sb={name:"showWordLimitOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function ub(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var fb=he(sb,[["render",ub]]),cb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fb});const db={name:"sizeOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},hb=i.createTextVNode("\u6B63\u5E38"),pb=i.createTextVNode("\u5C0F\u53F7"),mb=i.createTextVNode("\u8FF7\u4F60");function gb(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"medium"},{default:i.withCtx(()=>[hb]),_:1}),i.createVNode(h,{label:"small"},{default:i.withCtx(()=>[pb]),_:1}),i.createVNode(h,{label:"mini"},{default:i.withCtx(()=>[mb]),_:1})]),_:1},8,["model-value"])}var vb=he(db,[["render",gb]]),yb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vb});const _b={name:"statusIconOption",components:{ElCheckbox:Q.ElCheckbox},props:{modelValue:Boolean},setup(){}};function bb(u,s,o,a,c,b){const h=i.resolveComponent("el-checkbox");return i.openBlock(),i.createBlock(h,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var wb=he(_b,[["render",bb]]),xb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wb});const kb={name:"suffixIconOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function Sb(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Eb=he(kb,[["render",Sb]]),Cb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eb});const Ob={name:"tabPositionOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},Tb=i.createTextVNode("\u4E0A"),Nb=i.createTextVNode("\u53F3"),Ab=i.createTextVNode("\u4E0B"),Lb=i.createTextVNode("\u5DE6");function Bb(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"top"},{default:i.withCtx(()=>[Tb]),_:1}),i.createVNode(h,{label:"right"},{default:i.withCtx(()=>[Nb]),_:1}),i.createVNode(h,{label:"bottom"},{default:i.withCtx(()=>[Ab]),_:1}),i.createVNode(h,{label:"left"},{default:i.withCtx(()=>[Lb]),_:1})]),_:1},8,["model-value"])}var Db=he(Ob,[["render",Bb]]),Ib=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Db});const Mb={name:"tabTypeOption",components:{ElRadioGroup:Q.ElRadioGroup,ElRadioButton:Q.ElRadioButton},props:{modelValue:String},setup(){}},Vb=i.createTextVNode("\u9009\u9879\u5361"),Rb=i.createTextVNode("\u5361\u7247\u5316");function Pb(u,s,o,a,c,b){const h=i.resolveComponent("el-radio-button"),d=i.resolveComponent("el-radio-group");return i.openBlock(),i.createBlock(d,{"model-value":o.modelValue,"onUpdate:modelValue":s[0]||(s[0]=v=>u.$emit("update:modelValue",v)),size:"mini"},{default:i.withCtx(()=>[i.createVNode(h,{label:"card"},{default:i.withCtx(()=>[Vb]),_:1}),i.createVNode(h,{label:"border-card"},{default:i.withCtx(()=>[Rb]),_:1})]),_:1},8,["model-value"])}var Fb=he(Mb,[["render",Pb]]),jb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fb});const qb={name:"tipOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function zb(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var Hb=he(qb,[["render",zb]]),Wb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hb});const Ub={name:"uploadDataOption",components:{ElDialog:Q.ElDialog,ElButton:Q.ElButton,CodeMirror:Gr},props:{modelValue:Object},setup(u,{emit:s}){const o=i.ref(""),a=i.ref(!1);return{code:o,codeDialog:a,editData:()=>{a.value=!0,i.nextTick(()=>{o.value=JSON.stringify(u.modelValue,null,"	")})},setData:()=>{try{const h=JSON.parse(o.value);s("update:modelValue",h)}catch(h){return Q.ElMessage.error("\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}a.value=!1}}}},$b={class:"form-design-json-box"},Kb={class:"dialog-footer"},Gb=i.createTextVNode("\u53D6 \u6D88"),Yb=i.createTextVNode("\u786E\u5B9A"),Xb=i.createTextVNode("\u7F16\u8F91\u6570\u636E");function Zb(u,s,o,a,c,b){const h=i.resolveComponent("code-mirror"),d=i.resolveComponent("el-button"),v=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(v,{title:"\u7F16\u8F91\u989D\u5916\u53C2\u6570",modelValue:a.codeDialog,"onUpdate:modelValue":s[2]||(s[2]=w=>a.codeDialog=w),width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",Kb,[i.createVNode(d,{onClick:s[1]||(s[1]=w=>a.codeDialog=!1)},{default:i.withCtx(()=>[Gb]),_:1}),i.createVNode(d,{type:"primary",onClick:a.setData},{default:i.withCtx(()=>[Yb]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createElementVNode("div",$b,[i.createVNode(h,{modelValue:a.code,"onUpdate:modelValue":s[0]||(s[0]=w=>a.code=w)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),i.createVNode(d,{type:"text",onClick:a.editData},{default:i.withCtx(()=>[Xb]),_:1},8,["onClick"])],64)}var Jb=he(Ub,[["render",Zb]]),Qb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jb});const e0={name:"uploadHeadersOption",components:{ElDialog:Q.ElDialog,ElButton:Q.ElButton,CodeMirror:Gr},props:{modelValue:Object},setup(u,{emit:s}){const o=i.ref(""),a=i.ref(!1);return{code:o,codeDialog:a,editData:()=>{a.value=!0,i.nextTick(()=>{o.value=JSON.stringify(u.modelValue,null,"	")})},setData:()=>{try{const h=JSON.parse(o.value);s("update:modelValue",h)}catch(h){return Q.ElMessage.error("\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E")}a.value=!1}}}},t0={class:"form-design-json-box"},n0={class:"dialog-footer"},r0=i.createTextVNode("\u53D6 \u6D88"),o0=i.createTextVNode("\u786E\u5B9A"),i0=i.createTextVNode("\u7F16\u8F91\u6570\u636E");function l0(u,s,o,a,c,b){const h=i.resolveComponent("code-mirror"),d=i.resolveComponent("el-button"),v=i.resolveComponent("el-dialog");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(v,{title:"\u7F16\u8F91\u8BF7\u6C42\u5934\u90E8",modelValue:a.codeDialog,"onUpdate:modelValue":s[2]||(s[2]=w=>a.codeDialog=w),width:"750px"},{footer:i.withCtx(()=>[i.createElementVNode("div",n0,[i.createVNode(d,{onClick:s[1]||(s[1]=w=>a.codeDialog=!1)},{default:i.withCtx(()=>[r0]),_:1}),i.createVNode(d,{type:"primary",onClick:a.setData},{default:i.withCtx(()=>[o0]),_:1},8,["onClick"])])]),default:i.withCtx(()=>[i.createElementVNode("div",t0,[i.createVNode(h,{modelValue:a.code,"onUpdate:modelValue":s[0]||(s[0]=w=>a.code=w)},null,8,["modelValue"])])]),_:1},8,["modelValue"]),i.createVNode(d,{type:"text",onClick:a.editData},{default:i.withCtx(()=>[i0]),_:1},8,["onClick"])],64)}var a0=he(e0,[["render",l0]]),s0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:a0});const u0={name:"uploadNameOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function f0(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var c0=he(u0,[["render",f0]]),d0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c0});const h0={name:"uploadSizeOption",components:{ElInput:Q.ElInput,ElSelect:Q.ElSelect,ElOption:Q.ElOption},props:{modelValue:String},setup(u,{emit:s}){const o=i.ref(0),a=i.ref("KB"),c=()=>{o.value=parseFloat(u.modelValue),a.value=u.modelValue.substr(u.modelValue.length-2)};return i.watch(()=>u.modelValue,c),i.onMounted(c),{size:o,unit:a,update:()=>{s("update:modelValue",o.value+a.value)}}}};function p0(u,s,o,a,c,b){const h=i.resolveComponent("el-option"),d=i.resolveComponent("el-select"),v=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(v,{type:"text",modelValue:a.size,"onUpdate:modelValue":s[1]||(s[1]=w=>a.size=w),modelModifiers:{number:!0},onInput:a.update},{append:i.withCtx(()=>[i.createVNode(d,{modelValue:a.unit,"onUpdate:modelValue":s[0]||(s[0]=w=>a.unit=w),style:{width:"70px"},onChange:a.update},{default:i.withCtx(()=>[i.createVNode(h,{label:"KB",value:"KB"}),i.createVNode(h,{label:"MB",value:"MB"}),i.createVNode(h,{label:"GB",value:"GB"})]),_:1},8,["modelValue","onChange"])]),_:1},8,["modelValue","onInput"])}var m0=he(h0,[["render",p0]]),g0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m0});const v0={name:"uploadUrlOption",components:{ElInput:Q.ElInput},props:{modelValue:String},setup(){}};function y0(u,s,o,a,c,b){const h=i.resolveComponent("el-input");return i.openBlock(),i.createBlock(h,{type:"text","model-value":o.modelValue,onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d))},null,8,["model-value"])}var _0=he(v0,[["render",y0]]),b0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_0});const w0={name:"widthOption",components:{ElSlider:Q.ElSlider},props:{modelValue:String},setup(){}};function x0(u,s,o,a,c,b){const h=i.resolveComponent("el-slider");return i.openBlock(),i.createBlock(h,{"model-value":parseInt(o.modelValue),"onUpdate:modelValue":s[0]||(s[0]=d=>o.modelValue=d+"%"),onChange:s[1]||(s[1]=d=>u.$emit("update:modelValue",d+"%")),min:0,max:100,marks:{33:"1/3",50:"1/2",66:"2/3"}},null,8,["model-value"])}var k0=he(w0,[["render",x0]]),S0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k0});const E0={name:"interpolation",components:{ElAutocomplete:Q.ElAutocomplete},props:{modelValue:String},setup(){const u=i.ref([{value:"root",label:"\u6574\u4E2A\u8868\u5355\u7684\u503C"},{value:"options",label:"\u8BE5\u7EC4\u4EF6\u7684\u9009\u9879"}]);return{getInterpolation:da,querySearch:(o,a)=>{const c=o?u.value.filter(b=>b.value.toLowerCase().indexOf(o.toLowerCase())===0):u.value;a(c)}}}},C0={class:"value"},O0={class:"label"},T0=i.createElementVNode("span",{innerHTML:"{{"},null,-1),N0=i.createElementVNode("span",{innerHTML:"}}"},null,-1);function A0(u,s,o,a,c,b){const h=i.resolveComponent("el-autocomplete");return i.openBlock(),i.createBlock(h,{"popper-class":"form-setting-interpolation","model-value":a.getInterpolation(o.modelValue).trim(),onInput:s[0]||(s[0]=d=>u.$emit("update:modelValue",d.trim()?`{{${d.trim()}}}`:"{{  }}")),"fetch-suggestions":a.querySearch,placeholder:"\u8BF7\u8F93\u5165JS\u8868\u8FBE\u5F0F"},{default:i.withCtx(({item:d})=>[i.createElementVNode("div",C0,i.toDisplayString(d.value),1),i.createElementVNode("span",O0,i.toDisplayString(d.label),1)]),prefix:i.withCtx(()=>[T0]),suffix:i.withCtx(()=>[N0]),_:1},8,["model-value","fetch-suggestions"])}var L0=he(E0,[["render",A0]]);const B0={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},D0=[i.createElementVNode("path",{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1 192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9c-5.2-4.4-13.1-.7-13.1 6.1v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2c-1.8 1.5-2.9 3.8-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1z"},null,-1),i.createElementVNode("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"},null,-1)];function I0(u,s){return i.openBlock(),i.createElementBlock("svg",B0,D0)}const Xa={};Object.values({"./components/active-color.vue":xg,"./components/active-text.vue":Cg,"./components/allow-half.vue":Ag,"./components/background-color.vue":Ig,"./components/button-text.vue":Pg,"./components/clearable.vue":zg,"./components/collapse-tags.vue":$g,"./components/default-value.vue":Xg,"./components/disabled.vue":ev,"./components/expand-trigger.vue":lv,"./components/filterable.vue":fv,"./components/format.vue":pv,"./components/gutter.vue":yv,"./components/height.vue":xv,"./components/hidden.vue":Cv,"./components/hide-required-asterisk.vue":Av,"./components/inactive-color.vue":Iv,"./components/inactive-text.vue":Pv,"./components/inline.vue":zv,"./components/key.vue":$v,"./components/label-position.vue":Qv,"./components/label-width.vue":ry,"./components/label.vue":ay,"./components/limit.vue":cy,"./components/max.vue":my,"./components/maxlength.vue":_y,"./components/min.vue":ky,"./components/multiple-limit.vue":Oy,"./components/multiple.vue":Ly,"./components/no-data-text.vue":My,"./components/no-match-text.vue":Fy,"./components/options.vue":Yy,"./components/padding.vue":r_,"./components/pen-color.vue":a_,"./components/placeholder.vue":c_,"./components/prefix-icon.vue":m_,"./components/rows.vue":__,"./components/rules.vue":A_,"./components/shadow.vue":R_,"./components/show-alpha.vue":q_,"./components/show-file-list.vue":U_,"./components/show-input.vue":Y_,"./components/show-password.vue":Q_,"./components/show-stops.vue":rb,"./components/show-tooltip.vue":ab,"./components/show-word-limit.vue":cb,"./components/size.vue":yb,"./components/status-icon.vue":xb,"./components/suffix-icon.vue":Cb,"./components/tab-position.vue":Ib,"./components/tab-type.vue":jb,"./components/tip.vue":Wb,"./components/upload-data.vue":Qb,"./components/upload-headers.vue":s0,"./components/upload-name.vue":d0,"./components/upload-size.vue":g0,"./components/upload-url.vue":b0,"./components/width.vue":S0}).forEach(({default:u})=>Xa[u.name]=u);const M0={name:"formOption",components:Tt({ElRow:Q.ElRow,ElCol:Q.ElCol,ElFormItem:Q.ElFormItem,CodeIcon:I0,Interpolation:L0},Xa),props:{optionKey:String,optionValue:[String,Number,Boolean,Date,Object,Array]},setup(){const u=i.inject("updateSelectedFormOption"),s=i.inject("switchInterpolate");return{isPrimitive:xf,validateInterpolation:Ui,optionKeyLabels:Mh,updateOption:(o,a)=>u({key:o,value:a}),switchInterpolate:o=>s(o)}}};function V0(u,s,o,a,c,b){const h=i.resolveComponent("interpolation"),d=i.resolveComponent("el-form-item"),v=i.resolveComponent("el-col"),w=i.resolveComponent("CodeIcon"),S=i.resolveComponent("el-row");return i.openBlock(),i.createBlock(S,null,{default:i.withCtx(()=>[i.createVNode(v,{span:a.isPrimitive(o.optionValue)?22:24},{default:i.withCtx(()=>[i.createVNode(d,{label:a.optionKeyLabels[o.optionKey]},{default:i.withCtx(()=>[a.validateInterpolation(o.optionValue)?(i.openBlock(),i.createBlock(h,{key:0,"model-value":o.optionValue,"onUpdate:modelValue":s[0]||(s[0]=g=>a.updateOption(o.optionKey,g))},null,8,["model-value"])):(i.openBlock(),i.createBlock(i.resolveDynamicComponent(o.optionKey+"Option"),{key:1,"model-value":o.optionValue,"onUpdate:modelValue":s[1]||(s[1]=g=>a.updateOption(o.optionKey,g))},null,8,["model-value"]))]),_:1},8,["label"])]),_:1},8,["span"]),a.isPrimitive(o.optionValue)&&o.optionKey!=="defaultValue"?(i.openBlock(),i.createBlock(v,{key:0,span:2,class:"code-switch"},{default:i.withCtx(()=>[i.createVNode(w,{class:"svg-icon","class-name":a.validateInterpolation(o.optionValue)?"highlight":"",onClick:s[2]||(s[2]=g=>a.switchInterpolate(o.optionKey))},null,8,["class-name"])]),_:1})):i.createCommentVNode("",!0)]),_:1})}var R0=he(M0,[["render",V0]]);const P0={name:"formSetting",components:{ElForm:Q.ElForm,formOption:R0},props:{},setup(){const u=i.inject("state");return{selected:i.computed(()=>u.selected)}}},F0={class:"form-setting"};function j0(u,s,o,a,c,b){const h=i.resolveComponent("form-option"),d=i.resolveComponent("el-form");return i.openBlock(),i.createElementBlock("div",F0,[i.createVNode(d,{"label-position":"left","label-width":"120px",key:a.selected.uuid},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.selected.options,(v,w)=>(i.openBlock(),i.createElementBlock("div",{key:w},[w!=="defaultValue"||!a.selected.items?(i.openBlock(),i.createBlock(h,{key:0,"option-key":w,"option-value":v},null,8,["option-key","option-value"])):i.createCommentVNode("",!0)]))),128))]),_:1})])}var q0=he(P0,[["render",j0]]);const z0={components:{left:zh,operator:cp,FormBuilder:yg,FormSetting:q0},setup(){const u=i.reactive({formDesign:{},selected:{},cached:[],current:-1}),s=i.ref([]),o=i.computed(()=>s.value.reduce((y,A)=>y.concat(A.components),[])),a=i.computed(()=>c(u.formDesign.items,[])),c=(y,A)=>{for(let q=0;q<y.length;q++)A.push(y[q].uuid),y[q].items&&y[q].items.length&&c(y[q].items,A);return A},b=(y,A)=>{let q=!1;if(!A)return!1;for(let R=0;R<y.length;R++){if(y[R].uuid===A)return y[R];if(y[R].items&&y[R].items.length&&(q=b(y[R].items,A),!wf(q)))return q}return q},h=(y,A)=>{if(!A)return!1;for(let q=0;q<y.length;q++){if(y[q].uuid===A){let R=Ft(y[q]);return R.uuid=R.options.key=R.component.replaceAll("-","_")+"_"+Wo(8),kf(R,"items")&&(R.items=[]),y.splice(q+1,0,R),R}if(y[q].items&&y[q].items.length){const R=h(y[q].items,A);if(R)return R}}return!1},d=(y,A)=>{if(!A)return!1;for(let q=0;q<y.length;q++){if(y[q].uuid===A)return y.splice(q,1),!0;if(y[q].items&&y[q].items.length&&d(y[q].items,A))return!0}},v=y=>{u.selected=b([u.formDesign],y)||u.formDesign},w=({uuid:y,items:A})=>{const q=b([u.formDesign],y);q&&(q.items=A),k()},S=({uuid:y,key:A,value:q})=>{const R=b([u.formDesign],y);R&&(R.options[A]=q)},g=({key:y,value:A})=>{u.selected.options[y]=A,k()},m=y=>{const A=u.selected.options[y];u.selected.options[y]=Ui(A)?o.value.find(q=>q.name===u.selected.name).options[y]:"{{  }}",k()},p=y=>{const A=h(u.formDesign.items,y);u.selected=A,k()},C=y=>{d(u.formDesign.items,y),u.selected=u.formDesign,k()},E=()=>{u.cached.length&&u.current>0&&(u.current--,u.formDesign=Ft(u.cached[u.current]),v(u.selected.uuid))},O=()=>{u.cached.length&&u.current<u.cached.length-1&&(u.current++,u.formDesign=Ft(u.cached[u.current]),v(u.selected.uuid))},k=()=>{u.cached.length>=10&&u.cached.shift(),u.cached.splice(u.current+1,1/0,Ft(u.formDesign)),u.current=u.cached.length-1},x=y=>{u.formDesign=y||Ft(Ih),u.selected=b([u.formDesign],u.selected.uuid)||u.formDesign,k()},N=(y="\u57FA\u7840\u7EC4\u4EF6",A)=>{const q=s.value.findIndex(R=>R.name===y);q>-1?s.value[q].components=A:s.value.push({name:y,components:A})};return x(),i.provide("state",u),i.provide("uuids",a),i.provide("clear",x),i.provide("init",x),i.provide("setSelected",v),i.provide("updateFormItem",w),i.provide("updateFormOption",S),i.provide("updateSelectedFormOption",g),i.provide("switchInterpolate",m),i.provide("copyFormItem",p),i.provide("removeFormItem",C),i.provide("revoke",E),i.provide("forward",O),i.provide("groups",s),i.provide("register",N),{init:x,register:N,getJson(){return u.formDesign}}}},H0={class:"form-design"},W0={class:"left-container"},U0={class:"center-container"},$0={class:"right-container"};function K0(u,s,o,a,c,b){const h=i.resolveComponent("left"),d=i.resolveComponent("operator"),v=i.resolveComponent("form-builder"),w=i.resolveComponent("form-setting");return i.openBlock(),i.createElementBlock("div",H0,[i.createElementVNode("div",W0,[i.createVNode(h)]),i.createElementVNode("div",U0,[i.createVNode(d),i.createVNode(v)]),i.createElementVNode("div",$0,[i.createVNode(w)])])}var Za=he(z0,[["render",K0]]),_x="";function G0(u){u.component("FormDesign",Za),u.component("FormRender",Uo)}dt.FormDesign=Za,dt.FormRender=Uo,dt.default=G0,Object.defineProperty(dt,"__esModule",{value:!0}),dt[Symbol.toStringTag]="Module"});
